"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1534],{23262:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>p,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>u,toc:()=>m});var t=o(49214),r=o(62515),a=o(12968),l=o(22886);const s='import React, { useRef } from "react";\nimport {\n  XphTable,\n  TXphTableProps,\n  TXphTableActionType,\n  XphExtendCompPropsProvider,\n} from "xph-crud";\n\ninterface DataType {\n  key: React.Key;\n  name: string;\n  age: number;\n  address: string;\n  gender: "male" | "female";\n}\n\nconst ReactApp: React.FC = () => {\n  const props: TXphTableProps<DataType> = {\n    table: {\n      rowSelection: {\n        type: "checkbox",\n      },\n      fullHeight: true,\n      columns: [\n        {\n          title: "\u59d3\u540d",\n          dataIndex: "name",\n          key: "name",\n          cellFunc: [\n            {\n              component: "link",\n              componentProps: {\n                url: "https://www.taobao.com",\n              },\n            },\n          ],\n        },\n        {\n          title: "\u6027\u522b",\n          dataIndex: "gender",\n          key: "gender",\n          cellFunc: [\n            {\n              component: "link",\n              componentProps: {\n                url: "https://www.taobao.com",\n              },\n            },\n            {\n              component: "tag",\n              componentProps: {\n                enums: [\n                  {\n                    label: "\u7537",\n                    value: "male",\n                    config: {\n                      color: "info",\n                    },\n                  },\n                  {\n                    label: "\u5973",\n                    value: "female",\n                    config: {\n                      color: "primary",\n                    },\n                  },\n                ],\n              },\n            },\n          ],\n        },\n        {\n          title: "\u5730\u5740",\n          dataIndex: "address",\n          key: "address",\n        },\n        {\n          title: "\u5e74\u9f84",\n          dataIndex: "age",\n          key: "age",\n          cellFunc: ({ record }) => [\n            {\n              component: "link",\n              componentProps: {\n                url: "https://www.baidu.com",\n              },\n            },\n            {\n              component: "link",\n              componentProps: {\n                onClick: () => {\n                  window.open("https://www.jd.com/");\n                },\n              },\n            },\n          ],\n        },\n        {\n          title: "\u64cd\u4f5c",\n          dataIndex: "actions",\n          cellFunc: ({ record }) => [\n            {\n              component: "actions",\n              componentProps: {\n                type: "dashed",\n                max: 1,\n                items: [\n                  {\n                    key: "add",\n                    component: "Button",\n                    componentProps: {\n                      children: "\u6211\u662f\u6309\u94ae",\n                      onClick: (e) => {\n                        console.log(e);\n                      },\n                    },\n                  },\n                  {\n                    key: "more",\n                    component: "Dropdown",\n                    componentProps: {\n                      children: "\u6211\u662f\u4e0b\u62c9",\n                      dropDownItems: [\n                        {\n                          key: "1",\n                          label: "\u6211\u662f\u4e0b\u62c91",\n                        },\n                        {\n                          key: "2",\n                          label: "\u6211\u662f\u4e0b\u62c92",\n                        },\n                      ],\n                      onClick: (e) => {\n                        console.log(e);\n                      },\n                    },\n                  },\n                  {\n                    key: "render",\n                    render: <div>\u6211\u662f\u81ea\u5b9a\u4e49render</div>,\n                  },\n                ],\n              },\n            },\n          ],\n        },\n      ],\n      autoPagination: true,\n      api: async (params) => {\n        console.log(params);\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            resolve([\n              {\n                key: "1",\n                name: "\u80e1\u5f66\u658c",\n                age: 32,\n                address: "\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7",\n                gender: "male",\n              },\n              {\n                key: "2",\n                name: "\u674e\u96f7",\n                age: 28,\n                address: "\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88572\u53f7",\n                gender: "male",\n              },\n              {\n                key: "3",\n                name: "\u97e9\u6885\u6885",\n                age: 30,\n                address: "\u5357\u5c71\u533a\u5357\u5c71\u8def3\u53f7",\n                gender: "female",\n              },\n              {\n                key: "4",\n                name: "\u738b\u5c0f\u660e",\n                age: 25,\n                address: "\u5317\u57ce\u533a\u5317\u95e8\u5927\u88574\u53f7",\n                gender: "male",\n              },\n              {\n                key: "5",\n                name: "\u8d75\u4e3d\u9896",\n                age: 29,\n                address: "\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def5\u53f7",\n                gender: "female",\n              },\n              {\n                key: "6",\n                name: "\u9648\u6653",\n                age: 31,\n                address: "\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed6\u53f7",\n                gender: "male",\n              },\n              {\n                key: "7",\n                name: "\u5218\u4ea6\u83f2",\n                age: 27,\n                address: "\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88577\u53f7",\n                gender: "female",\n              },\n              {\n                key: "8",\n                name: "\u5f20\u4e09",\n                age: 33,\n                address: "\u5357\u5c71\u533a\u5357\u5c71\u8def8\u53f7",\n                gender: "male",\n              },\n              {\n                key: "9",\n                name: "\u674e\u56db",\n                age: 26,\n                address: "\u5317\u57ce\u533a\u5317\u95e8\u5927\u88579\u53f7",\n                gender: "male",\n              },\n              {\n                key: "10",\n                name: "\u738b\u4e94",\n                age: 35,\n                address: "\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def10\u53f7",\n                gender: "male",\n              },\n              {\n                key: "11",\n                name: "\u8d75\u516d",\n                age: 34,\n                address: "\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed11\u53f7",\n                gender: "male",\n              },\n              {\n                key: "12",\n                name: "\u5b59\u4e03",\n                age: 28,\n                address: "\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885712\u53f7",\n                gender: "female",\n              },\n              {\n                key: "13",\n                name: "\u5468\u516b",\n                age: 29,\n                address: "\u5357\u5c71\u533a\u5357\u5c71\u8def13\u53f7",\n                gender: "male",\n              },\n              {\n                key: "14",\n                name: "\u5434\u4e5d",\n                age: 31,\n                address: "\u5317\u57ce\u533a\u5317\u95e8\u5927\u885714\u53f7",\n                gender: "male",\n              },\n              {\n                key: "15",\n                name: "\u90d1\u5341",\n                age: 27,\n                address: "\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def15\u53f7",\n                gender: "male",\n              },\n              {\n                key: "16",\n                name: "\u4f55\u5341\u4e00",\n                age: 30,\n                address: "\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed16\u53f7",\n                gender: "female",\n              },\n              {\n                key: "17",\n                name: "\u51af\u5341\u4e8c",\n                age: 33,\n                address: "\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885717\u53f7",\n                gender: "male",\n              },\n              {\n                key: "18",\n                name: "\u891a\u5341\u4e09",\n                age: 32,\n                address: "\u5357\u5c71\u533a\u5357\u5c71\u8def18\u53f7",\n                gender: "female",\n              },\n              {\n                key: "19",\n                name: "\u536b\u5341\u56db",\n                age: 29,\n                address: "\u5317\u57ce\u533a\u5317\u95e8\u5927\u885719\u53f7",\n                gender: "male",\n              },\n              {\n                key: "20",\n                name: "\u848b\u5341\u4e94",\n                age: 28,\n                address: "\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def20\u53f7",\n                gender: "male",\n              },\n              {\n                key: "21",\n                name: "\u6c88\u5341\u516d",\n                age: 31,\n                address: "\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed21\u53f7",\n                gender: "male",\n              },\n              {\n                key: "22",\n                name: "\u97e9\u5341\u4e03",\n                age: 34,\n                address: "\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885722\u53f7",\n                gender: "female",\n              },\n              {\n                key: "23",\n                name: "\u6768\u5341\u516b",\n                age: 27,\n                address: "\u5357\u5c71\u533a\u5357\u5c71\u8def23\u53f7",\n                gender: "male",\n              },\n              {\n                key: "24",\n                name: "\u6731\u5341\u4e5d",\n                age: 30,\n                address: "\u5317\u57ce\u533a\u5317\u95e8\u5927\u885724\u53f7",\n                gender: "male",\n              },\n              {\n                key: "25",\n                name: "\u79e6\u4e8c\u5341",\n                age: 33,\n                address: "\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def25\u53f7",\n                gender: "male",\n              },\n              {\n                key: "26",\n                name: "\u5c24\u4e8c\u4e00",\n                age: 32,\n                address: "\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed26\u53f7",\n                gender: "female",\n              },\n              {\n                key: "27",\n                name: "\u8bb8\u4e8c\u4e8c",\n                age: 29,\n                address: "\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885727\u53f7",\n                gender: "male",\n              },\n              {\n                key: "28",\n                name: "\u4f55\u4e8c\u4e09",\n                age: 28,\n                address: "\u5357\u5c71\u533a\u5357\u5c71\u8def28\u53f7",\n                gender: "female",\n              },\n              {\n                key: "29",\n                name: "\u5415\u4e8c\u56db",\n                age: 31,\n                address: "\u5317\u57ce\u533a\u5317\u95e8\u5927\u885729\u53f7",\n                gender: "male",\n              },\n              {\n                key: "30",\n                name: "\u65bd\u4e8c\u4e94",\n                age: 34,\n                address: "\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def30\u53f7",\n                gender: "male",\n              },\n            ]);\n          }, 2000);\n        });\n      },\n      toolbar: {\n        type: "primary",\n        max: 2,\n        items: [\n          {\n            key: "add",\n            component: "Button",\n            componentProps: {\n              children: "\u6211\u662f\u6309\u94ae",\n              onClick: (e) => {\n                console.log(e);\n              },\n            },\n          },\n          {\n            key: "more",\n            component: "Dropdown",\n            componentProps: {\n              children: "\u6211\u662f\u4e0b\u62c9",\n              dropDownItems: [\n                {\n                  key: "1",\n                  label: "\u6211\u662f\u4e0b\u62c91",\n                },\n                {\n                  key: "2",\n                  label: "\u6211\u662f\u4e0b\u62c92",\n                },\n              ],\n              onClick: (e) => {\n                console.log(e);\n              },\n            },\n          },\n          {\n            key: "render",\n            render: <div>\u6211\u662f\u81ea\u5b9a\u4e49render</div>,\n          },\n        ],\n      },\n    },\n    searchForm: {\n      colProps: { span: 6 },\n      collapsible: true,\n      items: [\n        {\n          name: "Button",\n          label: "\u5f39\u7a97",\n          component: "Button",\n          componentProps: {\n            children: "\u70b9\u51fb\u6253\u5f00\u8868\u683c\u5f39\u7a97",\n            onClick: (e) => {\n              xphTableRef.current?.open({\n                data: {\n                  Input: "\u6211\u662fxiaopihong",\n                  Select: "Option1",\n                },\n                ok: async ({ values }) => {\n                  return new Promise((resolve) => {\n                    setTimeout(() => {\n                      resolve(values);\n                    }, 20000);\n                  });\n                },\n                cancel: async ({ values }) => {\n                  console.log(values);\n                },\n              });\n            },\n          },\n        },\n        {\n          name: "Input",\n          label: "Input",\n          component: "Input",\n          required: true,\n          initialValue: "Input",\n          componentProps: {\n            onChange: (e) => {\n              console.log(e);\n            },\n          },\n          ifShow: ({ model }) => {\n            return model.Input2 === "Input1";\n          },\n        },\n        {\n          name: "Input2",\n          label: "Input",\n          component: "Input",\n          required: true,\n          initialValue: "Input",\n          componentProps: {\n            onChange: (e) => {\n              console.log(e);\n            },\n          },\n        },\n        {\n          name: "Input3",\n          label: "Input",\n          component: "Input",\n          required: true,\n          initialValue: "Input",\n          componentProps: {\n            onChange: (e) => {\n              console.log(e);\n            },\n          },\n        },\n        {\n          name: "Input4",\n          label: "Input",\n          component: "Input",\n          required: true,\n          initialValue: "Input",\n          componentProps: {\n            onChange: (e) => {\n              console.log(e);\n            },\n          },\n        },\n        {\n          name: "Input5",\n          label: "Input",\n          component: "Input",\n          required: true,\n          initialValue: "Input",\n          componentProps: {\n            onChange: (e) => {\n              console.log(e);\n            },\n          },\n        },\n        {\n          name: "Input6",\n          label: "Input",\n          component: "Input",\n          required: true,\n          initialValue: "Input",\n          componentProps: {\n            onChange: (e) => {\n              console.log(e);\n            },\n          },\n        },\n      ],\n    },\n    crudFormDialog: {\n      title: "\u5f39\u7a97",\n      mask: true,\n      // \u5f39\u7a97\u6302\u8f7d\u7684\u5143\u7d20\n      getPopperContainer: () => document.getElementById("docs-comp-table-base"),\n      formProps: {\n        items: [\n          {\n            name: "Input",\n            label: "Input",\n            component: "Input",\n            required: true,\n            initialValue: "Input",\n            componentProps: {\n              onChange: (e) => {\n                console.log(e);\n              },\n            },\n            colProps: { span: 12 },\n          },\n          {\n            name: "Select",\n            label: "Select",\n            component: "Select",\n            required: true,\n            componentProps: {\n              options: [\n                {\n                  label: "Option1",\n                  value: "Option1",\n                },\n                {\n                  label: "Option2",\n                  value: "Option2",\n                },\n              ],\n              onChange: (e) => {\n                console.log(e);\n              },\n            },\n            colProps: { span: 12 },\n          },\n        ],\n      },\n    },\n  };\n\n  const xphTableRef = useRef<TXphTableActionType>(null);\n\n  return (\n    <div\n      id="docs-comp-table-base"\n      style={{ minWidth: "1400px", height: "600px", position: "relative" }}\n    >\n      <XphExtendCompPropsProvider\n        value={{ extendProps: { actions: { type: "link", max: 0 } } }}\n      >\n        <XphTable<DataType>\n          ref={xphTableRef}\n          {...props}\n          onRowSelectionChange={(selectRowKeys, selectedRows) => {\n            console.log(selectRowKeys, selectedRows);\n          }}\n        />\n      </XphExtendCompPropsProvider>\n    </div>\n  );\n};\n\nexport default ReactApp;\n';var i=o(34339);const c={},d="XphTable \u53ef\u914d\u7f6e\u5217\u8868",u={id:"comp/table/base",title:"XphTable \u53ef\u914d\u7f6e\u5217\u8868",description:"\u57fa\u672c\u4f7f\u7528",source:"@site/docs/comp/table/base.mdx",sourceDirName:"comp/table",slug:"/comp/table/base",permalink:"/xph-crud/docs/comp/table/base",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"comp",previous:{title:"XphForm \u53ef\u914d\u7f6e\u8868\u5355",permalink:"/xph-crud/docs/comp/form/base"},next:{title:"XphActions \u53ef\u914d\u7f6e\u64cd\u4f5c\u7ec4",permalink:"/xph-crud/docs/comp/actions/base"}},p={},m=[{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:2},{value:"Typescript \u6848\u4f8b",id:"typescript-\u6848\u4f8b",level:2},{value:"\u5728 CodeSandbox \u5c1d\u8bd5",id:"\u5728-codesandbox-\u5c1d\u8bd5",level:2}];function g(e){const n={a:"a",h1:"h1",h2:"h2",img:"img",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"xphtable-\u53ef\u914d\u7f6e\u5217\u8868",children:"XphTable \u53ef\u914d\u7f6e\u5217\u8868"}),"\n",(0,t.jsx)(n.h2,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,t.jsx)(i.A,{language:"tsx",children:s}),"\n",(0,t.jsx)(n.h2,{id:"typescript-\u6848\u4f8b",children:"Typescript \u6848\u4f8b"}),"\n",(0,t.jsx)("div",{id:"docs-comp-table-base",style:{position:"relative"},children:(0,t.jsx)("pre",{children:(0,t.jsx)(l.A,{children:(0,t.jsx)(a.XI,{})})})}),"\n",(0,t.jsx)(n.h2,{id:"\u5728-codesandbox-\u5c1d\u8bd5",children:"\u5728 CodeSandbox \u5c1d\u8bd5"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://codesandbox.io/p/github/XiaoPiHong/xph-crud/codesandbox?embed=1&file=%2Fexamples%2Froutes%2Findex.tsx",children:(0,t.jsx)(n.img,{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit XiaoPiHong/xph-crud/codesandbox"})})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},22886:(e,n,o)=>{o.d(n,{A:()=>a});var t=o(91507),r=(o(48318),o(49214));const a=e=>{let{children:n,height:o="unset"}=e;return(0,r.jsx)(t.A,{fallback:e=>{let{error:n,tryAgain:o}=e;return console.log(n),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["This component crashed because of error: ",n.message,"."]}),(0,r.jsx)("button",{onClick:o,children:"Try Again!"})]})},children:(0,r.jsx)("div",{className:"demo-wrapper",style:{height:o},children:n})})}},12968:(e,n,o)=>{o.d(n,{En:()=>mo,lG:()=>ho,YX:()=>Co,N4:()=>bo,Fk:()=>Ao,tJ:()=>yo,p1:()=>ko,lV:()=>uo,XI:()=>po});var t=o(48318),r=o(46643),a=o(36780),l=o.n(a);const s=[];for(let Ro=0;Ro<=15;Ro++)s[Ro]=Ro.toString(16);function i(){let e="";for(let n=1;n<=36;n++)e+=9===n||14===n||19===n||24===n?"-":15===n?4:20===n?s[4*Math.random()|8]:s[16*Math.random()|0];return e.replace(/-/g,"")}const c=(e,n)=>{const o=n.split(".").filter(Boolean);let t=e;for(const r of o){if(void 0===t[r])return;t=t[r]}return o.length?t:void 0},d=(e,n)=>{const o={};for(const[t,r]of Object.entries(e))o[t]=c(n,r);return o};var u=o(62412);function p(e){return"component"in e}var m=o(78924);var g=o(11067),h=o(49214);const f=e=>{const{componentProps:n}=e;return(0,h.jsx)(g.Ay,{...(()=>{const{...e}=n;return e})()})};var b=o(23535),x=o(35996);const y=e=>{const{componentProps:n}=e,o=(()=>{const{dropDownItems:e,onClick:o,...t}=n;return t})();return(0,h.jsx)(b.A,{disabled:o.disabled,menu:{items:n?.dropDownItems||[],onClick:n?.onClick},trigger:["click"],children:(0,h.jsx)("div",{children:(0,h.jsxs)(g.Ay,{...o,children:[o.children,(0,h.jsx)(x.A,{})]})})})},P=new Map;function k(){const{setExtendActionsComp:e}=A();e(P);return{renderContent:(0,t.useCallback)(((e,n)=>{const o=p(e),t=function(e){return"render"in e}(e);if(o){const o=P.get(e.component);return(0,h.jsx)(o,{...e},n)}return t?(0,h.jsx)("div",{children:e.render},n):null}),[])}}P.set("Button",f),P.set("Dropdown",y);const v=(0,t.createContext)({}),C=e=>{const{extendProps:n,extendComp:o}=e.value;return(0,h.jsx)(v.Provider,{value:{extendProps:n,extendComp:o},children:e.children})},w=()=>(0,t.useContext)(v),A=()=>{const{extendProps:e,extendComp:n}=w();return{extendActionsProps:e?.actions,setExtendActionsComp:e=>{const o=n?.actions;o&&Object.keys(o).forEach((n=>{e.set(n,o[n])}))}}};var R=o(97740),j=o(6017);const{useToken:S}=R.A,I=e=>{let{items:n,actionsProps:o}=e;const{type:t,disabled:r}=o,{renderContent:a}=k(),{token:l}=S(),s={backgroundColor:l.colorBgElevated,borderRadius:l.borderRadiusLG,boxShadow:l.boxShadowSecondary};return(0,h.jsx)(b.A,{disabled:r,menu:{items:[]},dropdownRender:()=>(0,h.jsx)("div",{style:s,children:(0,h.jsx)(j.A,{style:{padding:8},children:n?.map(((e,n)=>a(e,n)))})}),trigger:["click"],children:(0,h.jsxs)(g.Ay,{type:t,children:["\u66f4\u591a",(0,h.jsx)(x.A,{})]})})},F=e=>{const{actionsProps:n}=function(e){const{inherit:n=!0}=e,{extendActionsProps:o}=A();return{actionsProps:{...(0,u.A)((0,u.A)({items:[],max:10},n?o:{}),e)}}}(e),{showActionItems:o,ellipsisActionItems:r}=function(e){const{type:n,disabled:o,items:t,max:r}=e,a=t.map((e=>{const t={...e};return p(t)&&(t.componentProps={type:n,disabled:o,...t.componentProps}),t})),l=(0,m.A)(r)&&r>=0;return{showActionItems:a.slice(0,l?r:a.length),ellipsisActionItems:a.slice(l?r:a.length)}}(n),{renderContent:a}=k();return n?.render?n.render:(0,h.jsxs)(t.Fragment,{children:[o?.map(((e,n)=>a(e,n))),r?.length?(0,h.jsx)(I,{actionsProps:n,items:r}):null]})};const D=e=>{const{extendDialogProps:n}=T(),o={width:700,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",getPopperContainer:()=>document.body};return{dialogProps:{...(0,u.A)((0,u.A)(o,n),e)},baseDialogProps:o}},T=()=>{const{extendProps:e}=w();return{extendDialogProps:e?.dialog}},M=(e,n,o)=>{const{onOpen:t,onClose:r}=e;return{open:async()=>{t&&t(),await n(!0)},close:()=>{n(!1),o(!1),r&&r()}}},z=e=>{let{initWidth:n,initHeight:o,setDialogChangeRecord:r}=e;const[a,l]=(0,t.useState)(n.current),[s,i]=(0,t.useState)(o.current);return{dialogWidth:a,dialogHeight:s,setDialogSize:e=>{let{width:n,height:o}=e;r({width:a,height:s}),void 0!==n&&l(n),void 0!==o&&i(o)}}},V=e=>{let{initLeft:n,initTop:o,setDialogChangeRecord:r}=e;const[a,l]=(0,t.useState)(n.current),[s,i]=(0,t.useState)(o.current);return{dialogLeft:a,dialogTop:s,setDialogPosition:e=>{let{left:n,top:o}=e;r({left:a,top:s}),void 0!==n&&l(n),void 0!==o&&i(o)}}},E=e=>{let{container:n,dialogHeaderRef:o,dialogRef:r,setDialogPosition:a}=e;const l=(0,t.useRef)(0),s=(0,t.useRef)(0),i=(0,t.useCallback)((e=>{const{offsetLeft:n,offsetTop:o}=r.current;l.current=e.clientX-n,s.current=e.clientY-o,document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}),[]),c=(0,t.useCallback)((e=>{const o=r.current,{translateX:t,translateY:i}=(e=>{const n=e.getBoundingClientRect();return{translateX:-.5*n.width,translateY:-.5*n.height}})(o);let c=e.clientX-l.current,d=e.clientY-s.current;const u=-t,p=-i,m=n.scrollWidth-o.offsetWidth-t,g=n.scrollHeight-o.offsetHeight-i;c<u&&(c=u),c>m&&(c=m),d<p&&(d=p),d>g&&(d=g),a({left:c,top:d})}),[]),d=(0,t.useCallback)((()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d)}),[]);return(0,t.useEffect)((()=>{const e=o.current;return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}}),[]),{}},B=e=>{let{container:n,dialogChangeRecord:o,close:r,setDialogSize:a,setDialogPosition:l}=e;const[s,i]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1);return{minimizeVisible:s,maximizeVisible:c,onMinimize:()=>{i(!0)},onMaximize:e=>{if("minimize"===e&&i(!1),"maximize"===e){const{scrollWidth:e,scrollHeight:o}=n,t=Math.floor(e),r=Math.floor(o),s=Math.floor(e/2),i=Math.floor(o/2);a({width:t,height:r}),l({top:i,left:s}),d(!0)}},onRecovery:()=>{const{top:e,left:n,width:t,height:r}=o.current;a({width:t,height:r}),l({top:e,left:n}),d(!1)},onClose:()=>{i(!1),d(!1),r()}}},H=e=>{let{visible:n,container:o,dialogHeight:r,dialogRef:a,dialogHeaderRef:l,dialogFooterRef:s}=e;const[i,c]=(0,t.useState)("unset");return(0,t.useEffect)((()=>{if(n){const e=0,n=0,{clientHeight:t}=o,r=l.current?.offsetHeight,i=s.current?.offsetHeight,d=a.current?.getBoundingClientRect().height;let u=d-r-i-(e+n);const p=t-r-i-(e+n);u>p&&(u=p),c(u)}else c("unset")}),[n,r]),{contentMaxHeight:i,setContentMaxHeight:c}},N=()=>{const[e,n]=(0,t.useState)(160),[o,r]=(0,t.useState)(60);return{minimizeTop:o,minimizeLeft:e,minimizeRef:(0,t.useRef)(null),setMinimizePosition:e=>{let{left:o,top:t}=e;void 0!==o&&n(o),void 0!==t&&r(t)}}},W=e=>{let{visible:n,dialogRef:o,minimizeRef:r,container:a}=e;const l={xphDialog:"xph--dialog",xphDialogWrapper:"xph--dialog--wrapper",xphMinimizeDialog:"xph--dialog--minimize"},s=(e,n)=>{console.log("\u89e6\u53d1\u63d2\u5165"),e.querySelector(`.${l.xphDialogWrapper}`).style.opacity="unset",e.querySelector(`.${l.xphMinimizeDialog}`).style.opacity="unset",n.querySelector(`.${l.xphDialogWrapper}`).style.opacity=.7,n.querySelector(`.${l.xphMinimizeDialog}`).style.opacity=.7;const o=document.createElement("div");o.style.visibility="hidden",n.parentNode.insertBefore(o,n.nextSibling),n.parentNode.insertBefore(e,o),n.parentNode.removeChild(o)},i=e=>{const n=a.querySelectorAll(`.${l.xphDialog}`),t=n[n.length-1];if(o.current?.parentNode!==t&&(s(o.current?.parentNode,t),e)){const n=e.target;"INPUT"===n.tagName&&n.focus&&n.focus()}};return(0,t.useEffect)((()=>(o.current?.addEventListener("mousedown",i,!1),r.current?.addEventListener("mousedown",i,!1),()=>{o.current?.removeEventListener("mousedown",i,!1),r.current?.removeEventListener("mousedown",i,!1)})),[]),(0,t.useEffect)((()=>{if(n)i();else{const e=Array.from(a.querySelectorAll(`.${l.xphDialog}`)),n=e.map((e=>e.querySelector(`.${l.xphDialogWrapper}`))).filter((e=>null!==e)),o=e.map((e=>e.querySelector(`.${l.xphMinimizeDialog}`))).filter((e=>null!==e)),t=n.filter((e=>"flex"===e.style.display)),r=o.filter((e=>"flex"===e.style.display));if(t.length)return void s(t[t.length-1].parentNode,e[e.length-1]);if(r.length)return void s(r[r.length-1].parentNode,e[e.length-1])}}),[n]),{dialogTopShowClassConfig:l}},Y=e=>{let{initWidth:n,initHeight:o,initLeft:r,initTop:a,curPropsWidth:l,curPropsHeight:s,setDialogSize:i,setDialogPosition:c}=e;(0,t.useEffect)((()=>{l!==n.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u5bbd\u5ea6"),i({width:l})),s!==o.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u9ad8\u5ea6"),i({height:s}))}),[l,s]),(0,t.useEffect)((()=>{l!==n.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u5de6\u8fb9\u4f4d\u7f6e"),c({left:r.current})),s!==o.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u4e0a\u8fb9\u4f4d\u7f6e"),c({top:a.current}))}),[l,s])},L=()=>{const e=(0,t.useRef)({left:0,top:0,width:0,height:0});return{dialogChangeRecord:e,setDialogChangeRecord:n=>{let{left:o,top:t,width:r,height:a}=n;const{left:l,top:s,width:i,height:c}=e.current;e.current={left:o??l,top:t??s,width:r??i,height:a??c}}}},_=e=>{let{container:n,dialogRef:o,minResizeRecord:r,setDialogSize:a,setDialogPosition:l}=e;const s=(0,t.useCallback)((()=>(0,h.jsx)("div",{ref:i,style:{position:"absolute",border:"4px dashed #ccc",display:"none"}})),[]),i=(0,t.useRef)(null),c=(0,t.useRef)(),d=(0,t.useRef)(!1),[u,p]=(0,t.useState)(!1),m=(0,t.useRef)(0),g=(0,t.useRef)(0),f=(e,n)=>{d.current=!0,p(!0),c.current=n;const{clientX:t,clientY:r}=e;m.current=t,g.current=r;const a=parseFloat(o.current.style.left),l=parseFloat(o.current.style.top),s=o.current.offsetWidth,u=o.current.offsetHeight;i.current.style.display="block",i.current.style.left=a-.5*s+"px",i.current.style.top=l-.5*u+"px",i.current.style.width=`${s}px`,i.current.style.height=`${u}px`},b=()=>{if(d.current){d.current=!1,p(!1),i.current.style.display="none";const{left:e,top:n,width:o,height:t}=i.current.style,r=parseFloat(e)+.5*parseFloat(o),s=parseFloat(n)+.5*parseFloat(t),c=parseFloat(o),u=parseFloat(t);l({left:r,top:s}),a({width:c,height:u})}},x=(0,t.useCallback)((e=>{(e=>{if(d.current){const{clientX:o,clientY:t}=e,a=o-m.current,l=t-g.current,s=parseFloat(i.current.style.left),d=parseFloat(i.current.style.top),u=i.current.offsetWidth,p=i.current.offsetHeight,h=r.current.width,f=r.current.height,b=n.scrollWidth,x=n.scrollHeight;let y=u,P=p,k=s,v=d;switch(c.current){case"lt":y-=a,P-=l,v+=l,k+=a,y<h&&(y=u,k=s),P<f&&(P=p,v=d),k<0&&(k=0,y=u),v<0&&(v=0,P=p);break;case"rt":y+=a,P-=l,v+=l,k=s,y<h&&(y=u),P<f&&(P=p,v=d),y>b-k&&(y=b-k),v<0&&(v=0,P=p);break;case"rb":y+=a,P+=l,v=d,k=s,y<h&&(y=u),P<f&&(P=p),y>b-k&&(y=b-k),P>x-v&&(P=x-v);break;case"lb":y-=a,P+=l,v=d,k+=a,y<h&&(y=u,k=s),P<f&&(P=p),k<0&&(k=0,y=u),P>x-v&&(P=x-v)}i.current.style.left=`${k}px`,i.current.style.top=`${v}px`,i.current.style.width=`${y}px`,i.current.style.height=`${P}px`,m.current=o,g.current=t}})(e)}),[]),y=(0,t.useCallback)((()=>{b()}),[]),P=(0,t.useCallback)((()=>{b()}),[]);return(0,t.useEffect)((()=>(document.body.addEventListener("mousemove",x),document.body.addEventListener("mouseup",y),document.body.addEventListener("mouseleave",P),()=>{document.body.removeEventListener("mousemove",x),document.body.removeEventListener("mouseup",y),document.body.removeEventListener("mouseleave",P)})),[]),{resizingState:u,DashedBox:s,onMousedownResizeLt:e=>f(e,"lt"),onMousedownResizeRt:e=>f(e,"rt"),onMousedownResizeRb:e=>f(e,"rb"),onMousedownResizeLb:e=>f(e,"lb")}},$=e=>{let{visible:n,container:o,dialogRef:r,dialogProps:a,baseDialogProps:l}=e;const[s,i]=(0,t.useState)(0),c=()=>{i((e=>e+1))};(0,t.useEffect)((()=>{const e=new ResizeObserver(c);return e.observe(o),()=>{e.unobserve(o),e.disconnect()}}),[o]);const{width:d,height:u}=l,{width:p,height:m}=a,g=p||d,h=m||u,{clientWidth:f,clientHeight:b}=o,x=g?g>f?f:g:0,y=h?h>b?b:h:"unset",P=(0,t.useRef)(x),k=(0,t.useRef)(y),v=(0,t.useRef)(Math.floor(f/2)),C=(0,t.useRef)(Math.floor(b/2)),w=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(P.current=x,k.current=y,v.current=Math.floor(f/2),C.current=Math.floor(b/2),n){const e=r.current.offsetWidth,n=r.current.offsetHeight;w.current={width:e,height:n}}}),[s]),{parentResizeRecord:s,initLeft:v,initTop:C,initWidth:P,initHeight:k,curPropsWidth:x,curPropsHeight:y,minResizeRecord:w}},q=e=>{let{visible:n,initWidth:o,initHeight:r,initLeft:a,initTop:l,minResizeRecord:s,dialogRef:i,setDialogSize:c,setDialogPosition:d}=e;(0,t.useEffect)((()=>{n||(c({width:o.current,height:r.current}),d({left:a.current,top:l.current}))}),[n]),(0,t.useEffect)((()=>{if(n){const e=i.current.offsetWidth,n=i.current.offsetHeight;s.current={width:e,height:n}}else s.current=null}),[n])},O=(e,n)=>{const[o,r]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{n?(0,m.A)(e)&&r(!0):r(!1)}),[e,n]),{showMask:o}},X="minimize-windows_sYFu",G="minimize-windows-title_KECT",U="minimize-windows-operate_zPqC";var K=o(92966),J=o(79633),Z=o(94654),Q=o(6292);const ee=e=>{let{onClick:n}=e;return(0,h.jsx)(g.Ay,{type:"link",onClick:n,icon:(0,h.jsx)(K.A,{style:{fontSize:"22px",cursor:"pointer"}})})},ne=e=>{let{onClick:n}=e;return(0,h.jsx)(g.Ay,{type:"link",onClick:n,icon:(0,h.jsx)(J.A,{style:{fontSize:"22px",cursor:"pointer"}})})},oe=e=>{let{onClick:n}=e;return(0,h.jsx)(g.Ay,{type:"link",onClick:n,icon:(0,h.jsx)(Z.A,{style:{fontSize:"22px",cursor:"pointer"}})})},te=e=>{let{onClick:n,disabled:o}=e;return(0,h.jsx)(g.Ay,{type:"link",onClick:n,disabled:o,icon:(0,h.jsx)(Q.A,{style:{fontSize:"22px",cursor:"pointer"}})})},{useToken:re}=R.A,ae=(0,t.forwardRef)(((e,n)=>{let{title:o,left:t,top:r,visible:a,loading:l,onMaximize:s,onClosesquare:i,className:c}=e;const{token:d}=re(),u={borderRadius:d.borderRadiusLG};return(0,h.jsxs)("div",{style:{display:a?"flex":"none",left:t,top:r,...u},className:`${X} ${c}`,ref:n,children:[(0,h.jsx)("div",{className:G,title:o,children:o}),(0,h.jsxs)("div",{className:U,children:[(0,h.jsx)(ne,{onClick:s}),(0,h.jsx)(te,{onClick:i,disabled:l})]})]})})),le="xph-dialog-mask_h6K7",se="xph-dialog-wrapper_YAvO",ie="dialog__header_dtup",ce="dialog__header-btns_HSE7",de="dialog__main_G3dF",ue="dialog__footer_wRZ7",pe="dialog__resize_WDp7",me="dialog__resize-lt_LvyF",ge="dialog__resize-rt_dIvs",he="dialog__resize-rb_RR2c",fe="dialog__resize-lb_luQ8";var be=o(84162),xe=o(58138);const{useToken:ye}=R.A,Pe=(0,t.forwardRef)(((e,n)=>{console.log("render Dialog==============================================");const{token:o}=ye(),r={borderRadius:o.borderRadiusLG},{children:a,baseDialogProps:l,mask:s,title:i,renderFooter:c,renderTitle:d,getPopperContainer:u}=e,p=u(),[m,g]=(e=>{const[n,o]=(0,t.useState)(e),r=(0,t.useRef)(null);return(0,t.useEffect)((()=>{r.current&&(r.current(),r.current=null)}),[n]),[n,e=>new Promise(((n,t)=>{o((o=>{const t="function"==typeof e?e(o):e;return r.current=n,t}))}))]})(!1),[f,b]=(0,t.useState)(!1),{open:x,close:y}=M(e,g,b),{footerActions:P}=function(e,n){const{okText:o,cancelText:t,onCancel:r,onOk:a,okProps:l,cancelProps:s}=e;return{footerActions:{disabled:n,max:2,items:[{component:"Button",componentProps:{...s,children:t,onClick:r}},{component:"Button",componentProps:{type:"primary",loading:n,...l,children:o,onClick:a}}]}}}(e,f),k=(0,t.useRef)(null),v=(0,t.useRef)(null),C=(0,t.useRef)(null),w=(0,t.useRef)(null),{parentResizeRecord:A,initLeft:R,initTop:j,initWidth:S,initHeight:I,curPropsWidth:D,curPropsHeight:T,minResizeRecord:X}=$({visible:m,container:p,dialogRef:k,dialogProps:e,baseDialogProps:l}),{dialogChangeRecord:G,setDialogChangeRecord:U}=L(),{dialogWidth:K,dialogHeight:J,setDialogSize:Z}=z({initWidth:S,initHeight:I,setDialogChangeRecord:U}),{dialogLeft:Q,dialogTop:re,setDialogPosition:Pe}=V({initLeft:R,initTop:j,setDialogChangeRecord:U}),{contentMaxHeight:ke}=H({visible:m,container:p,dialogHeight:J,dialogRef:k,dialogHeaderRef:v,dialogFooterRef:w}),{showMask:ve}=O(ke,m),{minimizeLeft:Ce,minimizeTop:we,minimizeRef:Ae,setMinimizePosition:Re}=N(),{minimizeVisible:je,maximizeVisible:Se,onMaximize:Ie,onMinimize:Fe,onRecovery:De,onClose:Te}=B({container:p,dialogChangeRecord:G,close:y,setDialogSize:Z,setDialogPosition:Pe}),Me=(0,be.A)((()=>{Z({width:S.current,height:I.current}),Pe({left:R.current,top:j.current})}),300);(0,t.useEffect)((()=>{Me()}),[A]),q({visible:m,initWidth:S,initHeight:I,initLeft:R,initTop:j,minResizeRecord:X,dialogRef:k,setDialogSize:Z,setDialogPosition:Pe}),Y({initWidth:S,initHeight:I,initLeft:R,initTop:j,curPropsWidth:D,curPropsHeight:T,setDialogSize:Z,setDialogPosition:Pe}),E({container:p,dialogHeaderRef:v,dialogRef:k,setDialogPosition:Pe});E({container:p,dialogHeaderRef:Ae,dialogRef:Ae,setDialogPosition:Re});const{dialogTopShowClassConfig:ze}=W({visible:m,container:p,dialogRef:k,minimizeRef:Ae}),{resizingState:Ve,DashedBox:Ee,onMousedownResizeLt:Be,onMousedownResizeRt:He,onMousedownResizeRb:Ne,onMousedownResizeLb:We}=_({container:p,dialogRef:k,minResizeRecord:X,setDialogSize:Z,setDialogPosition:Pe});return(0,t.useImperativeHandle)(n,(()=>({open:x,close:Te,setLoading:b}))),(0,h.jsxs)("div",{className:ze.xphDialog,children:[s&&ve?(0,h.jsx)("div",{className:le,style:{width:p.scrollWidth,height:p.scrollHeight}}):null,(0,h.jsx)(ae,{visible:je,className:`${ze.xphMinimizeDialog}`,loading:f,ref:Ae,left:Ce,top:we,title:i,onMaximize:()=>Ie("minimize"),onClosesquare:Te}),(0,h.jsxs)("div",{ref:k,className:`${se} ${ze.xphDialogWrapper}`,style:{display:m&&!je?"flex":"none",left:Q,top:re,width:K,height:J,opacity:Ve?.2:"unset",...r},children:[(0,h.jsxs)("div",{ref:v,className:ie,children:[(0,h.jsx)("div",{children:d?d():i}),(0,h.jsxs)("div",{className:ce,children:[(0,h.jsx)(ee,{onClick:Fe}),Se?(0,h.jsx)(oe,{onClick:De}):(0,h.jsx)(ne,{onClick:()=>Ie("maximize")}),(0,h.jsx)(te,{onClick:Te,disabled:f})]})]}),(0,h.jsx)("div",{ref:C,className:de,style:{maxHeight:ke},children:(0,h.jsx)(xe.A,{spinning:f,children:m?a:null})}),c?(0,h.jsx)("div",{ref:w,children:c({loading:f})}):(0,h.jsx)("div",{ref:w,className:ue,children:(0,h.jsx)(F,{...P})}),(0,h.jsx)("div",{className:`${pe} ${me}`,onMouseDown:Be}),(0,h.jsx)("div",{className:`${pe} ${ge}`,onMouseDown:He}),(0,h.jsx)("div",{className:`${pe} ${he}`,onMouseDown:Ne}),(0,h.jsx)("div",{className:`${pe} ${fe}`,onMouseDown:We})]}),(0,h.jsx)(Ee,{})]})})),ke=(e,n)=>{const{children:o,...t}=e,{baseDialogProps:r,dialogProps:a}=D(t),{getPopperContainer:l}=a;return console.log("render XphDialog=============================================="),(0,h.jsx)(we,{getPopperContainer:l,children:(0,h.jsx)(Pe,{...a,baseDialogProps:r,ref:n,children:o})})},ve=(0,t.forwardRef)(ke);var Ce=o(91627);const we=e=>{let{children:n,getPopperContainer:o}=e;const[r,a]=t.useState(null);return(0,t.useEffect)((()=>{const e=o();a(e)}),[]),r?Ce.createPortal(n,r):null};var Ae=o(80681),Re=o(76154);function je(e){return"component"in e}function Se(e){return"render"in e}var Ie=o(91085),Fe=o(7361),De=o(95810),Te=o(52606),Me=o(51976);const ze=["DatePicker","MonthPicker","RangePicker","WeekPicker","TimePicker"],Ve=e=>{let{formProps:n}=e;const{items:o}=n;return{formItems:o.map((e=>({...e})))}},Ee=(e,n)=>{const o=e=>(Object.keys(e).forEach((n=>{Object.defineProperty(e,n,{value:e[n],writable:!1,enumerable:!0,configurable:!1})})),e),r={};e.items.forEach((e=>{r[e.name]=e.initialValue}));const a=(e=>{const{show:n,ifShow:o,required:t,disabled:r,componentProps:a}=e;return!!((0,Fe.A)(n)||(0,Fe.A)(o)||(0,Fe.A)(t)||(0,Fe.A)(r)||(0,Fe.A)(a)||Se(e))})(n),l=a?Ae.A.useWatch((e=>o(e))):null;return{rewritingModel:(0,t.useMemo)((()=>l||o(r)),[l]),isusewatch:a}},Be=()=>{const e=(0,t.useRef)(null);const n={getFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.getFieldsValue(...arguments)},setFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.setFieldsValue(...arguments)},resetFields:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.resetFields(...arguments)},validator:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.validator(...arguments)},scrollToField:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.scrollToField(...arguments)}};return(0,t.useEffect)((()=>(console.log("ParentComponent is mounted====================================="),()=>{console.log("ParentComponent is unmounted===================================="),e.current=null})),[]),[function(n){e.current=n},n]};var He=o(87609),Ne=o(5264),We=o(42922),Ye=o(55672);const Le=(e,n,o)=>{const t=e.filter((e=>e.name));return{handleFormatRenderValues:e=>{const n={},o=[];return t.forEach((t=>{const r=Reflect.has(e,t.name),a=function(e,n){void 0===n&&(n={});const o=/^\[(.+)\]$/;if(o.test(e)){const t=e.match(o);if(t&&t[1]){const e=t[1].split(",");if(!e.length)return;const o=[];return e.forEach(((e,t)=>{(0,He.A)(o,t,n[e.trim()])})),o.filter(Boolean).length?o:void 0}}}(t.name,e)||function(e,n){void 0===n&&(n={});const o=/^\{(.+)\}$/;if(o.test(e)){const t=e.match(o);if(t&&t[1]){const e=t[1].split(",");if(!e.length)return;const o={};return e.forEach((e=>{(0,He.A)(o,e.trim(),n[e.trim()])})),Object.values(o).filter(Boolean).length?o:void 0}}}(t.name,e);if(r||a){const r=a||e[t.name];if(je(t))if(ze.includes(t.component)){if((0,Ne.A)(r)){const e=[];for(const n of r)e.push(n?l()(n):null);n[t.name]=e}else n[t.name]=r?l()(r):null;o.push(t.name)}else n[t.name]=r,o.push(t.name);Se(t)&&(n[t.name]=r,o.push(t.name))}})),{renderValues:n,validKeys:o}},handleFormatReturnValues:e=>{if(!(0,We.A)(e))return{};const t={};for(const r of Object.entries(e)){let[,e]=r;const[a]=r;if(!a||(0,Ne.A)(e)&&0===e.length||(0,Fe.A)(e))continue;const{transformDateFunc:l}=n,s=o.current?.get(a)?.current?.componentProps,i=s?.valueFormat;if((0,We.A)(e)){const n=e;n.format&&(e=l?.(n,i))}(0,Ne.A)(e)&&e[0]?.format&&e[1]?.format&&(e=e.map((e=>l?.(e,i)))),(0,Ye.A)(e)&&(e=""===e?void 0:e.trim()),t[a]=e}return function(e,n){const o=n.fieldMapToTime;if(!o||!Array.isArray(o))return e;for(const[t,[r,a],s="YYYY-MM-DD"]of o){if(!t||!r||!a)continue;if(!e[t]){Reflect.deleteProperty(e,t);continue}const[n,o]=e[t],[i,c]=Array.isArray(s)?s:[s,s];e[r]=l()(n).format(i),e[a]=l()(o).format(c),Reflect.deleteProperty(e,t)}return e}(t,n)}}},_e=(e,n,o)=>({getFieldsValue:function(){return o(e.getFieldsValue(...arguments))},setFieldsValue:o=>{const{renderValues:t,validKeys:r}=n(o);e.setFieldsValue(t),e.validateFields(r)},resetFields:async()=>e.resetFields(),validator:async n=>e.validateFields(n).then((e=>o(e))),scrollToField:async(n,o)=>e.scrollToField(n,o)}),$e=e=>{const{extendFormProps:n}=Xe();return{formProps:{...(0,u.A)((0,u.A)({collapseNum:5,colon:!1,items:[],labelWrap:!0,transformDateFunc:(e,n)=>e?.format?.(n||"YYYY-MM-DD HH:mm:ss")??e,fieldMapToTime:[]},n),e)}}},qe=e=>{const{immediate:n=!0,params:o,api:r,apiCallback:a,isUseWatch:l}=e,s=(0,t.useRef)(!0),i=(0,t.useRef)(o),c=()=>{r&&(0,Fe.A)(r)&&(o?r(o).then(a):r().then(a),i.current=o)};return(0,t.useEffect)((()=>{s.current&&(n&&c(),s.current=!1),!s.current&&l&&((0,Te.A)(o,i.current)||n&&c())}),[o]),{getApiData:c}},Oe=(e,n)=>{const{collapsible:o,collapseNum:r}=e,a=(0,t.useRef)();return{collapsible:o,collapseNum:r,collapseRef:a,onClickCollapseToTrue:()=>{n.current?.forEach((e=>{if(e.current){const{itemIndex:n}=e.current;n>=r&&o&&e.current.setItemCollapse(!0)}}))},onClickCollapseToFalse:()=>{n.current?.forEach((e=>{if(e.current){const{itemCollapse:n}=e.current;n&&e.current.setItemCollapse(!1)}}))}}},Xe=()=>{const{extendProps:e,extendComp:n}=w();return{extendFormProps:e?.form,setExtendFormComp:e=>{const o=n?.form;o&&Object.keys(o).forEach((n=>{e.set(n,o[n])}))}}};var Ge=o(68040),Ue=o(18726),Ke=o(16872),Je=o(19843),Ze=o(89876),Qe=o(50908),en=o(51358),nn=o(32899),on=o(46604),tn=o(33360),rn=o(77869),an=o(10179),ln=o(62330);const sn=e=>{console.log("render ApiSelect");const{api:n,params:o,immediate:r=!0,isusewatch:a,onDropdownVisibleChange:l}=e,s="true"===a,[i,c]=t.useState([]),{getApiData:d}=qe({api:n,immediate:r,params:o,apiCallback:c,isUseWatch:s});return(0,h.jsx)(Ue.A,{...(()=>{const{api:n,params:o,immediate:t,isusewatch:r,...a}=e;return a})(),options:i,onDropdownVisibleChange:e=>{e&&!r&&d(),l&&l(e)}})},cn=e=>{console.log("render ApiTreeSelect");const{api:n,params:o,immediate:r=!0,isusewatch:a,onDropdownVisibleChange:l}=e,s="true"===a,[i,c]=t.useState([]),{getApiData:d}=qe({api:n,immediate:r,params:o,apiCallback:c,isUseWatch:s});return(0,h.jsx)(Je.A,{...(()=>{const{api:n,params:o,immediate:t,isusewatch:r,...a}=e;return a})(),treeData:i,onDropdownVisibleChange:e=>{e&&!r&&d(),l&&l(e)}})},dn=e=>{console.log("render ApiTransfer");const{api:n,params:o,isusewatch:r}=e,a="true"===r,[l,s]=t.useState([]),{getApiData:i}=qe({api:n,params:o,apiCallback:s,isUseWatch:a});return(0,h.jsx)(Ze.A,{...(()=>{const{api:n,params:o,isusewatch:t,...r}=e;return r})(),dataSource:l})},un=e=>{console.log("render ApiAutoComplete");const{api:n,params:o,immediate:r=!0,isusewatch:a,onDropdownVisibleChange:l}=e,s="true"===a,[i,c]=t.useState([]),{getApiData:d}=qe({api:n,immediate:r,params:o,apiCallback:c,isUseWatch:s});return(0,h.jsx)(an.A,{...(()=>{const{api:n,params:o,immediate:t,isusewatch:r,...a}=e;return a})(),options:i,onDropdownVisibleChange:e=>{e&&!r&&d(),l&&l(e)}})};var pn=o(28172);const mn={String:"String","String[]":"String[]","File[]":"File[]",FileList:"FileList"},gn=e=>{console.log("render AutoUpload"),console.log(i());const n="",{api:o,maxCount:r=1,maxSize:a=2,listType:l="picture-card",openCrop:s=!1,data:c,returnType:d=mn.String,value:u=n,onChange:p}=e,m=(0,t.useRef)(!0),g=(0,t.useRef)(0),f=(0,t.useRef)([]),[b,x]=(0,t.useState)([]),y=e=>{f.current=e,x([...e])},P=e=>{s?(pn.Ay.error("\u6682\u65f6\u4e0d\u652f\u6301\u88c1\u526a\u529f\u80fd\uff0c\u540e\u7eed\u517c\u5bb9\u3002\u3002\u3002\u3002"),k({file:e})):k({file:e})},k=e=>{var n;o?o({file:e.file,...c}).then((e=>{y([...f.current,...e])})).finally((()=>{g.current--})):(Object.assign(e.file,{status:"done",url:URL.createObjectURL(new Blob([e.file],{type:(n=e.file.type,["application/json","application/javascript","text/plain","text/html","text/css"].includes(n)?`${n}; charset=utf-8`:n)}))}),y([...f.current,e.file]),g.current--)},v=e=>({uid:(e=>{const n=f.current.find((n=>n.url===e));return n?n.uid:i()})(e),name:(e=>{const n=e.split("/"),o=n[n.length-1],[t]=o.split("?");return t})(e),url:e,status:"done"}),C=()=>{switch(d){case mn.String:return b.map((e=>e.url)).join(",");case mn["String[]"]:return b.map((e=>e.url));case mn["File[]"]:case mn.FileList:return[...b]}};return(0,t.useEffect)((()=>{const e=C();if((0,Te.A)(e,u))return;let n=[];switch(d){case mn.String:n=(u||"").split(",").filter((e=>e)).map((e=>v(e)));break;case mn["String[]"]:n=(u||[]).map((e=>v(e)));break;case mn["File[]"]:case mn.FileList:n=(u||[]).map((e=>e))}y(n)}),[u]),(0,t.useEffect)((()=>{if(m.current)return void(m.current=!1);const e=C();p?.(e)}),[b]),(0,h.jsx)(ln.A,{listType:l,...(()=>{const{api:n,maxCount:o,maxSize:t,openCrop:r,beforeUpload:a,fileList:l,returnType:s,...i}=e;return i})(),fileList:b,beforeUpload:e=>{const n=e.size/1024/1024<a;n||pn.Ay.error(`\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7:${a}M, \u8bf7\u91cd\u8bd5`);const o=f.current.length+g.current<r;o||pn.Ay.error(`\u6587\u4ef6\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7${r}\u4e2a`),n&&o&&g.current++;return n&&o&&P(e),ln.A.LIST_IGNORE},onChange:e=>{const{file:n,fileList:o}=e,{status:t}=n;if("removed"===t)y([...o])},children:"\u4e0a\u4f20"})},hn=new Map;hn.set("Input",Ge.A),hn.set("ApiSelect",sn),hn.set("Select",Ue.A),hn.set("InputNumber",Ke.A),hn.set("ApiTreeSelect",cn),hn.set("TreeSelect",Je.A),hn.set("ApiTransfer",dn),hn.set("Transfer",Ze.A),hn.set("Switch",Qe.A),hn.set("Button",g.Ay),hn.set("Radio",en.Ay),hn.set("RadioGroup",en.Ay.Group),hn.set("Checkbox",nn.A),hn.set("CheckboxGroup",nn.A.Group),hn.set("Cascader",on.A),hn.set("TimePicker",tn.A),hn.set("DatePicker",rn.A),hn.set("MonthPicker",rn.A.MonthPicker),hn.set("WeekPicker",rn.A.WeekPicker),hn.set("RangePicker",rn.A.RangePicker),hn.set("InputPassword",Ge.A.Password),hn.set("InputTextArea",Ge.A.TextArea),hn.set("ApiAutoComplete",un),hn.set("AutoComplete",an.A),hn.set("Upload",ln.A),hn.set("AutoUpload",gn);var fn=o(83528);const bn="form-item-force_b_AE",xn="form-item-hidden_XN1B",yn=(0,t.forwardRef)(((e,n)=>{let{itemIndex:o,itemProps:r,methods:a,formProps:l,collapseRef:s}=e;console.log("render FormItem",r.name);const{rewritingModel:i,isusewatch:c}=Ee(l,r),{isIfShow:d,isShow:u}=((e,n,o)=>{const r=(0,t.useRef)(null),a=(0,t.useRef)(null),{handleCollapseChangeFalse:l}=o.current||{},{show:s,ifShow:i}=e;let c=!0,d=!0;if((0,Ie.A)(s)&&(c=s),(0,Ie.A)(i)&&(d=i),(0,Fe.A)(s)){c=s({model:n});const e=(0,De.A)(r.current)?c:r.current;(0,t.useEffect)((()=>{(0,Te.A)(c,e)||l&&l()}),[n])}if((0,Fe.A)(i)){d=i({model:n});const e=(0,De.A)(a.current)?d:a.current;(0,t.useEffect)((()=>{(0,Te.A)(d,e)||l&&l()}),[n])}return r.current=c,a.current=d,{isShow:c,isIfShow:d}})(r,i,s),{colProps:p}=((e,n)=>{const{colProps:o={}}=e,{colProps:t={span:24}}=n;return{colProps:{...t,...o}}})(r,l),{componentProps:m}=((e,n)=>{const o={},{componentProps:t={}}=e;return(0,Fe.A)(t)&&Object.assign(o,t({model:n})),Object.assign(o,t),{componentProps:o}})(r,i),{rules:g}=(e=>{let{item:n,model:o,isShow:t,componentProps:r}=e;const{rules:a=[],label:l,required:s}=n;let i=a;const c=je(n),d=c?((u=n.component).includes("Input")||u.includes("Complete")?"\u8bf7\u8f93\u5165":u.includes("Picker")||u.includes("Select")||u.includes("Cascader")||u.includes("Checkbox")||u.includes("Radio")||u.includes("Switch")?"\u8bf7\u9009\u62e9":"")+l:"";var u;function p(e,n){const o=e.message||d;return void 0===n||(0,Me.A)(n)||Array.isArray(n)&&0===n.length||"string"==typeof n&&""===n.trim()||"object"==typeof n&&Reflect.has(n,"checked")&&Reflect.has(n,"halfChecked")&&Array.isArray(n.checked)&&Array.isArray(n.halfChecked)&&0===n.checked.length&&0===n.halfChecked.length?Promise.reject(o):Promise.resolve()}const m=(0,Fe.A)(s)?s({model:o}):s;m&&(i&&0!==i.length?-1===i.findIndex((e=>Reflect.has(e,"required")))&&i.push({required:m,validator:p}):i=[{required:m,validator:p}]);const g=i.findIndex((e=>Reflect.has(e,"required")&&!Reflect.has(e,"validator")));if(-1!==g){const e=i[g];if(t||(e.required=!1),c){const{component:o}=n;Reflect.has(e,"type")||(e.type="InputNumber"===o?"number":"string"),e.message=e.message||d,(o.includes("Input")||o.includes("Textarea"))&&(e.whitespace=!0),function(e,n,o){["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(n)?e.type=o?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(n)?e.type="array":["InputNumber"].includes(n)&&(e.type="number")}(e,o,r.valueFormat)}}const h=i.findIndex((e=>e.max));return-1===h||i[h].validator||(i[h].message=i[h].message||`\u5b57\u7b26\u6570\u5e94\u5c0f\u4e8e${i[h].max}\u4f4d`),{rules:i}})({item:r,model:i,isShow:u,componentProps:m}),{disabled:f}=((e,n,o)=>{const{disabled:t}=e;let r=!1;const{disabled:a}=n;return(0,Fe.A)(a)&&(r=a({model:o})),(0,Ie.A)(a)&&(r=a),{disabled:Reflect.has(n,"disabled")?r:t}})(l,r,i),{itemCollapse:b,setItemCollapse:x}=((e,n)=>{const{collapsible:o,collapseNum:r}=e,[a,l]=(0,t.useState)(!!(o&&n>=r));return{itemCollapse:a,setItemCollapse:l}})(l,o),{name:y,label:P,wrapperCol:k,labelCol:v,valuePropName:C,initialValue:w,forceRow:A}=r;(0,t.useImperativeHandle)(n,(()=>({itemIndex:o,componentProps:m,itemCollapse:b,setItemCollapse:x})));const{setExtendFormComp:R}=Xe();R(hn);const j=je(r),S=Se(r);return(0,h.jsxs)(t.Fragment,{children:[A?(0,h.jsx)("div",{className:bn}):null,d?(0,h.jsx)(fn.A,{...p,className:u&&!b?void 0:xn,children:(0,h.jsx)(Ae.A.Item,{name:y,label:P,rules:g,wrapperCol:k,labelCol:v,valuePropName:C,initialValue:w,children:(()=>{if(j){const e=hn.get(r.component);return(0,h.jsx)(e,{...m,disabled:f,isusewatch:c.toString()})}return S?r.render({model:i,name:y,disabled:f,methods:a,componentProps:m}):null})()})}):null]})}));var Pn=o(81378),kn=o(70463);const vn="collapse-wrapper_pYhf",Cn=(0,t.forwardRef)(((e,n)=>{let{collapsible:o,onClickExpand:r,onClickFold:a}=e;const[l,s]=(0,t.useState)(o),i=(0,t.useMemo)((()=>l),[l]),c=()=>{r(),s(!1)};return(0,t.useImperativeHandle)(n,(()=>({handleCollapseChangeFalse:c}))),(0,h.jsx)("div",{className:vn,children:i?(0,h.jsx)(g.Ay,{onClick:c,type:"link",icon:(0,h.jsx)(Pn.A,{}),children:"\u5c55\u5f00"}):(0,h.jsx)(g.Ay,{onClick:()=>{a(),s(!0)},type:"link",icon:(0,h.jsx)(kn.A,{}),children:"\u6298\u53e0"})})})),wn="group-wrapper_MO6x",An=e=>{let{formProps:n}=e;const{renderActions:o}=n;return(0,h.jsx)("div",{className:wn,children:o?.()})},Rn="xph-form-action_NeAH",jn=(e,n)=>{console.log("render Form");const[o]=Ae.A.useForm(),{formProps:r}=$e(e),{formItems:a}=Ve({formProps:r}),l=(0,t.useRef)(new Map),{collapsible:s,collapseNum:i,collapseRef:c,onClickCollapseToFalse:d,onClickCollapseToTrue:u}=Oe(r,l),{handleFormatRenderValues:p,handleFormatReturnValues:m}=Le(a,r,l),{setFieldsValue:g,getFieldsValue:f,resetFields:b,validator:x,scrollToField:y}=_e(o,p,m),P={setFieldsValue:g,getFieldsValue:f,resetFields:b,validator:x,scrollToField:y};return(0,t.useImperativeHandle)(n,(()=>({...P}))),(0,t.useEffect)((()=>(console.log("Form is mounted======================="),r.register&&r.register(P),()=>{console.log("Form is unmounted========================="),l.current.clear()})),[]),(0,h.jsxs)(Ae.A,{form:o,...(()=>{const{layout:e,wrapperCol:n,labelCol:o,colon:t,disabled:a,labelWrap:l,labelAlign:s,scrollToFirstError:i,size:c}=r;return{layout:e,wrapperCol:n,labelCol:o,colon:t,disabled:a,labelWrap:l,labelAlign:s,scrollToFirstError:i,size:c}})(),children:[(0,h.jsx)(Re.A,{children:a.map(((e,n)=>(l.current.has(e.name)||l.current.set(e.name,t.createRef()),(0,h.jsx)(yn,{ref:l.current.get(e.name),itemIndex:n,itemProps:e,formProps:r,methods:P,collapseRef:c},n))))}),(0,h.jsxs)("div",{className:Rn,children:[(0,h.jsx)(An,{formProps:r}),s?(0,h.jsx)(Cn,{ref:c,collapsible:a.length>i,onClickExpand:d,onClickFold:u}):null]})]})},Sn=(0,t.forwardRef)(jn);var In=o(17230),Fn=o(82109);const Dn=(0,t.memo)(Sn),Tn=(0,t.forwardRef)(((e,n)=>{const{renderActions:o,showSearch:r,tableRef:a}=e,[l,s]=(0,t.useState)(!1),i=(0,t.useRef)(null),c=()=>{const{reloadData:e}=a.current;e()},d=()=>{const{resetData:e}=a.current;e()},u=(0,t.useCallback)((()=>(0,h.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,h.jsx)("div",{style:{flex:1,width:0},children:o?.()}),r&&(0,h.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,h.jsx)(g.Ay,{type:"primary",icon:(0,h.jsx)(In.A,{}),onClick:c,children:"\u641c\u7d22"}),(0,h.jsx)(g.Ay,{icon:(0,h.jsx)(Fn.A,{}),onClick:d,children:"\u91cd\u7f6e"})]})]})),[r,o]);return(0,t.useImperativeHandle)(n,(()=>({setFormLoading:s,...i.current}))),(0,h.jsx)(xe.A,{spinning:l,children:(0,h.jsx)(Dn,{ref:i,...(()=>{const{renderActions:n,...o}=e;return{...o,renderActions:u}})()})})})),Mn=(0,t.memo)(Sn),zn=(e,n)=>{const o=(0,t.useRef)(null),r=(0,t.useRef)(null),{formProps:a}=e,l=(()=>{const{formProps:n,...o}=e;return o})(),s=(0,t.useRef)(null);return(0,t.useImperativeHandle)(n,(()=>({open:e=>{const{renderFooter:n}=l;return!n&&(s.current=e),o.current.open().then((()=>{r.current.setFieldsValue(e.data||{})}))},close:function(){return o.current.close(...arguments)},setLoading:function(){return o.current.setLoading(...arguments)},getFieldsValue:function(){return r.current.getFieldsValue(...arguments)},setFieldsValue:function(){return r.current.setFieldsValue(...arguments)},resetFields:function(){return r.current.resetFields(...arguments)},validator:function(){return r.current.validator(...arguments)},scrollToField:function(){return r.current.scrollToField(...arguments)}}))),(0,h.jsx)(ve,{...l,ref:o,onOk:async()=>{const{onOk:e,renderFooter:n}=l;if(o.current.setLoading(!0),!n){const{ok:n,data:t}=s.current;if(n)return void r.current.validator().then((async e=>{!1!==await n({values:r.current.getFieldsValue()}).finally((()=>{o.current.setLoading(!1)}))&&(o.current.close(),s.current=null)}));e&&r.current.validator().then((async n=>{!1!==await e({values:n,data:t}).finally((()=>{o.current.setLoading(!1)}))&&(o.current.close(),s.current=null)})),o.current.close(),s.current=null}},onCancel:async()=>{const{onCancel:e,renderFooter:n}=l;if(!n){const{cancel:n,data:t}=s.current;if(n){if(!1===await n({values:r.current.getFieldsValue()}))return;return o.current.close(),void(s.current=null)}if(e){if(!1===await e({values:r.current.getFieldsValue(!0),data:t}))return;o.current.close(),s.current=null}o.current.close(),s.current=null}},children:(0,h.jsx)(Mn,{...a,ref:r})})},Vn=(0,t.forwardRef)(zn);const{useToken:En}=R.A,Bn=(e,n,o)=>{const{curComponentProps:t,cellFuncProps:r}=n,{url:a,onClick:l}=t,{token:s}=En(),i={color:s.colorLink,cursor:"pointer"};return(0,h.jsx)(e,{...o,mainClick:()=>{o.mainClick&&o.mainClick(),l?l():a&&window.open(a,"_blank")},mainStyle:Object.assign(i,o?.mainStyle||{})})},Hn="cellfunc-actions_X5w1",Nn=(e,n,o)=>{const{curComponentProps:t,cellFuncProps:r}=n;return(0,h.jsx)("div",{className:Hn,children:(0,h.jsx)(F,{...t})})},{useToken:Wn}=R.A,Yn={0:{color:"orange",backgroundColor:"unset",border:"1px solid orange"},1:{color:"blue",backgroundColor:"unset",border:"1px solid blue"},2:{color:"green",backgroundColor:"unset",border:"1px solid green"},3:{color:"red",backgroundColor:"unset",border:"1px solid red"},4:{color:"purple",backgroundColor:"unset",border:"1px solid purple"},5:{color:"pink",backgroundColor:"unset",border:"1px solid pink"},6:{color:"cyan",backgroundColor:"unset",border:"1px solid cyan"},7:{color:"magenta",backgroundColor:"unset",border:"1px solid magenta"},8:{color:"yellow",backgroundColor:"unset",border:"1px solid yellow"},9:{color:"teal",backgroundColor:"unset",border:"1px solid teal"},10:{color:"brown",backgroundColor:"unset",border:"1px solid brown"},11:{color:"gray",backgroundColor:"unset",border:"1px solid gray"},12:{color:"olive",backgroundColor:"unset",border:"1px solid olive"},13:{color:"navy",backgroundColor:"unset",border:"1px solid navy"},14:{color:"lime",backgroundColor:"unset",border:"1px solid lime"},15:{color:"maroon",backgroundColor:"unset",border:"1px solid maroon"}},Ln={link:{Comp:Bn},actions:{Comp:Nn},tag:{Comp:(e,n,o)=>{const{curComponentProps:t,cellFuncProps:{renderPrams:{text:r,column:a}}}=n,{token:l}=Wn(),{enums:s}=t,i={primary:{color:l.colorPrimary,backgroundColor:l.colorPrimaryBg,border:`1px solid ${l.colorPrimary}`},success:{color:l.colorSuccess,backgroundColor:l.colorSuccessBg,border:`1px solid ${l.colorSuccess}`},warning:{color:l.colorWarning,backgroundColor:l.colorWarningBg,border:`1px solid ${l.colorWarning}`},info:{color:l.colorInfo,backgroundColor:l.colorInfoBg,border:`1px solid ${l.colorInfo}`},error:{color:l.colorError,backgroundColor:l.colorErrorBg,border:`1px solid ${l.colorError}`}},c=((e,n,o)=>e.reduce(((e,t,r)=>{const a=`${n.dataIndex}${t.value}`,l=t.config?.color,s=l?o[l]??{color:l,backgroundColor:"unset",border:`1px solid ${l}`}:Yn[r]||{};return e[a]={color:s.color,backgroundColor:s.backgroundColor,border:s.border},e}),{}))(s,a,i),d=c[`${a.dataIndex}${r}`]||{},u={padding:"0 8px",borderRadius:l.borderRadiusLG,fontSize:l.fontSizeSM,...d};return(0,h.jsx)(e,{...o,mainHandleText:()=>{const e=s.find((e=>e.value===r))?.label;return e},mainStyle:Object.assign(o?.mainStyle||{},u)})}}},_n=(e,n)=>{const{renderPrams:{text:o}}=e,t=n?.mainHandleText?.();return(0,h.jsx)("span",{onClick:n?.mainClick,style:n?.mainStyle,children:t??o})},$n=e=>{const{setExtendTableCellComp:n}=Kn();n(Ln);const{dslConfig:o}=e;let t=_n.bind(null,e),r=0;for(;r<o.length;){const n=r++,a=Ln[o[n].component];a&&(t=a.Comp.bind(null,t,{curComponentProps:o[n].componentProps||{},cellFuncProps:e}))}return(0,h.jsx)(t,{})};function qn(e){return e.map((e=>{let n={...e};if("cellFunc"in n){const{cellFunc:e,...o}=n;n={...o,render:function(){const n=(0,Fe.A)(e);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const[l,s,i]=r,c={text:l,record:s,index:i,column:JSON.parse(JSON.stringify(o))},d=n?e(c):e;return(0,h.jsx)($n,{dslConfig:d,renderPrams:c})}}}return function(e){return"children"in e}(n)&&n.children&&Array.isArray(n.children)&&(n.children=qn(n.children)),n}))}function On(e){const{columns:n}=e.table,o=qn(n);return console.log(o),{columns:o}}const Xn=e=>{const{extendTableProps:n}=Kn();return{tableProps:{...(0,u.A)((0,u.A)({table:{columns:[],fullHeight:!1,autoRequest:!0,pagination:{pageSize:20,total:0,showTotal:e=>`\u5171\uff1a${e} \u6761`,current:1,pageSizeOptions:[10,20,50,100],showSizeChanger:!0,showQuickJumper:!0},requestFields:{pageSize:"pageSize",current:"current"},responseFields:{current:"current",list:"data",total:"total"}},crudFormDialog:void 0,searchForm:{showSearch:!0,items:[]}},n),e)}}};function Gn(e,n){const{api:o,formatDataSource:r,autoPagination:a,onChange:l,requestFields:s,responseFields:i}=e.table,c=e.onPaginationChange,{pagination:u,lastPaginationState:p}=function(e){const{pagination:n,autoPagination:o}=e.table,[r,a]=(0,t.useState)(n),l=(0,t.useRef)(n),s=(0,t.useMemo)((()=>r&&(!0===o||void 0===o)||!1),[r]),i={model:r,update:e=>{if(!l.current)return;const n={...l.current,...e};a(n),l.current=n},show:s};return{pagination:i,lastPaginationState:l}}(e),[m,g]=(0,t.useState)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),h=(0,t.useRef)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),f={model:m,update:e=>{const o={...h.current,...e};g(o),h.current=o,n.current?.setFormLoading(o.loading)}},b=async e=>{let{searchFormParams:n,paginationParams:t}=e;const a={...n};return o(a).then((e=>{const{list:n}=d(i,e),o=r?r(n):n;f.update({selection:[],dataSource:o}),u.update({current:1,total:n.length})})).finally((()=>{f.update({loading:!1})}))},x=async e=>{let{searchFormParams:n,paginationParams:t}=e;if(f.update({loading:!0,selection:[]}),o){switch(!!p.current){case!0:return!0===a?(async e=>{let{searchFormParams:n,paginationParams:t}=e;const a={...n};if(t){const{current:e,pageSize:n}=t;u.update({current:e,pageSize:n});const o=(e-1)*n,r=o+n,a=h.current.backupsDataSource?.slice(o,r);return f.update({loading:!1,selection:[],dataSource:a})}return o(a).then((e=>{let n=r?r(e):e;const o=[...n],t=0+p.current.pageSize;n=n.slice(0,t),f.update({selection:[],dataSource:n,backupsDataSource:o}),u.update({current:1,total:e.length})})).finally((()=>{f.update({loading:!1})}))})({searchFormParams:n,paginationParams:t}):!1===a?b({searchFormParams:n,paginationParams:t}):(async e=>{let{searchFormParams:n,paginationParams:t}=e;const a={...n,...{[`${s.current}`]:p.current.current,[`${s.pageSize}`]:p.current.pageSize,...t?{[`${s.current}`]:t.current,[`${s.pageSize}`]:t.pageSize}:{}}};return o(a).then((e=>{const{current:n,list:o,total:t}=d(i,e);f.update({dataSource:r?r(o):o}),u.update({total:t,current:n})})).finally((()=>{f.update({loading:!1})}))})({searchFormParams:n,paginationParams:t});case!1:return b({searchFormParams:n,paginationParams:t})}}return f.update({loading:!1})};return{table:f,pagination:u,firstGetTableData:async()=>{(0,t.useEffect)((()=>{const{autoRequest:o}=e.table,{validator:t}=n.current;o&&t().then((e=>{x({searchFormParams:e})}))}),[])},onPaginationChange:(e,o)=>{const{validator:t}=n.current;t().then((n=>{x({searchFormParams:n,paginationParams:{current:e,pageSize:o}})})),c&&c(e,o)},onAllChange:async function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];const[t,r,a,s]=n,i=[];for(let l=0;l<i.length&&!i[l]();l++);l&&l(r,a,s)},resetData:async()=>{const{resetFields:e,validator:o}=n.current;return e().then((async()=>{const e=await o();return x({searchFormParams:e})}))},resetAllData:async()=>{const{resetFields:e,validator:o}=n.current;return e().then((async()=>{const e={};if(p.current){const{pageSize:n}=p.current;void 0===a&&(e.paginationParams={current:1,pageSize:n})}return e.searchFormParams=await o(),x(e)}))},reloadData:async()=>{const{validator:e}=n.current;return e().then((e=>x({searchFormParams:e})))}}}const Un=(e,n)=>{const{onRowSelectionChange:o}=e,{rowSelection:t}=e.table,r=()=>{if((0,Ye.A)(t))return{type:t,onChange:(e,t,r)=>{n.update({selection:t}),o&&o(e,t)}};if((0,We.A)(t)){const{onChange:e}=t;return{...t,onChange:(t,r,a)=>{n.update({selection:r}),e&&e(t,r,a),o&&o(t,r)}}}return t};return{rowSelection:r(),getNewRowSelection:r}};const Kn=()=>{const{extendProps:e,extendComp:n}=w();return{extendTableProps:e?.table,setExtendTableCellComp:e=>{const o=n?.tableCellFunc;o&&Object.keys(o).forEach((n=>{const t=o[n];e[n]={Comp:t}}))}}},Jn=e=>{let{crudFormDialog:n}=e;return{crudFormDialogRef:(0,t.useRef)(null),crudFormProps:n}};var Zn=o(83003),Qn=o(43237);const eo="main-container_p10j",no="container__toolbar_NGmT",oo="container__table_tc6f",to="container__pagination_pVSm",ro=(0,t.forwardRef)(((e,n)=>{let{tableProps:o,searchFormRef:r,fullHeight:a}=e;const{columns:l}=On(o),s=(0,t.useRef)(null),{table:i,pagination:c,firstGetTableData:d,onPaginationChange:u,onAllChange:p,resetData:m,resetAllData:g,reloadData:f}=Gn(o,r),{rowSelection:b}=Un(o,i),{divRef:x,scroll:y}=function(e,n){const{scroll:o,virtual:r}=e.table,a=(0,t.useRef)(null),[l,s]=(0,t.useState)(0),[i,c]=(0,t.useState)(0);(0,t.useEffect)((()=>{const e=()=>{a.current&&(s(a.current.offsetWidth),c(a.current.offsetHeight))};e();const n=new ResizeObserver(e);return a.current&&n.observe(a.current),()=>{n&&a.current&&n.unobserve(a.current)}}),[]);const d=(0,t.useMemo)((()=>n?r?{x:l,y:i-70,...o}:{x:"max-content",y:i-70,...o}:{x:"max-content",...o}),[i]);return{divRef:a,scroll:d}}(o,a),{getTopToolbarBindProps:P}=function(e,n){const{toolbar:o}=e.table;return{getTopToolbarBindProps:()=>{if((0,Fe.A)(o)){const e=o({loading:n.model.loading,selection:n.model.selection});return{...e,disabled:n.model.loading||e.disabled}}return{...o,disabled:n.model.loading||o?.disabled}}}}(o,i);return d(),(0,t.useImperativeHandle)(n,(()=>({resetData:m,resetAllData:g,reloadData:f,...s.current}))),console.log("render Table"),(0,h.jsxs)("div",{className:a?eo:void 0,children:[(0,h.jsx)("div",{className:no,children:(0,h.jsx)(F,{...P()})}),(0,h.jsx)("div",{ref:x,className:a?oo:void 0,children:(0,h.jsx)(Zn.A,{ref:s,...(()=>{const{autoRequest:e,api:n,formatDataSource:t,autoPagination:r,columns:a,scroll:l,pagination:s,rowSelection:i,onChange:c,...d}=o.table;return d})(),loading:i.model.loading,columns:l,dataSource:i.model.dataSource,pagination:!1,rowSelection:b,scroll:y,onChange:p})}),c.show?(0,h.jsx)("div",{className:to,children:(0,h.jsx)(Qn.A,{disabled:i.model.loading,...c.model,onChange:u})}):null]})})),ao=ro,lo="xph-table-full-wrapper_rusE",so="full-wrapper__table_IFHV",io=(e,n)=>{const{tableProps:o}=Xn(e),r=(0,t.useRef)(null),{searchFormRef:a,searchFormProps:l}=function(e){let{searchForm:n}=e;return{searchFormRef:(0,t.useRef)(null),searchFormProps:n}}(o),{crudFormDialogRef:s,crudFormProps:i}=Jn(o);let{fullHeight:c}=o.table;const{virtual:d}=o.table;return d&&(c=!0),(0,t.useImperativeHandle)(n,(()=>({...r.current,...s.current}))),(0,h.jsxs)("div",{className:c?lo:void 0,children:[(0,h.jsx)("div",{children:(0,h.jsx)(Tn,{ref:a,tableRef:r,...l})}),(0,h.jsx)("div",{className:c?so:void 0,children:(0,h.jsx)(ao,{ref:r,searchFormRef:a,fullHeight:c,tableProps:o})}),i?(0,h.jsx)(Vn,{ref:s,...i}):null]})},co=(0,t.forwardRef)(io),uo=()=>{const e={labelCol:{span:6},wrapperCol:{span:18},items:[{name:"Input",label:"Input",component:"Input",required:!0,colProps:{span:8},initialValue:"Input",componentProps:{onChange:e=>{}}},{name:"render",label:"render",render:e=>{let{model:n,disabled:o,name:t,methods:a,componentProps:l}=e;return(0,h.jsx)("div",{children:(0,h.jsx)(r.A,{disabled:o,value:n[t],onChange:e=>a.setFieldsValue({[t]:e}),...l})})},componentProps:{placeholder:"render"},show:e=>{let{model:n}=e;return"Input"!==n.Input},ifShow:e=>{let{model:n}=e;return n.Input},colProps:{span:8},initialValue:2,rules:[{required:!0,message:"render\u5fc5\u586b"}]},{name:"InputNumber",label:"InputNumber",component:"InputNumber",componentProps:{onBlur:e=>{console.log(e)},onChange:e=>{console.log(e)}},initialValue:2,colProps:{span:8}},{name:"Select",label:"Select",component:"Select",componentProps:{allowClear:!0,placeholder:"Select",options:[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}],onChange:e=>{console.log(e)}},initialValue:"1",colProps:{span:8}},{name:"Transfer",label:"Transfer",component:"Transfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:{dataSource:[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title},colProps:{span:8},rules:[{required:!0,type:"array",message:"Transfer\u5fc5\u586b"}]},{name:"TreeSelect",label:"TreeSelect",component:"TreeSelect",componentProps:{placeholder:"\u8bf7\u9009\u62e9TreeSelect",treeData:[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,h.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}]},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"TreeSelect\u5fc5\u586b"}]},{name:"Switch",label:"Switch",component:"Switch",componentProps:{},initialValue:!0,valuePropName:"checked",colProps:{span:8}},{name:"Radio",label:"Radio",component:"Radio",componentProps:{},valuePropName:"checked",initialValue:!0,colProps:{span:8}},{name:"RadioGroup",label:"RadioGroup",component:"RadioGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:"a",colProps:{span:8}},{name:"RadioButtonGroup",label:"RadioButtonGroup",component:"RadioGroup",componentProps:{optionType:"button",buttonStyle:"solid",options:[{label:"A",value:"a",disabled:!0},{label:"B",value:"b",disabled:!1},{label:"C",value:"c",disabled:!1},{label:"D",value:"d",disabled:!0}]},initialValue:"a",colProps:{span:8}},{name:"Checkbox",label:"Checkbox",component:"Checkbox",componentProps:{},valuePropName:"checked",colProps:{span:8},initialValue:!0},{name:"CheckboxGroup",label:"CheckboxGroup",component:"CheckboxGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:["a"],colProps:{span:8}},{name:"Cascader",label:"Cascader",component:"Cascader",componentProps:{placeholder:"\u8bf7\u9009\u62e9Cascader",options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]}]},initialValue:["zhejiang","hangzhou","xihu"],colProps:{span:8}},{name:"TimePicker",label:"TimePicker",component:"TimePicker",componentProps:{format:"HH:mm",valueFormat:"HH:mm"},initialValue:l()("12:08","HH:mm"),colProps:{span:8},rules:[{validator:async(e,n)=>n?Promise.resolve():Promise.reject("TimePicker\u5fc5\u586b")}]},{name:"DatePicker",label:"DatePicker",component:"DatePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:l()("2021-08-08","YYYY-MM-DD")},{name:"MonthPicker",label:"MonthPicker",component:"MonthPicker",componentProps:{valueFormat:"YYYY-MM"},colProps:{span:8},initialValue:l()("2021-08","YYYY-MM")},{name:"WeekPicker",label:"WeekPicker",component:"WeekPicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss"},colProps:{span:8},initialValue:l()("2021-08-01","YYYY-MM-DD")},{name:"RangePicker",label:"RangePicker",component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:[l()("2021-08-01 00:00:00","YYYY-MM-DD HH:mm:ss"),l()("2021-08-08 23:59:59","YYYY-MM-DD HH:mm:ss")]},{name:"InputPassword",label:"InputPassword",component:"InputPassword",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"InputTextArea",label:"InputTextArea",component:"InputTextArea",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"AutoComplete",label:"AutoComplete",component:"AutoComplete",componentProps:{options:[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}]},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"ApiSelect",label:"ApiSelect",component:"ApiSelect",componentProps:e=>{let{model:n}=e;return{placeholder:"ApiSelect",allowClear:!0,immediate:!0,params:{a:n.Select},api:async e=>(console.log(e,"GET ApiSelect==========================="),[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}])}},initialValue:"1",colProps:{span:8}},{name:"ApiTreeSelect",label:"ApiTreeSelect",component:"ApiTreeSelect",componentProps:e=>{let{model:n}=e;return{placeholder:"\u8bf7\u9009\u62e9ApiTreeSelect",params:{a:n.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiTreeSelect==========================="),[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,h.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}])}},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"ApiTreeSelect\u5fc5\u586b"}]},{name:"ApiTransfer",label:"ApiTransfer",component:"ApiTransfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:e=>{let{model:n}=e;return{params:{a:n.Select},api:async e=>[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title}},colProps:{span:8},rules:[{required:!0,type:"array",message:"ApiTransfer\u5fc5\u586b"}]},{name:"ApiAutoComplete",label:"ApiAutoComplete",component:"ApiAutoComplete",componentProps:e=>{let{model:n}=e;return{params:{a:n.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiAutoComplete==========================="),[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}])}},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"Upload",label:"Upload",component:"Upload",componentProps:{children:"\u4e0a\u4f20",showUploadList:{},listType:"picture-card",beforeUpload:e=>!1,onChange(e){const{file:n,fileList:o}=e,{status:t}=n;if("removed"===t)a({Upload:o});else a({Upload:[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]})}},colProps:{span:8},valuePropName:"fileList",initialValue:[],rules:[{validator:async(e,n)=>(console.log("validate=================",n),n&&0===n.length?Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"):Promise.resolve())}]},{name:"AutoUpload",label:"AutoUpload",component:"AutoUpload",componentProps:{maxSize:1,maxCount:2,returnType:"File[]",onChange(e){console.log("AutoUpload onChange========================",e)}},colProps:{span:8},initialValue:[],rules:[{validator:async(e,n)=>(console.log("validate=================",n),n.length?Promise.resolve():Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"))}]},{name:"Button",label:"Button",component:"Button",componentProps:{children:"Button",onClick:async()=>{console.log(s(!0)),console.log(a({Input:"Input test",render:23,InputNumber:21,ApiSelect:"2",Select:null,Transfer:[],ApiTransfer:[],ApiTreeSelect:null,TreeSelect:null,Switch:!1,Radio:!1,RadioGroup:"b",RadioButtonGroup:"b",Checkbox:!1,CheckboxGroup:["a"],Cascader:[],TimePicker:"2021-08-01 03:59:59",DatePicker:"2021-08-01",MonthPicker:"2021-09",WeekPicker:"2021-09-02 00:00:00",RangePicker:["2021-08-02","2021-08-07"],InputPassword:"12345678",InputTextArea:"123456789",AutoComplete:"Burns Bay Road Test",ApiAutoComplete:"Burns Bay Road Test",Upload:[],AutoUpload:[]}))}},colProps:{span:8}},{name:"ResetButton",label:"ResetButton",component:"Button",componentProps:{children:"ResetButton",onClick:async()=>{console.log(await i())}},colProps:{span:8}},{name:"ValidateButton",label:"ValidateButton",component:"Button",componentProps:{children:"ValidateButton",onClick:async()=>{console.log(await c())}},colProps:{span:8}}]},n=t.useRef(null),[o,{setFieldsValue:a,getFieldsValue:s,resetFields:i,validator:c}]=Be();return(0,h.jsx)("div",{style:{minWidth:"1400px"},children:(0,h.jsx)(Sn,{register:o,ref:n,...e})})},po=()=>{const e={table:{rowSelection:{type:"checkbox"},fullHeight:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}}]},{title:"\u6027\u522b",dataIndex:"gender",key:"gender",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}},{component:"tag",componentProps:{enums:[{label:"\u7537",value:"male",config:{color:"info"}},{label:"\u5973",value:"female",config:{color:"primary"}}]}}]},{title:"\u5730\u5740",dataIndex:"address",key:"address"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age",cellFunc:e=>{let{record:n}=e;return[{component:"link",componentProps:{url:"https://www.baidu.com"}},{component:"link",componentProps:{onClick:()=>{window.open("https://www.jd.com/")}}}]}},{title:"\u64cd\u4f5c",dataIndex:"actions",cellFunc:e=>{let{record:n}=e;return[{component:"actions",componentProps:{type:"dashed",max:1,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,h.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}}]}}],autoPagination:!0,api:async e=>(console.log(e),new Promise((e=>{setTimeout((()=>{e([{key:"1",name:"\u80e1\u5f66\u658c",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7",gender:"male"},{key:"2",name:"\u674e\u96f7",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88572\u53f7",gender:"male"},{key:"3",name:"\u97e9\u6885\u6885",age:30,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def3\u53f7",gender:"female"},{key:"4",name:"\u738b\u5c0f\u660e",age:25,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88574\u53f7",gender:"male"},{key:"5",name:"\u8d75\u4e3d\u9896",age:29,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def5\u53f7",gender:"female"},{key:"6",name:"\u9648\u6653",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed6\u53f7",gender:"male"},{key:"7",name:"\u5218\u4ea6\u83f2",age:27,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88577\u53f7",gender:"female"},{key:"8",name:"\u5f20\u4e09",age:33,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def8\u53f7",gender:"male"},{key:"9",name:"\u674e\u56db",age:26,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88579\u53f7",gender:"male"},{key:"10",name:"\u738b\u4e94",age:35,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def10\u53f7",gender:"male"},{key:"11",name:"\u8d75\u516d",age:34,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed11\u53f7",gender:"male"},{key:"12",name:"\u5b59\u4e03",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885712\u53f7",gender:"female"},{key:"13",name:"\u5468\u516b",age:29,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def13\u53f7",gender:"male"},{key:"14",name:"\u5434\u4e5d",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885714\u53f7",gender:"male"},{key:"15",name:"\u90d1\u5341",age:27,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def15\u53f7",gender:"male"},{key:"16",name:"\u4f55\u5341\u4e00",age:30,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed16\u53f7",gender:"female"},{key:"17",name:"\u51af\u5341\u4e8c",age:33,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885717\u53f7",gender:"male"},{key:"18",name:"\u891a\u5341\u4e09",age:32,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def18\u53f7",gender:"female"},{key:"19",name:"\u536b\u5341\u56db",age:29,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885719\u53f7",gender:"male"},{key:"20",name:"\u848b\u5341\u4e94",age:28,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def20\u53f7",gender:"male"},{key:"21",name:"\u6c88\u5341\u516d",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed21\u53f7",gender:"male"},{key:"22",name:"\u97e9\u5341\u4e03",age:34,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885722\u53f7",gender:"female"},{key:"23",name:"\u6768\u5341\u516b",age:27,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def23\u53f7",gender:"male"},{key:"24",name:"\u6731\u5341\u4e5d",age:30,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885724\u53f7",gender:"male"},{key:"25",name:"\u79e6\u4e8c\u5341",age:33,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def25\u53f7",gender:"male"},{key:"26",name:"\u5c24\u4e8c\u4e00",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed26\u53f7",gender:"female"},{key:"27",name:"\u8bb8\u4e8c\u4e8c",age:29,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885727\u53f7",gender:"male"},{key:"28",name:"\u4f55\u4e8c\u4e09",age:28,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def28\u53f7",gender:"female"},{key:"29",name:"\u5415\u4e8c\u56db",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885729\u53f7",gender:"male"},{key:"30",name:"\u65bd\u4e8c\u4e94",age:34,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def30\u53f7",gender:"male"}])}),2e3)}))),toolbar:{type:"primary",max:2,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,h.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}},searchForm:{colProps:{span:6},collapsible:!0,items:[{name:"Button",label:"\u5f39\u7a97",component:"Button",componentProps:{children:"\u70b9\u51fb\u6253\u5f00\u8868\u683c\u5f39\u7a97",onClick:e=>{n.current?.open({data:{Input:"\u6211\u662fxiaopihong",Select:"Option1"},ok:async e=>{let{values:n}=e;return new Promise((e=>{setTimeout((()=>{e(n)}),2e4)}))},cancel:async e=>{let{values:n}=e;console.log(n)}})}}},{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}},ifShow:e=>{let{model:n}=e;return"Input1"===n.Input2}},{name:"Input2",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input3",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input4",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input5",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input6",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}}]},crudFormDialog:{title:"\u5f39\u7a97",mask:!0,getPopperContainer:()=>document.getElementById("docs-comp-table-base"),formProps:{items:[{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}},colProps:{span:12}},{name:"Select",label:"Select",component:"Select",required:!0,componentProps:{options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:e=>{console.log(e)}},colProps:{span:12}}]}}},n=(0,t.useRef)(null);return(0,h.jsx)("div",{id:"docs-comp-table-base",style:{minWidth:"1400px",height:"600px",position:"relative"},children:(0,h.jsx)(C,{value:{extendProps:{actions:{type:"link",max:0}}},children:(0,h.jsx)(co,{ref:n,...e,onRowSelectionChange:(e,n)=>{console.log(e,n)}})})})},mo=()=>{const e={type:"dashed",max:1,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,h.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]};return(0,h.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,h.jsx)(F,{...e})})};var go=o(71654);const ho=()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),o=(0,t.useRef)(null),r={mask:!0,title:"\u5f39\u7a971\u6807\u9898",width:1e3,getPopperContainer:()=>document.getElementById("dialog-box")},a={mask:!0,title:"\u5f39\u7a972\u6807\u9898",width:500,getPopperContainer:()=>document.getElementById("dialog-box")},l={mask:!1,title:"\u5f39\u7a973\u6807\u9898",getPopperContainer:()=>document.getElementById("dialog-box")},s=(0,t.useRef)(null),i=()=>(console.log("\u6e32\u67d3Content"),(0,h.jsxs)("div",{style:{width:"1200px",height:"1200px"},children:[(0,h.jsx)(h.Fragment,{children:"\u6211\u662f\u5f39\u7a971"}),(0,h.jsx)("div",{children:(0,h.jsx)(go.A,{})})]}));return(0,h.jsxs)("div",{id:"dialog-box",style:{width:"100%",height:"100%",overflow:"auto",position:"relative"},children:[(0,h.jsx)("button",{onClick:()=>{e.current?.open()},children:"\u70b9\u51fb\u6253\u5f00XphDialog\u5f39\u7a971"}),(0,h.jsx)("button",{onClick:()=>{n.current?.open()},children:"\u70b9\u51fb\u6253\u5f00XphDialog\u5f39\u7a972"}),(0,h.jsx)("button",{onClick:()=>{o.current?.open()},children:"\u70b9\u51fb\u6253\u5f00XphDialog\u5f39\u7a973"}),(0,h.jsx)("button",{onClick:()=>{console.log(s)},children:"\u70b9\u51fb\u6253\u5370\u5b50\u5143\u7d20"}),(0,h.jsx)("div",{style:{width:"1200px",height:"1200px"}}),(0,h.jsx)(ve,{...r,ref:e,children:(0,h.jsx)(i,{})}),(0,h.jsx)(ve,{...a,ref:n,children:(0,h.jsx)(go.A,{ref:s})}),(0,h.jsx)(ve,{...l,ref:o,children:"\u6211\u662f\u5f39\u7a973"})]})},fo={MyButton:e=>{let{children:n}=e;return(0,h.jsx)("button",{children:n})},MyInput:()=>(0,h.jsx)("input",{})},bo=()=>(0,h.jsx)("div",{style:{minWidth:"1400px"},children:(0,h.jsx)(C,{value:{extendComp:{form:fo}},children:(0,h.jsx)(Sn,{labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyButton",label:"MyButton",component:"MyButton",colProps:{span:8},componentProps:{children:"\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae"}},{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{}}]})})}),xo={MyInput:e=>{const{borderColor:n,onChange:o}=e;return(0,h.jsx)("input",{onInput:e=>{const{target:{value:n}}=e;o&&o(n)},style:{borderColor:n||"black"}})}},yo=()=>{const e={labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{borderColor:"red"}},{name:"Button",label:"\u83b7\u53d6\u8868\u5355\u503c",component:"Button",colProps:{span:8},componentProps:{children:"\u70b9\u51fb\u6211\u83b7\u53d6\u8868\u5355\u7684\u503c",onClick:async()=>{console.log(n.current?.getFieldsValue(!0))}}}]},n=t.useRef(null);return(0,h.jsx)("div",{style:{minWidth:"1400px"},children:(0,h.jsx)(C,{value:{extendComp:{form:xo}},children:(0,h.jsx)(Sn,{ref:n,...e})})})},Po={myTag:(e,n,o)=>{const{curComponentProps:t}=n,{borderColor:r="blue",children:a=""}=t;return(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",border:`1px solid ${r}`},children:[(0,h.jsx)(e,{...o}),a]})}},ko=()=>{const e={table:{rowSelection:{type:"checkbox"},fullHeight:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}},{component:"myTag",componentProps:{children:"\u968f\u4fbf\u52a0\u7684\u5185\u5bb9",borderColor:"orange"}}]}],autoPagination:!0,api:async e=>new Promise((e=>{setTimeout((()=>{e([{key:"1",name:"\u80e1\u5f66\u658c",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"}])}),2e3)}))}};return(0,h.jsx)("div",{style:{minWidth:"800px",height:"300px"},children:(0,h.jsx)(C,{value:{extendComp:{tableCellFunc:Po}},children:(0,h.jsx)(co,{...e})})})},vo={MyButton:e=>{let{componentProps:n,component:o}=e;console.log(o);const{children:t,onClick:r}=n;return(0,h.jsx)("button",{onClick:r,children:t})}},Co=()=>{const e={type:"dashed",max:1,items:[{component:"MyButton",componentProps:{children:"\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae",onClick:e=>{console.log(e)}}}]};return(0,h.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,h.jsx)(C,{value:{extendComp:{actions:vo}},children:(0,h.jsx)(F,{...e})})})},wo={MyInput:e=>{const{borderColor:n,onChange:o}=e;return(0,h.jsx)("input",{onInput:e=>{const{target:{value:n}}=e;o&&o(n)},style:{borderColor:n||"black"}})}},Ao=()=>(0,h.jsx)("div",{style:{minWidth:"1400px"},children:(0,h.jsx)(C,{value:{extendComp:{form:wo}},children:(0,h.jsx)(Sn,{labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{borderColor:"red"}}]})})})}}]);