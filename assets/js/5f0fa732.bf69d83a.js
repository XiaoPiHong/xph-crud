"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5671],{63384:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>x,contentTitle:()=>g,default:()=>b,frontMatter:()=>h,metadata:()=>f,toc:()=>P});var t=o(49214),r=o(62515),l=o(22886),a=o(22567),s=o(29452);const i='import React from "react";\nimport { XphForm, XphExtendCompPropsProvider } from "xph-crud";\n\nconst MyButton = ({ children }) => {\n  return <button>{children}</button>;\n};\n\nconst MyInput = () => {\n  return <input></input>;\n};\n\n/**\n * \u8868\u5355\u9879\u7684\u6620\u5c04\u5bf9\u8c61\n */\nconst myComponentMap = {\n  MyButton,\n  MyInput,\n};\n\nconst ReactApp: React.FC = () => {\n  const props = {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 18 },\n    items: [\n      {\n        name: "MyButton",\n        label: "MyButton",\n        component: "MyButton",\n        colProps: { span: 8 },\n        componentProps: {\n          children: "\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae",\n        },\n      },\n      {\n        name: "MyInput",\n        label: "MyInput",\n        component: "MyInput",\n        colProps: { span: 8 },\n        componentProps: {},\n      },\n    ],\n  };\n\n  return (\n    <div style={{ minWidth: "1400px" }}>\n      <XphExtendCompPropsProvider\n        value={{ extendComp: { form: myComponentMap } }}\n      >\n        <XphForm {...props}></XphForm>\n      </XphExtendCompPropsProvider>\n    </div>\n  );\n};\n\nexport default ReactApp;\n',c='import React from "react";\nimport {\n  XphForm,\n  IXphFormActionType,\n  XphExtendCompPropsProvider,\n} from "xph-crud";\n\n/** \u81ea\u5b9a\u4e49\u8868\u5355\u9879\u7684\u5c5e\u6027 */\ninterface IMyInputProps {\n  /** input\u8fb9\u6846\u7684\u989c\u8272 */\n  borderColor?: string;\n  /** onChange\u662f\u9ed8\u8ba4\u900f\u4f20\u8fdb\u6765\u7684\uff0c\u5982\u679c\u8868\u5355model\u9700\u8981\u6355\u83b7\u5f53\u524d\u81ea\u5b9a\u4e49\u9879\u7684\u503c\uff0c\u9700\u8981\u5728\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5185\u90e8\u624b\u52a8\u89e6\u53d1onChange\u4e8b\u4ef6\uff0c\u5e76\u4e14\u5c06\u503c\u4f20\u9012\u7ed9\u5176\u9996\u4e2a\u53c2\u6570 */\n  onChange?: (...args) => void;\n}\n\n/**\n * \u81ea\u5b9a\u4e49\u8868\u5355\u9879\n * \uff08myInputProps\u5c31\u662f\u521d\u59cb\u5316\u65f6\u5019\u5f53\u524d\u5bf9\u5e94\u9879\u7684componentProps\uff09\n */\nconst MyInput = (myInputProps: IMyInputProps) => {\n  const { borderColor, onChange } = myInputProps;\n  const onInputChange = (e) => {\n    const {\n      target: { value },\n    } = e;\n    /** \u624b\u52a8\u89e6\u53d1onChange\u6539\u53d8\u8868\u5355\u9879\u5bf9\u5e94\u7684\u503c,\u5c06\u8868\u5355\u9700\u8981\u6355\u83b7\u5230\u7684\u503c\u4f20\u9012\u5230\u5176\u9996\u4e2a\u53c2\u6570 */\n    onChange && onChange(value);\n  };\n  return (\n    <input\n      onInput={onInputChange}\n      style={{ borderColor: borderColor ? borderColor : "black" }}\n    />\n  );\n};\n\n/**\n * \u8868\u5355\u9879\u7684\u6620\u5c04\u5bf9\u8c61\n */\nconst myComponentMap = {\n  MyInput,\n};\n\nconst ReactApp: React.FC = () => {\n  const props = {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 18 },\n    items: [\n      {\n        name: "MyInput",\n        label: "MyInput",\n        component: "MyInput",\n        colProps: { span: 8 },\n        componentProps: {\n          /** \u6b64\u5904\u7684\u5c5e\u6027\u90fd\u4f1a\u4f20\u9012\u7ed9myInputProps */\n          borderColor: "red",\n        },\n      },\n      {\n        name: "Button",\n        label: "\u83b7\u53d6\u8868\u5355\u503c",\n        component: "Button",\n        colProps: { span: 8 },\n        componentProps: {\n          children: "\u70b9\u51fb\u6211\u83b7\u53d6\u8868\u5355\u7684\u503c",\n          onClick: async () => {\n            console.log(reactFormRef.current?.getFieldsValue(true));\n          },\n        },\n      },\n    ],\n  };\n\n  const reactFormRef = React.useRef<IXphFormActionType>(null);\n\n  return (\n    <div style={{ minWidth: "1400px" }}>\n      <XphExtendCompPropsProvider\n        value={{ extendComp: { form: myComponentMap } }}\n      >\n        <XphForm ref={reactFormRef} {...props}></XphForm>\n      </XphExtendCompPropsProvider>\n    </div>\n  );\n};\n\nexport default ReactApp;\n',p='import React from "react";\nimport { XphTable, IXphMainProps, XphExtendCompPropsProvider } from "xph-crud";\n\n/** \u81ea\u5b9a\u4e49\u5355\u5143\u683c\u5185\u5bb9\u7684\u5c5e\u6027 */\ninterface IMyTagProps {\n  children?: string;\n  borderColor?: string;\n}\n\n/** \u81ea\u5b9a\u4e49\u5355\u5143\u683c\u5185\u5bb9\u7ec4\u4ef6 */\nconst MyTag = (\n  Comp: React.JSXElementConstructor<any>,\n  curCellFuncProps: { curComponentProps: IMyTagProps },\n  mainProps: IXphMainProps\n) => {\n  const { curComponentProps } = curCellFuncProps;\n\n  const { borderColor = "blue", children = "" } = curComponentProps!;\n  return (\n    <div\n      style={{\n        display: "flex",\n        alignItems: "center",\n        flexWrap: "wrap",\n        border: `1px solid ${borderColor}`,\n      }}\n    >\n      <Comp {...mainProps} />\n      {children}\n    </div>\n  );\n};\n\n/**\n * \u5355\u5143\u683c\u5185\u5bb9\u6620\u5c04\u5bf9\u8c61\n */\nconst myCellFuncComponentMap = {\n  myTag: MyTag,\n};\n\nconst ReactApp: React.FC = () => {\n  const props: any = {\n    table: {\n      rowSelection: {\n        type: "checkbox",\n      },\n      fullHeight: true,\n      columns: [\n        {\n          title: "\u59d3\u540d",\n          dataIndex: "name",\n          key: "name",\n          cellFunc: [\n            {\n              component: "link",\n              componentProps: {\n                url: "https://www.taobao.com",\n              },\n            },\n            {\n              component: "myTag",\n              componentProps: {\n                // \u6b64\u5904\u7684\u5c5e\u6027\u90fd\u4f1a\u4f20\u9012\u7ed9curComponentProps\n                children: "\u968f\u4fbf\u52a0\u7684\u5185\u5bb9",\n                borderColor: "orange",\n              },\n            },\n          ],\n        },\n      ],\n      autoPagination: true,\n      api: async (params) => {\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            resolve([\n              {\n                key: "1",\n                name: "\u80e1\u5f66\u658c",\n                age: 32,\n                address: "\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7",\n              },\n            ]);\n          }, 2000);\n        });\n      },\n    },\n  };\n\n  return (\n    <div style={{ minWidth: "800px", height: "300px" }}>\n      <XphExtendCompPropsProvider\n        value={{ extendComp: { tableCellFunc: myCellFuncComponentMap } }}\n      >\n        <XphTable {...props} />\n      </XphExtendCompPropsProvider>\n    </div>\n  );\n};\n\nexport default ReactApp;\n',d='import React from "react";\nimport { XphActions, XphExtendCompPropsProvider } from "xph-crud";\n\n/**\n * \u81ea\u5b9a\u4e49\u64cd\u4f5c\u7ec4\u5185\u5bb9\u7684\u5c5e\u6027\n * */\ninterface IMyButtonProps {\n  children: string;\n  onClick?: (e: any) => void;\n}\n\n/**\n * \u81ea\u5b9a\u4e49\u64cd\u4f5c\u7ec4\u5185\u5bb9\u7ec4\u4ef6\n */\nconst MyButton = ({\n  componentProps,\n  component,\n}: {\n  componentProps: IMyButtonProps;\n  component: "MyButton";\n}) => {\n  console.log(component);\n  const { children, onClick } = componentProps;\n  return <button onClick={onClick}>{children}</button>;\n};\n\n/**\n * \u64cd\u4f5c\u7ec4\u6620\u5c04\u5bf9\u8c61\n */\nconst myActionsComponentMap = {\n  MyButton,\n};\n\nconst ReactApp: React.FC = () => {\n  const props: any = {\n    type: "dashed",\n    max: 1,\n    items: [\n      {\n        component: "MyButton",\n        componentProps: {\n          // \u6b64\u5904\u7684\u5c5e\u6027\u90fd\u4f1a\u4f20\u9012\u7ed9myButtonProps\n          children: "\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae",\n          onClick: (e) => {\n            console.log(e);\n          },\n        },\n      },\n    ],\n  };\n\n  return (\n    <div style={{ display: "flex", gap: "8px" }}>\n      <XphExtendCompPropsProvider\n        value={{ extendComp: { actions: myActionsComponentMap } }}\n      >\n        <XphActions {...props} />\n      </XphExtendCompPropsProvider>\n    </div>\n  );\n};\n\nexport default ReactApp;\n',u='import React from "react";\nimport { XphForm, XphExtendCompPropsProvider } from "xph-crud";\n\ninterface IMyInputProps {\n  borderColor?: string;\n  onChange?: (...args) => void;\n}\n\nconst MyInput = (myInputProps: IMyInputProps) => {\n  const { borderColor, onChange } = myInputProps;\n  const onInputChange = (e) => {\n    const {\n      target: { value },\n    } = e;\n    onChange && onChange(value);\n  };\n  return (\n    <input\n      onInput={onInputChange}\n      style={{ borderColor: borderColor ? borderColor : "black" }}\n    />\n  );\n};\n\nconst myComponentMap = {\n  MyInput,\n};\n\nconst ReactApp: React.FC = () => {\n  const props: INewXphFormProps = {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 18 },\n    items: [\n      {\n        name: "MyInput",\n        label: "MyInput",\n        component: "MyInput",\n        colProps: { span: 8 },\n        componentProps: {\n          borderColor: "red",\n        },\n      },\n    ],\n  };\n\n  return (\n    <div style={{ minWidth: "1400px" }}>\n      <XphExtendCompPropsProvider\n        value={{ extendComp: { form: myComponentMap } }}\n      >\n        <XphForm {...props}></XphForm>\n      </XphExtendCompPropsProvider>\n    </div>\n  );\n};\n\nexport default ReactApp;\n',m='/**\n * xph-crud.d.ts\n */\nimport { IXphFormProps, IXphActionsProps, TXphTableProps } from "xph-crud";\n\n/** \u8fd9\u662f\u81ea\u5b9a\u4e49\u8868\u5355\u9879\u7684\u5c5e\u6027\u6620\u5c04\uff0c\u6839\u636e\u81ea\u5df1\u800c\u5b9a */\ninterface MyFormComponentPropsMap {\n  MyInput: {\n    borderColor?: string;\n    onChange?: (...args) => void;\n  };\n}\n\n/** \u82e5\u9700\u81ea\u5df1\u6269\u5c55\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u58f0\u660e\u7c7b\u578b(\u58f0\u660e\u540e\u4f7f\u7528\u8be5\u7c7b\u578b\u5b9a\u4e49\u53d8\u91cf\u624d\u80fd\u83b7\u5f97\u6269\u5c55\u7684\u7ec4\u4ef6\u7c7b\u578b) */\ndeclare global {\n  /** \u8868\u5355\u7684\u6620\u5c04 */\n  interface INewXphFormProps extends IXphFormProps<MyFormComponentPropsMap> {}\n  /** \u64cd\u4f5c\u7ec4\u7684\u6620\u5c04 */\n  interface INewXphActionsProps\n    extends IXphActionsProps<{ MyComponentName: {} }> {}\n  /** \u8868\u683c\u7684\u6620\u5c04 */\n  type TNewXphTableProps<T = unknown> = TXphTableProps<\n    T,\n    {\n      MyCellFuncComponentName: {};\n    },\n    {\n      MyActionsComponentName: {};\n    },\n    {\n      MyToolbarComponentName: {};\n    },\n    MyFormComponentPropsMap\n  >;\n}\n',h={},g="\u6269\u5c55\u81ea\u5b9a\u4e49\u7ec4\u4ef6",f={id:"comp/extends/base",title:"\u6269\u5c55\u81ea\u5b9a\u4e49\u7ec4\u4ef6",description:"\u6269\u5c55 XphForm \u8868\u5355\u9879",source:"@site/docs/comp/extends/base.mdx",sourceDirName:"comp/extends",slug:"/comp/extends/base",permalink:"/xph-crud/docs/comp/extends/base",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"extends"},x={},P=[{value:"\u6269\u5c55 XphForm \u8868\u5355\u9879",id:"\u6269\u5c55-xphform-\u8868\u5355\u9879",level:2},{value:"\u6269\u5c55\u8868\u5355\u9879",id:"\u6269\u5c55\u8868\u5355\u9879",level:3},{value:"\u6269\u5c55\u8868\u5355\u9879\u7684\u89c4\u8303",id:"\u6269\u5c55\u8868\u5355\u9879\u7684\u89c4\u8303",level:3},{value:"\u6269\u5c55 XphTable \u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9",id:"\u6269\u5c55-xphtable-\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9",level:2},{value:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9",id:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9",level:3},{value:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9\u7684\u89c4\u8303",id:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9\u7684\u89c4\u8303",level:3},{value:"\u7ec4\u4ef6\u5904\u7406\u673a\u5236",id:"\u7ec4\u4ef6\u5904\u7406\u673a\u5236",level:4},{value:"\u7ec4\u4ef6\u6e32\u67d3\u673a\u5236",id:"\u7ec4\u4ef6\u6e32\u67d3\u673a\u5236",level:4},{value:"\u6269\u5c55\u89c4\u8303",id:"\u6269\u5c55\u89c4\u8303",level:4},{value:"\u6269\u5c55 XphActions \u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9",id:"\u6269\u5c55-xphactions-\u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9",level:2},{value:"\u6269\u5c55\u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9",id:"\u6269\u5c55\u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9",level:3},{value:"ts \u7c7b\u578b\u8c03\u6574",id:"ts-\u7c7b\u578b\u8c03\u6574",level:2},{value:"\u521b\u5efa\u5168\u5c40\u7c7b\u578b INewXphFormProps",id:"\u521b\u5efa\u5168\u5c40\u7c7b\u578b-inewxphformprops",level:3},{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50",level:3}];function C(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u6269\u5c55\u81ea\u5b9a\u4e49\u7ec4\u4ef6",children:"\u6269\u5c55\u81ea\u5b9a\u4e49\u7ec4\u4ef6"}),"\n",(0,t.jsx)(n.h2,{id:"\u6269\u5c55-xphform-\u8868\u5355\u9879",children:"\u6269\u5c55 XphForm \u8868\u5355\u9879"}),"\n",(0,t.jsx)(n.h3,{id:"\u6269\u5c55\u8868\u5355\u9879",children:"\u6269\u5c55\u8868\u5355\u9879"}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u5f53\u524d ",(0,t.jsx)(n.code,{children:"XphForm"})," \u7ec4\u4ef6\u7684\u6240\u6709\u8868\u5355\u9879\u90fd\u6ee1\u8db3\u4e0d\u4e86\u4f60\uff0c",(0,t.jsx)(n.code,{children:"xph-crud"})," \u8fd8\u63d0\u4f9b",(0,t.jsx)(n.code,{children:"XphExtendCompPropsProvider"}),"\u6765\u6269\u5c55\u8868\u5355\u9879\uff0c\u4f60\u53ea\u9700\u8981\u4f7f\u7528",(0,t.jsx)(n.code,{children:"XphExtendCompPropsProvider"}),"\u6765\u5305\u88f9\u4f60\u7684\u5e94\u7528\uff0c\u5e76\u4e14\u4e3a\u5176\u63d0\u4f9b\u4e00\u4e2a\u8868\u5355\u9879\u7684\u6620\u5c04\u5bf9\u8c61\u5373\u53ef\uff0c\u8be6\u7ec6\u8bf7\u770b\u4e0b\u65b9\u4ee3\u7801\u5757\uff1a"]}),"\n",(0,t.jsx)(a.A,{language:"tsx",children:i}),"\n",(0,t.jsx)("pre",{children:(0,t.jsx)(l.A,{children:(0,t.jsx)(s.N4,{})})}),"\n",(0,t.jsx)(n.h3,{id:"\u6269\u5c55\u8868\u5355\u9879\u7684\u89c4\u8303",children:"\u6269\u5c55\u8868\u5355\u9879\u7684\u89c4\u8303"}),"\n",(0,t.jsx)(a.A,{language:"tsx",children:c}),"\n",(0,t.jsx)("pre",{children:(0,t.jsx)(l.A,{children:(0,t.jsx)(s.tJ,{})})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f TypeSctipt\uff0c\u6269\u5c55\u8868\u5355\u9879\u540e\uff0c\u56e0\u4e3a",(0,t.jsx)(n.code,{children:"IXphFormProps"}),"\u7c7b\u578b\u4e2d\u4e0d\u5305\u542b\u4f60\u6269\u5c55\u8868\u5355\u9879\u7684\u7c7b\u578b\uff0c\u6240\u4ee5\u9700\u8981\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e0b\u7c7b\u578b\u6765\u4f7f\u7528\uff0c\u8be6\u7ec6\u53ef\u770b\u4e0b\u65b9 ts \u7c7b\u578b\u8c03\u6574\u3002"]})}),"\n",(0,t.jsx)(n.h2,{id:"\u6269\u5c55-xphtable-\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9",children:"\u6269\u5c55 XphTable \u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9"}),"\n",(0,t.jsx)(n.h3,{id:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9",children:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9"}),"\n",(0,t.jsxs)(n.p,{children:["\u540c\u7406\uff0c",(0,t.jsx)(n.code,{children:"XphTable"}),"\u4e2d\u7684\u6620\u5c04\u5185\u5bb9\u4e5f\u662f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\uff0c\u4e5f\u662f\u901a\u8fc7\u7ed9",(0,t.jsx)(n.code,{children:"XphExtendCompPropsProvider"}),"\u6dfb\u52a0\u5355\u5143\u683c\u6620\u5c04\u5bf9\u8c61\u5373\u53ef\u7684\u65b9\u5f0f\u3002"]}),"\n",(0,t.jsx)(a.A,{language:"tsx",children:p}),"\n",(0,t.jsx)("pre",{children:(0,t.jsx)(l.A,{children:(0,t.jsx)(s.p1,{})})}),"\n",(0,t.jsx)(n.h3,{id:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9\u7684\u89c4\u8303",children:"\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9\u7684\u89c4\u8303"}),"\n",(0,t.jsx)(n.h4,{id:"\u7ec4\u4ef6\u5904\u7406\u673a\u5236",children:"\u7ec4\u4ef6\u5904\u7406\u673a\u5236"}),"\n",(0,t.jsx)(n.p,{children:"\u5185\u90e8\u7684 CellFunc \u7ec4\u4ef6\u4f1a\u904d\u5386 cellFunc \u8fd9\u4e2a\u6570\u7ec4\uff0c\u9010\u6b65\u5c06\u6700\u5e95\u5c42\u7684 BottomCellFunc \u7ec4\u4ef6\u5904\u7406\u6210\u6700\u7ec8\u6e32\u67d3\u5728\u9875\u9762\u7684\u7ec4\u4ef6\uff0c\u5904\u7406\u987a\u5e8f\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)("div",{style:{textAlign:"center"},children:(0,t.jsx)(n.mermaid,{value:"graph TD;\nBottomCellFunc--\x3elink--\x3emyTag;"})}),"\n",(0,t.jsx)(n.h4,{id:"\u7ec4\u4ef6\u6e32\u67d3\u673a\u5236",children:"\u7ec4\u4ef6\u6e32\u67d3\u673a\u5236"}),"\n",(0,t.jsx)(n.p,{children:"\u7531\u4e8e\u662f\u6309\u987a\u5e8f\u5904\u7406\u5b8c\u518d\u6e32\u67d3\uff0c\u6240\u4ee5 cellFunc \u6570\u7ec4\u6620\u5c04\u7684\u7ec4\u4ef6\u6e32\u67d3\u662f\u6709\u987a\u5e8f\u4e4b\u5206\u7684\uff0c\u6e32\u67d3\u987a\u5e8f\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)("div",{style:{textAlign:"center"},children:(0,t.jsx)(n.mermaid,{value:"graph TD;\nmyTag--\x3elink--\x3eBottomCellFunc;"})}),"\n",(0,t.jsx)(n.h4,{id:"\u6269\u5c55\u89c4\u8303",children:"\u6269\u5c55\u89c4\u8303"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import React from "react";\nimport { IXphMainProps } from "xph-crud";\n\ninterface IMyTagProps {\n  children?: string;\n  borderColor?: string;\n}\n\n/**\n * @params Comp \u4e0a\u4e00\u6b21\u5904\u7406\u540e\u7684\u7ec4\u4ef6\n * @params curCellFuncProps \u5f53\u524d\u9879\u76f8\u5173\u5c5e\u6027\n * @params mainProps \u900f\u4f20\u7ed9\u6700\u5e95\u5c42\u7ec4\u4ef6\u7684\u5c5e\u6027\n */\nconst MyTag = (\n  Comp: React.JSXElementConstructor<any>,\n  curCellFuncProps: { curComponentProps: IMyTagProps },\n  mainProps: IXphMainProps\n) => {\n  /**\n   * curCellFuncProps\u662f\u5305\u542b\u5f53\u524d\u81ea\u5b9a\u4e49\u9879componentProps\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u4ece\u4e2d\u53d6\u5230\u5916\u90e8\u900f\u4f20\u8fdb\u6765\u7684\u5c5e\u6027\u8fdb\u884c\u4e1a\u52a1\u4ee3\u7801\u7f16\u5199\n   */\n  const { curComponentProps } = curCellFuncProps;\n\n  const { borderColor = "blue", children = "" } = curComponentProps!;\n  return (\n    <div\n      style={{\n        display: "flex",\n        alignItems: "center",\n        flexWrap: "wrap",\n        border: `1px solid ${borderColor}`,\n      }}\n    >\n      {/** \n      1\u3001Comp\u662f\u4fdd\u6301\u6e32\u67d3\u94fe\u7684\u6865\u6881\uff0c\u53ea\u6709\u5f53Comp\u7ec4\u4ef6\u88ab\u6e32\u67d3\u65f6\uff0c\u624d\u80fd\u4fdd\u6301\u6e32\u67d3\u94fe\u4e0d\u88ab\u4e2d\u65ad\uff0c\u6240\u4ee5\u5728\u5199\u4f60\u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u65f6\uff0c\u8fd9\u4e2aComp\u5c5e\u6027\u662f\u5fc5\u987b\u4f7f\u7528\u5728\u7ec4\u4ef6\u4e0a\u7684(\u5f53\u7136\u7279\u6b8a\u60c5\u51b5\u9664\u5916\uff0c\u9664\u975e\u4f60\u53ea\u60f3\u6e32\u67d3\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7684\u7ec4\u4ef6) \n\n      2\u3001mainProps\u662f\u6e32\u67d3\u94fe\u4e2d\u6e32\u67d3\u540e\u65b9\u4f20\u9012\u7ed9\u6700\u5e95\u5c42BottomCellFunc\u7ec4\u4ef6\u7684\u5c5e\u6027\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u4f7f\u5f53\u524d\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u80fd\u591f\u5f71\u54cd\u5230BottomCellFunc\u7ec4\u4ef6\u7684\u4e8b\u4ef6\u548c\u6837\u5f0f\uff0c\u6240\u4ee5mainProps\u662f\u4fdd\u6301\u6e32\u67d3\u94fe\u4e2d\u4e8b\u4ef6\u548c\u6837\u5f0f\u80fd\u591f\u6b63\u786e\u6267\u884c\u5c5e\u6027\uff0c\u5b83\u5fc5\u987b\u5728\u6269\u5c55\u7ec4\u4ef6\u5185\u90e8\u89e3\u6784\u4f20\u9012\u7ed9Comp\u7ec4\u4ef6\uff08\u6ce8\u610f\uff1a\u5982\u679c\u5f53\u524d\u6269\u5c55\u7684\u7ec4\u4ef6\u5185\u90e8\u9700\u8981\u5f71\u54cd\u5230\u5e95\u5c42BottomCellFunc\uff0c\u5fc5\u987b\u8981\u4fdd\u8bc1\u5176\u4ed6\u6620\u5c04\u7ec4\u4ef6\u7684\u6b63\u5e38\u8c03\u7528\uff0cXphTable\u5185\u90e8\u7684link\u7ec4\u4ef6\u5c31\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u4f8b\u5b50\uff09\n      */}\n      <Comp {...mainProps} />\n      {children}\n    </div>\n  );\n};\n'})}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.p,{children:"\u603b\u7684\u6765\u8bf4\u89c4\u8303\u6709\u4e09\u70b9\uff1a"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u5fc5\u987b\u4fdd\u8bc1\u6269\u5c55\u7ec4\u4ef6\u4e2d\u7684\u9996\u4e2a\u53c2\u6570 Comp \u88ab\u6e32\u67d3\u6765\u4fdd\u6301\u6e32\u67d3\u94fe"}),"\n",(0,t.jsx)(n.li,{children:"\u5fc5\u987b\u4fdd\u8bc1\u6269\u5c55\u7ec4\u4ef6\u4e2d\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570 mainProps \u89e3\u6784\u4f20\u9012\u7ed9 Comp \u7ec4\u4ef6"}),"\n",(0,t.jsx)(n.li,{children:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5728\u9700\u8981\u4f20\u9012\u81ea\u5df1\u7684 mainProps \u7ed9\u5e95\u5c42\u7684 BottomCellFunc \u7ec4\u4ef6\u65f6\uff0c\u5fc5\u987b\u4fdd\u8bc1\u5176\u4ed6\u6620\u5c04\u7ec4\u4ef6\u7684\u6b63\u5e38\u8c03\u7528"}),"\n"]})]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f TypeSctipt\uff0c\u6269\u5c55\u5355\u5143\u683c\u6620\u5c04\u5185\u5bb9\u540e\uff0c\u56e0\u4e3a",(0,t.jsx)(n.code,{children:"TXphTableProps"}),"\u7c7b\u578b\u4e2d\u4e0d\u5305\u542b\u4f60\u6269\u5c55\u7684\u7c7b\u578b\uff0c\u6240\u4ee5\u9700\u8981\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e0b\u7c7b\u578b\u6765\u4f7f\u7528\uff0c\u8be6\u7ec6\u53ef\u770b\u4e0b\u65b9 ts \u7c7b\u578b\u8c03\u6574\u3002"]})}),"\n",(0,t.jsx)(n.h2,{id:"\u6269\u5c55-xphactions-\u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9",children:"\u6269\u5c55 XphActions \u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9"}),"\n",(0,t.jsx)(n.h3,{id:"\u6269\u5c55\u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9",children:"\u6269\u5c55\u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9"}),"\n",(0,t.jsxs)(n.p,{children:["\u540c\u7406\uff0c",(0,t.jsx)(n.code,{children:"XphActions"}),"\u4e2d\u7684\u6620\u5c04\u5185\u5bb9\u4e5f\u662f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\uff0c\u4e5f\u662f\u901a\u8fc7\u7ed9",(0,t.jsx)(n.code,{children:"XphExtendCompPropsProvider"}),"\u6dfb\u52a0\u64cd\u4f5c\u7ec4\u6620\u5c04\u5bf9\u8c61\u5373\u53ef\u7684\u65b9\u5f0f\u3002"]}),"\n",(0,t.jsx)(a.A,{language:"tsx",children:d}),"\n",(0,t.jsx)("pre",{children:(0,t.jsx)(l.A,{children:(0,t.jsx)(s.YX,{})})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f TypeSctipt\uff0c\u6269\u5c55\u64cd\u4f5c\u7ec4\u6620\u5c04\u5185\u5bb9\u540e\uff0c\u56e0\u4e3a",(0,t.jsx)(n.code,{children:"IXphActionsProps"}),"\u7c7b\u578b\u4e2d\u4e0d\u5305\u542b\u4f60\u6269\u5c55\u7684\u7c7b\u578b\uff0c\u6240\u4ee5\u9700\u8981\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e0b\u7c7b\u578b\u6765\u4f7f\u7528\uff0c\u8be6\u7ec6\u53ef\u770b\u4e0b\u65b9 ts \u7c7b\u578b\u8c03\u6574\u3002"]})}),"\n",(0,t.jsx)(n.h2,{id:"ts-\u7c7b\u578b\u8c03\u6574",children:"ts \u7c7b\u578b\u8c03\u6574"}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u6269\u5c55\u4e86",(0,t.jsx)(n.code,{children:"xph-crud"}),"\u4e2d\u7684\u6620\u5c04\u7ec4\u4ef6\uff0c\u7ec4\u4ef6\u7684\u5c5e\u6027\u7c7b\u578b\u9700\u8981\u4f60\u4f20\u5165\u6620\u5c04\u5bf9\u8c61\u5c5e\u6027\u7684\u6cdb\u578b\uff0c\u5426\u8005\u7ec4\u4ef6\u7684\u7c7b\u578b\u4f1a\u5bf9\u5e94\u4e0d\u4e0a\u3002\u4f46\u662f\u5728\u8fd9\u91cc\u6211\u4eec\u5efa\u8bae\u4f60\u901a\u8fc7\u58f0\u660e\u5168\u5c40\u7684\u7c7b\u578b\uff0c\u518d\u4f7f\u7528\u5168\u5c40\u7684\u7c7b\u578b\u6765\u8fdb\u884c\u7ea6\u675f\uff0c\u8fd9\u6837\u65b9\u4fbf\u5f88\u591a\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"\u521b\u5efa\u5168\u5c40\u7c7b\u578b-inewxphformprops",children:"\u521b\u5efa\u5168\u5c40\u7c7b\u578b INewXphFormProps"}),"\n",(0,t.jsx)(n.p,{children:"\u65b0\u5efa xph-crud.d.ts \u4e8e\u9879\u76ee\u4e2d"}),"\n",(0,t.jsx)(a.A,{language:"tsx",children:m}),"\n",(0,t.jsx)(n.h3,{id:"\u4f8b\u5b50",children:"\u4f8b\u5b50"}),"\n",(0,t.jsx)(a.A,{language:"tsx",children:u}),"\n",(0,t.jsx)("pre",{children:(0,t.jsx)(l.A,{children:(0,t.jsx)(s.Fk,{})})})]})}function b(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(C,{...e})}):C(e)}},22886:(e,n,o)=>{o.d(n,{A:()=>l});var t=o(91507),r=(o(48318),o(49214));const l=e=>{let{children:n}=e;return(0,r.jsx)(t.A,{fallback:e=>{let{error:n,tryAgain:o}=e;return console.log(n),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["This component crashed because of error: ",n.message,"."]}),(0,r.jsx)("button",{onClick:o,children:"Try Again!"})]})},children:(0,r.jsx)("div",{className:"demo-wrapper",children:n})})}},22567:(e,n,o)=>{o.d(n,{A:()=>l});o(48318);var t=o(76460),r=o(49214);function l(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(t.A,{...e})})}},60310:(e,n,o)=>{o.d(n,{A:()=>r});var t=o(48318);const r={React:t,...t}},29452:(e,n,o)=>{o.d(n,{En:()=>zn,YX:()=>$n,N4:()=>_n,Fk:()=>Kn,tJ:()=>Un,p1:()=>Gn,lV:()=>Yn,XI:()=>Hn});var t=o(48318),r=o(23667),l=o(36780),a=o.n(l);const s=[];for(let Zn=0;Zn<=15;Zn++)s[Zn]=Zn.toString(16);function i(){let e="";for(let n=1;n<=36;n++)e+=9===n||14===n||19===n||24===n?"-":15===n?4:20===n?s[4*Math.random()|8]:s[16*Math.random()|0];return e.replace(/-/g,"")}var c=o(62412);function p(e){return"component"in e}var d=o(78924);var u=o(11067),m=o(49214);const h=e=>{const{componentProps:n}=e;return(0,m.jsx)(u.Ay,{...(()=>{const{...e}=n;return e})()})};var g=o(23535),f=o(35996);const x=e=>{const{componentProps:n}=e,o=(()=>{const{dropDownItems:e,onClick:o,...t}=n;return t})();return(0,m.jsx)(g.A,{disabled:o.disabled,menu:{items:n?.dropDownItems||[],onClick:n?.onClick},trigger:["click"],children:(0,m.jsx)("div",{children:(0,m.jsxs)(u.Ay,{...o,children:[o.children,(0,m.jsx)(f.A,{})]})})})},P=new Map;function C(){const{setExtendActionsComp:e}=A();e(P);return{renderContent:(0,t.useCallback)(((e,n)=>{const o=p(e),t=function(e){return"render"in e}(e);if(o){const o=P.get(e.component);return(0,m.jsx)(o,{...e},n)}return t?(0,m.jsx)("div",{children:e.render},n):null}),[])}}P.set("Button",h),P.set("Dropdown",x);const b=(0,t.createContext)({}),y=e=>{const{extendProps:n,extendComp:o}=e.value;return(0,m.jsx)(b.Provider,{value:{extendProps:n,extendComp:o},children:e.children})},v=()=>(0,t.useContext)(b),A=()=>{const{extendProps:e,extendComp:n}=v();return{extendActionsProps:e?.actions,setExtendActionsComp:e=>{const o=n?.actions;o&&Object.keys(o).forEach((n=>{e.set(n,o[n])}))}}};var k=o(97740),j=o(6017);const{useToken:w}=k.A,F=e=>{let{items:n,actionsProps:o}=e;const{type:t,disabled:r}=o,{renderContent:l}=C(),{token:a}=w(),s={backgroundColor:a.colorBgElevated,borderRadius:a.borderRadiusLG,boxShadow:a.boxShadowSecondary};return(0,m.jsx)(g.A,{disabled:r,menu:{items:[]},dropdownRender:()=>(0,m.jsx)("div",{style:s,children:(0,m.jsx)(j.A,{style:{padding:8},children:n?.map(((e,n)=>l(e,n)))})}),trigger:["click"],children:(0,m.jsxs)(u.Ay,{type:t,children:["\u66f4\u591a",(0,m.jsx)(f.A,{})]})})},I=e=>{const{actionsProps:n}=function(e){const{inherit:n=!0}=e,{extendActionsProps:o}=A();return{actionsProps:{...(0,c.A)((0,c.A)({items:[],max:10},n?o:{}),e)}}}(e),{showActionItems:o,ellipsisActionItems:r}=function(e){const{type:n,disabled:o,items:t,max:r}=e,l=t.map((e=>{const t={...e};return p(t)&&(t.componentProps={type:n,disabled:o,...t.componentProps}),t})),a=(0,d.A)(r)&&r>=0;return{showActionItems:l.slice(0,a?r:l.length),ellipsisActionItems:l.slice(a?r:l.length)}}(n),{renderContent:l}=C();return n?.render?n.render:(0,m.jsxs)(t.Fragment,{children:[o?.map(((e,n)=>l(e,n))),r?.length?(0,m.jsx)(F,{actionsProps:n,items:r}):null]})};const R=e=>{const{extendDialogProps:n}=S(),o={width:700,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",getPopperContainer:()=>document.body};return{dialogProps:{...(0,c.A)((0,c.A)(o,n),e)},baseDialogProps:o}},S=()=>{const{extendProps:e}=v();return{extendDialogProps:e?.dialog}},M=(e,n)=>{const{onOpen:o,onClose:t}=e;return{open:()=>{n(!0),o&&o()},close:()=>{n(!1),t&&t()}}},T=(e,n,o)=>{const{width:r,height:l}=n,{width:a,height:s}=o,i=a||r,c=s||l,{clientWidth:p,clientHeight:d}=e,u=i?i>p?p:i:0,m=c?c>d?d:c:"unset",[h,g]=(0,t.useState)(u),[f,x]=(0,t.useState)(m);return(0,t.useEffect)((()=>{u!==h&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u5bbd\u5ea6"),g(u)),m!==f&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u9ad8\u5ea6"),x(m))}),[u,m]),{dialogWidth:h,dialogHeight:f,setWidth:g,setHeight:x}},D=e=>{let{visible:n,container:o,dialogWidth:r,dialogHeight:l}=e;const[a,s]=(0,t.useState)(0),[i,c]=(0,t.useState)(0);(0,t.useEffect)((()=>{if(n){const{clientWidth:e,clientHeight:n}=o,t=Math.floor(e/2),r=Math.floor(n/2);s(t),c(r)}}),[n,r,l]);return{dialogLeft:a,dialogTop:i,setDialogPosition:e=>{let{left:n,top:o}=e;void 0!==n&&s(n),void 0!==o&&c(o)}}},V=e=>{let{container:n,dialogHeaderRef:o,dialogRef:r,setDialogPosition:l}=e;const a=(0,t.useRef)(0),s=(0,t.useRef)(0),i=(0,t.useCallback)((e=>{const{offsetLeft:n,offsetTop:o}=r.current;a.current=e.clientX-n,s.current=e.clientY-o,document.addEventListener("mousemove",c),document.addEventListener("mouseup",p)}),[]),c=(0,t.useCallback)((e=>{const o=r.current,{translateX:t,translateY:i}=(e=>{const n=e.getBoundingClientRect();return{translateX:-.5*n.width,translateY:-.5*n.height}})(o);let c=e.clientX-a.current,p=e.clientY-s.current;const d=-t,u=-i,m=n.scrollWidth-o.offsetWidth-t,h=n.scrollHeight-o.offsetHeight-i;c<d&&(c=d),c>m&&(c=m),p<u&&(p=u),p>h&&(p=h),l({left:c,top:p})}),[]),p=(0,t.useCallback)((()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",p)}),[]);return(0,t.useEffect)((()=>{const e=o.current;return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}}),[]),{}},E=e=>{let{close:n,setMinimizeVisible:o}=e;return{onMinimize:()=>{o(!0)},onMaximize:()=>{o(!1)},onClose:()=>{o(!1),n()}}},B=e=>{let{visible:n,container:o,dialogHeight:r,dialogRef:l,dialogHeaderRef:a,dialogFooterRef:s}=e;const[i,c]=(0,t.useState)("unset");return(0,t.useEffect)((()=>{if(n){const e=0,n=0,{clientHeight:t}=o,r=a.current?.offsetHeight,i=s.current?.offsetHeight,p=l.current?.getBoundingClientRect().height;let d=p-r-i-(e+n);console.log(d,"mainMaxHeight");const u=t-r-i-(e+n);console.log(u,"containerMainMaxHeight"),d>u&&(d=u),c(d)}}),[n,r]),{contentMaxHeight:i,setContentMaxHeight:c}},X=()=>{const[e,n]=(0,t.useState)(160),[o,r]=(0,t.useState)(60),l=(0,t.useRef)(null),[a,s]=(0,t.useState)(!1);return{minimizeTop:o,minimizeLeft:e,minimizeRef:l,minimizeVisible:a,setMinimizeVisible:s,setMinimizePosition:e=>{let{left:o,top:t}=e;void 0!==o&&n(o),void 0!==t&&r(t)}}},N=e=>{let{visible:n,dialogRef:o,minimizeRef:r,container:l}=e;const a=e=>{const n=l.querySelectorAll(".xph-dialog"),t=n[n.length-1];var r,a;if(o.current?.parentNode!==t&&(r=o.current?.parentNode,a=t,console.log("\u89e6\u53d1\u63d2\u5165"),a.parentNode.insertBefore(r,a.nextSibling),e)){const n=e.target;"INPUT"===n.tagName&&n.focus&&n.focus()}};(0,t.useEffect)((()=>(o.current?.addEventListener("mousedown",a,!0),r.current?.addEventListener("mousedown",a,!0),()=>{o.current?.removeEventListener("mousedown",a,!0),r.current?.removeEventListener("mousedown",a,!0)})),[]),(0,t.useEffect)((()=>{n&&a()}),[n])},Y="minimize-windows_sYFu",H="minimize-windows-title_KECT",z="minimize-windows-operate_zPqC";var W=o(79633),_=o(6292);const L=(0,t.forwardRef)(((e,n)=>{let{title:o,left:t,top:r,visible:l,onMaximize:a,onClosesquare:s}=e;return(0,m.jsxs)("div",{style:{display:l?"flex":"none",left:t,top:r},className:Y,ref:n,children:[(0,m.jsx)("div",{className:H,title:o,children:o}),(0,m.jsxs)("div",{className:z,children:[(0,m.jsx)(u.Ay,{type:"link",onClick:a,icon:(0,m.jsx)(W.A,{style:{fontSize:"22px",cursor:"pointer"}})}),(0,m.jsx)(u.Ay,{type:"link",onClick:s,icon:(0,m.jsx)(_.A,{style:{fontSize:"22px",cursor:"pointer"}})})]})]})})),U="xph-dialog-mask_h6K7",q="xph-dialog-wrapper_YAvO",G="dialog__header_dtup",O="dialog__header-btns_HSE7",$="dialog__main_G3dF",J="dialog__footer_wRZ7";var K=o(92966);const Z=(0,t.forwardRef)(((e,n)=>{console.log("render Dialog==============================================");const{children:o,baseDialogProps:r,mask:l}=e,[a,s]=(0,t.useState)(!1),{footerActions:i}=function(e){const{okText:n,cancelText:o,onCancel:t,onOk:r,okProps:l,cancelProps:a}=e;return{footerActions:{max:2,items:[{component:"Button",componentProps:{...a,children:o,onClick:t}},{component:"Button",componentProps:{type:"primary",...l,children:n,onClick:r}}]}}}(e),{title:c,renderFooter:p,renderTitle:d,getPopperContainer:h}=e,{open:g,close:f}=M(e,s),x=h(),P=(0,t.useRef)(null),C=(0,t.useRef)(null),b=(0,t.useRef)(null),y=(0,t.useRef)(null),{dialogWidth:v,dialogHeight:A}=T(x,r,e),{dialogLeft:k,dialogTop:j,setDialogPosition:w}=D({visible:a,container:x,dialogWidth:v,dialogHeight:A}),{contentMaxHeight:F}=B({visible:a,container:x,dialogHeight:A,dialogRef:P,dialogHeaderRef:C,dialogFooterRef:y}),{minimizeLeft:R,minimizeTop:S,minimizeRef:Y,minimizeVisible:H,setMinimizeVisible:z,setMinimizePosition:Z}=X(),{onMaximize:Q,onMinimize:ee,onClose:ne}=E({close:f,setMinimizeVisible:z});V({container:x,dialogHeaderRef:C,dialogRef:P,setDialogPosition:w});return V({container:x,dialogHeaderRef:Y,dialogRef:Y,setDialogPosition:Z}),N({visible:a,container:x,dialogRef:P,minimizeRef:Y}),(0,t.useImperativeHandle)(n,(()=>({open:g,close:ne}))),(0,m.jsxs)("div",{className:"xph-dialog",children:[l?(0,m.jsx)("div",{className:U,style:{display:a?"block":"none",width:x.scrollWidth,height:x.scrollHeight}}):null,(0,m.jsx)(L,{visible:H,ref:Y,left:R,top:S,title:c,onMaximize:Q,onClosesquare:ne}),(0,m.jsxs)("div",{ref:P,className:q,style:{display:a&&!H?"flex":"none",left:k,top:j,width:v,height:A},children:[(0,m.jsxs)("div",{ref:C,className:G,children:[(0,m.jsx)("div",{children:d?d():c}),(0,m.jsxs)("div",{className:O,children:[(0,m.jsx)(u.Ay,{type:"link",onClick:ee,icon:(0,m.jsx)(K.A,{style:{fontSize:"22px",cursor:"pointer"}})}),(0,m.jsx)(u.Ay,{type:"link",onClick:Q,icon:(0,m.jsx)(W.A,{style:{fontSize:"22px",cursor:"pointer"}})}),(0,m.jsx)(u.Ay,{type:"link",onClick:ne,icon:(0,m.jsx)(_.A,{style:{fontSize:"22px",cursor:"pointer"}})})]})]}),(0,m.jsx)("div",{ref:b,className:$,style:{maxHeight:F},children:a?o:null}),p?(0,m.jsx)("div",{ref:y,children:p()}):(0,m.jsx)("div",{ref:y,className:J,children:(0,m.jsx)(I,{...i})})]})]})})),Q=(e,n)=>{const{children:o,...t}=e,{baseDialogProps:r,dialogProps:l}=R(t),{getPopperContainer:a}=l;return console.log("render XphDialog=============================================="),(0,m.jsx)(oe,{getPopperContainer:a,children:(0,m.jsx)(Z,{...l,baseDialogProps:r,ref:n,children:o})})},ee=(0,t.forwardRef)(Q);var ne=o(91627);const oe=e=>{let{children:n,getPopperContainer:o}=e;const[r,l]=t.useState(null);return(0,t.useEffect)((()=>{const e=o();l(e)}),[]),r?ne.createPortal(n,r):null};var te=o(80681),re=o(76154);function le(e){return"component"in e}function ae(e){return"render"in e}var se=o(91085),ie=o(7361),ce=o(95810),pe=o(52606),de=o(51976);const ue=["DatePicker","MonthPicker","RangePicker","WeekPicker","TimePicker"],me=e=>{let{formProps:n}=e;const{items:o}=n;return{formItems:o.map((e=>({...e})))}},he=(e,n)=>{const o=e=>(Object.keys(e).forEach((n=>{Object.defineProperty(e,n,{value:e[n],writable:!1,enumerable:!0,configurable:!1})})),e),r={};e.items.forEach((e=>{r[e.name]=e.initialValue}));const l=(e=>{const{show:n,ifShow:o,required:t,disabled:r,componentProps:l}=e;return!!((0,ie.A)(n)||(0,ie.A)(o)||(0,ie.A)(t)||(0,ie.A)(r)||(0,ie.A)(l)||ae(e))})(n),a=l?te.A.useWatch((e=>o(e))):null;return{rewritingModel:(0,t.useMemo)((()=>a||o(r)),[a]),isusewatch:l}},ge=()=>{const e=(0,t.useRef)(null);const n={getFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.getFieldsValue(...arguments)},setFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.setFieldsValue(...arguments)},resetFields:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.resetFields(...arguments)},validator:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.validator(...arguments)},scrollToField:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.scrollToField(...arguments)}};return(0,t.useEffect)((()=>(console.log("ParentComponent is mounted====================================="),()=>{console.log("ParentComponent is unmounted===================================="),e.current=null})),[]),[function(n){e.current=n},n]};var fe=o(87609),xe=o(5264),Pe=o(42922),Ce=o(55672);const be=(e,n,o)=>{const t=e.filter((e=>e.name));return{handleFormatRenderValues:e=>{const n={},o=[];return t.forEach((t=>{const r=Reflect.has(e,t.name),l=function(e,n){void 0===n&&(n={});const o=/^\[(.+)\]$/;if(o.test(e)){const t=e.match(o);if(t&&t[1]){const e=t[1].split(",");if(!e.length)return;const o=[];return e.forEach(((e,t)=>{(0,fe.A)(o,t,n[e.trim()])})),o.filter(Boolean).length?o:void 0}}}(t.name,e)||function(e,n){void 0===n&&(n={});const o=/^\{(.+)\}$/;if(o.test(e)){const t=e.match(o);if(t&&t[1]){const e=t[1].split(",");if(!e.length)return;const o={};return e.forEach((e=>{(0,fe.A)(o,e.trim(),n[e.trim()])})),Object.values(o).filter(Boolean).length?o:void 0}}}(t.name,e);if(r||l){const r=l||e[t.name];if(le(t))if(ue.includes(t.component)){if((0,xe.A)(r)){const e=[];for(const n of r)e.push(n?a()(n):null);n[t.name]=e}else n[t.name]=r?a()(r):null;o.push(t.name)}else n[t.name]=r,o.push(t.name);ae(t)&&(n[t.name]=r,o.push(t.name))}})),{renderValues:n,validKeys:o}},handleFormatReturnValues:e=>{if(!(0,Pe.A)(e))return{};const t={};for(const r of Object.entries(e)){let[,e]=r;const[l]=r;if(!l||(0,xe.A)(e)&&0===e.length||(0,ie.A)(e))continue;const{transformDateFunc:a}=n,s=o.current?.get(l)?.current?.componentProps,i=s?.valueFormat;if((0,Pe.A)(e)){const n=e;n.format&&(e=a?.(n,i))}(0,xe.A)(e)&&e[0]?.format&&e[1]?.format&&(e=e.map((e=>a?.(e,i)))),(0,Ce.A)(e)&&(e=""===e?void 0:e.trim()),t[l]=e}return function(e,n){const o=n.fieldMapToTime;if(!o||!Array.isArray(o))return e;for(const[t,[r,l],s="YYYY-MM-DD"]of o){if(!t||!r||!l)continue;if(!e[t]){Reflect.deleteProperty(e,t);continue}const[n,o]=e[t],[i,c]=Array.isArray(s)?s:[s,s];e[r]=a()(n).format(i),e[l]=a()(o).format(c),Reflect.deleteProperty(e,t)}return e}(t,n)}}},ye=(e,n,o)=>({getFieldsValue:function(){return o(e.getFieldsValue(...arguments))},setFieldsValue:o=>{const{renderValues:t,validKeys:r}=n(o);e.setFieldsValue(t),e.validateFields(r)},resetFields:async()=>e.resetFields(),validator:async n=>e.validateFields(n).then((e=>o(e))),scrollToField:async(n,o)=>e.scrollToField(n,o)}),ve=e=>{const{extendFormProps:n}=je();return{formProps:{...(0,c.A)((0,c.A)({collapseNum:5,colon:!1,items:[],labelWrap:!0,transformDateFunc:(e,n)=>e?.format?.(n||"YYYY-MM-DD HH:mm:ss")??e,fieldMapToTime:[]},n),e)}}},Ae=e=>{const{immediate:n=!0,params:o,api:r,apiCallback:l,isUseWatch:a}=e,s=(0,t.useRef)(!0),i=(0,t.useRef)(o),c=()=>{r&&(0,ie.A)(r)&&(o?r(o).then(l):r().then(l),i.current=o)};return(0,t.useEffect)((()=>{s.current&&(n&&c(),s.current=!1),!s.current&&a&&((0,pe.A)(o,i.current)||n&&c())}),[o]),{getApiData:c}},ke=(e,n)=>{const{collapsible:o,collapseNum:r}=e,l=(0,t.useRef)();return{collapsible:o,collapseNum:r,collapseRef:l,onClickCollapseToTrue:()=>{n.current?.forEach((e=>{if(e.current){const{itemIndex:n}=e.current;n>=r&&o&&e.current.setItemCollapse(!0)}}))},onClickCollapseToFalse:()=>{n.current?.forEach((e=>{if(e.current){const{itemCollapse:n}=e.current;n&&e.current.setItemCollapse(!1)}}))}}},je=()=>{const{extendProps:e,extendComp:n}=v();return{extendFormProps:e?.form,setExtendFormComp:e=>{const o=n?.form;o&&Object.keys(o).forEach((n=>{e.set(n,o[n])}))}}};var we=o(87046),Fe=o(18726),Ie=o(16872),Re=o(19843),Se=o(89876),Me=o(50908),Te=o(51358),De=o(32899),Ve=o(46604),Ee=o(33360),Be=o(77869),Xe=o(10179),Ne=o(62330);const Ye=e=>{console.log("render ApiSelect");const{api:n,params:o,immediate:r=!0,isusewatch:l,onDropdownVisibleChange:a}=e,s="true"===l,[i,c]=t.useState([]),{getApiData:p}=Ae({api:n,immediate:r,params:o,apiCallback:c,isUseWatch:s});return(0,m.jsx)(Fe.A,{...(()=>{const{api:n,params:o,immediate:t,isusewatch:r,...l}=e;return l})(),options:i,onDropdownVisibleChange:e=>{e&&!r&&p(),a&&a(e)}})},He=e=>{console.log("render ApiTreeSelect");const{api:n,params:o,immediate:r=!0,isusewatch:l,onDropdownVisibleChange:a}=e,s="true"===l,[i,c]=t.useState([]),{getApiData:p}=Ae({api:n,immediate:r,params:o,apiCallback:c,isUseWatch:s});return(0,m.jsx)(Re.A,{...(()=>{const{api:n,params:o,immediate:t,isusewatch:r,...l}=e;return l})(),treeData:i,onDropdownVisibleChange:e=>{e&&!r&&p(),a&&a(e)}})},ze=e=>{console.log("render ApiTransfer");const{api:n,params:o,isusewatch:r}=e,l="true"===r,[a,s]=t.useState([]),{getApiData:i}=Ae({api:n,params:o,apiCallback:s,isUseWatch:l});return(0,m.jsx)(Se.A,{...(()=>{const{api:n,params:o,isusewatch:t,...r}=e;return r})(),dataSource:a})},We=e=>{console.log("render ApiAutoComplete");const{api:n,params:o,immediate:r=!0,isusewatch:l,onDropdownVisibleChange:a}=e,s="true"===l,[i,c]=t.useState([]),{getApiData:p}=Ae({api:n,immediate:r,params:o,apiCallback:c,isUseWatch:s});return(0,m.jsx)(Xe.A,{...(()=>{const{api:n,params:o,immediate:t,isusewatch:r,...l}=e;return l})(),options:i,onDropdownVisibleChange:e=>{e&&!r&&p(),a&&a(e)}})};var _e=o(28172);const Le={String:"String","String[]":"String[]","File[]":"File[]",FileList:"FileList"},Ue=e=>{console.log("render AutoUpload"),console.log(i());const n="",{api:o,maxCount:r=1,maxSize:l=2,listType:a="picture-card",openCrop:s=!1,data:c,returnType:p=Le.String,value:d=n,onChange:u}=e,h=(0,t.useRef)(!0),g=(0,t.useRef)(0),f=(0,t.useRef)([]),[x,P]=(0,t.useState)([]),C=e=>{f.current=e,P([...e])},b=e=>{s?(_e.Ay.error("\u6682\u65f6\u4e0d\u652f\u6301\u88c1\u526a\u529f\u80fd\uff0c\u540e\u7eed\u517c\u5bb9\u3002\u3002\u3002\u3002"),y({file:e})):y({file:e})},y=e=>{var n;o?o({file:e.file,...c}).then((e=>{C([...f.current,...e])})).finally((()=>{g.current--})):(Object.assign(e.file,{status:"done",url:URL.createObjectURL(new Blob([e.file],{type:(n=e.file.type,["application/json","application/javascript","text/plain","text/html","text/css"].includes(n)?`${n}; charset=utf-8`:n)}))}),C([...f.current,e.file]),g.current--)},v=e=>({uid:(e=>{const n=f.current.find((n=>n.url===e));return n?n.uid:i()})(e),name:(e=>{const n=e.split("/"),o=n[n.length-1],[t]=o.split("?");return t})(e),url:e,status:"done"}),A=()=>{switch(p){case Le.String:return x.map((e=>e.url)).join(",");case Le["String[]"]:return x.map((e=>e.url));case Le["File[]"]:case Le.FileList:return[...x]}};return(0,t.useEffect)((()=>{const e=A();if((0,pe.A)(e,d))return;let n=[];switch(p){case Le.String:n=(d||"").split(",").filter((e=>e)).map((e=>v(e)));break;case Le["String[]"]:n=(d||[]).map((e=>v(e)));break;case Le["File[]"]:case Le.FileList:n=(d||[]).map((e=>e))}C(n)}),[d]),(0,t.useEffect)((()=>{if(h.current)return void(h.current=!1);const e=A();u?.(e)}),[x]),(0,m.jsx)(Ne.A,{listType:a,...(()=>{const{api:n,maxCount:o,maxSize:t,openCrop:r,beforeUpload:l,fileList:a,returnType:s,...i}=e;return i})(),fileList:x,beforeUpload:e=>{const n=e.size/1024/1024<l;n||_e.Ay.error(`\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7:${l}M, \u8bf7\u91cd\u8bd5`);const o=f.current.length+g.current<r;o||_e.Ay.error(`\u6587\u4ef6\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7${r}\u4e2a`),n&&o&&g.current++;return n&&o&&b(e),Ne.A.LIST_IGNORE},onChange:e=>{const{file:n,fileList:o}=e,{status:t}=n;if("removed"===t)C([...o])},children:"\u4e0a\u4f20"})},qe=new Map;qe.set("Input",we.A),qe.set("ApiSelect",Ye),qe.set("Select",Fe.A),qe.set("InputNumber",Ie.A),qe.set("ApiTreeSelect",He),qe.set("TreeSelect",Re.A),qe.set("ApiTransfer",ze),qe.set("Transfer",Se.A),qe.set("Switch",Me.A),qe.set("Button",u.Ay),qe.set("Radio",Te.Ay),qe.set("RadioGroup",Te.Ay.Group),qe.set("Checkbox",De.A),qe.set("CheckboxGroup",De.A.Group),qe.set("Cascader",Ve.A),qe.set("TimePicker",Ee.A),qe.set("DatePicker",Be.A),qe.set("MonthPicker",Be.A.MonthPicker),qe.set("WeekPicker",Be.A.WeekPicker),qe.set("RangePicker",Be.A.RangePicker),qe.set("InputPassword",we.A.Password),qe.set("InputTextArea",we.A.TextArea),qe.set("ApiAutoComplete",We),qe.set("AutoComplete",Xe.A),qe.set("Upload",Ne.A),qe.set("AutoUpload",Ue);var Ge=o(83528);const Oe="form-item-force_b_AE",$e="form-item-hidden_XN1B",Je=(0,t.forwardRef)(((e,n)=>{let{itemIndex:o,itemProps:r,methods:l,formProps:a,collapseRef:s}=e;console.log("render FormItem",r.name);const{rewritingModel:i,isusewatch:c}=he(a,r),{isIfShow:p,isShow:d}=((e,n,o)=>{const r=(0,t.useRef)(null),l=(0,t.useRef)(null),{handleCollapseChangeFalse:a}=o.current||{},{show:s,ifShow:i}=e;let c=!0,p=!0;if((0,se.A)(s)&&(c=s),(0,se.A)(i)&&(p=i),(0,ie.A)(s)){c=s({model:n});const e=(0,ce.A)(r.current)?c:r.current;(0,t.useEffect)((()=>{(0,pe.A)(c,e)||a&&a()}),[n])}if((0,ie.A)(i)){p=i({model:n});const e=(0,ce.A)(l.current)?p:l.current;(0,t.useEffect)((()=>{(0,pe.A)(p,e)||a&&a()}),[n])}return r.current=c,l.current=p,{isShow:c,isIfShow:p}})(r,i,s),{colProps:u}=((e,n)=>{const{colProps:o={}}=e,{colProps:t={span:24}}=n;return{colProps:{...t,...o}}})(r,a),{componentProps:h}=((e,n)=>{const o={},{componentProps:t={}}=e;return(0,ie.A)(t)&&Object.assign(o,t({model:n})),Object.assign(o,t),{componentProps:o}})(r,i),{rules:g}=(e=>{let{item:n,model:o,isShow:t,componentProps:r}=e;const{rules:l=[],label:a,required:s}=n;let i=l;const c=le(n),p=c?((d=n.component).includes("Input")||d.includes("Complete")?"\u8bf7\u8f93\u5165":d.includes("Picker")||d.includes("Select")||d.includes("Cascader")||d.includes("Checkbox")||d.includes("Radio")||d.includes("Switch")?"\u8bf7\u9009\u62e9":"")+a:"";var d;function u(e,n){const o=e.message||p;return void 0===n||(0,de.A)(n)||Array.isArray(n)&&0===n.length||"string"==typeof n&&""===n.trim()||"object"==typeof n&&Reflect.has(n,"checked")&&Reflect.has(n,"halfChecked")&&Array.isArray(n.checked)&&Array.isArray(n.halfChecked)&&0===n.checked.length&&0===n.halfChecked.length?Promise.reject(o):Promise.resolve()}const m=(0,ie.A)(s)?s({model:o}):s;m&&(i&&0!==i.length?-1===i.findIndex((e=>Reflect.has(e,"required")))&&i.push({required:m,validator:u}):i=[{required:m,validator:u}]);const h=i.findIndex((e=>Reflect.has(e,"required")&&!Reflect.has(e,"validator")));if(-1!==h){const e=i[h];if(t||(e.required=!1),c){const{component:o}=n;Reflect.has(e,"type")||(e.type="InputNumber"===o?"number":"string"),e.message=e.message||p,(o.includes("Input")||o.includes("Textarea"))&&(e.whitespace=!0),function(e,n,o){["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(n)?e.type=o?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(n)?e.type="array":["InputNumber"].includes(n)&&(e.type="number")}(e,o,r.valueFormat)}}const g=i.findIndex((e=>e.max));return-1===g||i[g].validator||(i[g].message=i[g].message||`\u5b57\u7b26\u6570\u5e94\u5c0f\u4e8e${i[g].max}\u4f4d`),{rules:i}})({item:r,model:i,isShow:d,componentProps:h}),{disabled:f}=((e,n,o)=>{const{disabled:t}=e;let r=!1;const{disabled:l}=n;return(0,ie.A)(l)&&(r=l({model:o})),(0,se.A)(l)&&(r=l),{disabled:Reflect.has(n,"disabled")?r:t}})(a,r,i),{itemCollapse:x,setItemCollapse:P}=((e,n)=>{const{collapsible:o,collapseNum:r}=e,[l,a]=(0,t.useState)(!!(o&&n>=r));return{itemCollapse:l,setItemCollapse:a}})(a,o),{name:C,label:b,wrapperCol:y,labelCol:v,valuePropName:A,initialValue:k,forceRow:j}=r;(0,t.useImperativeHandle)(n,(()=>({itemIndex:o,componentProps:h,itemCollapse:x,setItemCollapse:P})));const{setExtendFormComp:w}=je();w(qe);const F=le(r),I=ae(r);return(0,m.jsxs)(t.Fragment,{children:[j?(0,m.jsx)("div",{className:Oe}):null,p?(0,m.jsx)(Ge.A,{...u,className:d&&!x?void 0:$e,children:(0,m.jsx)(te.A.Item,{name:C,label:b,rules:g,wrapperCol:y,labelCol:v,valuePropName:A,initialValue:k,children:(()=>{if(F){const e=qe.get(r.component);return(0,m.jsx)(e,{...h,disabled:f,isusewatch:c.toString()})}return I?r.render({model:i,name:C,disabled:f,methods:l,componentProps:h}):null})()})}):null]})}));var Ke=o(81378),Ze=o(70463);const Qe="collapse-wrapper_pYhf",en=(0,t.forwardRef)(((e,n)=>{let{collapsible:o,onClickExpand:r,onClickFold:l}=e;const[a,s]=(0,t.useState)(o),i=(0,t.useMemo)((()=>a),[a]),c=()=>{r(),s(!1)};return(0,t.useImperativeHandle)(n,(()=>({handleCollapseChangeFalse:c}))),(0,m.jsx)("div",{className:Qe,children:i?(0,m.jsx)(u.Ay,{onClick:c,type:"link",icon:(0,m.jsx)(Ke.A,{}),children:"\u5c55\u5f00"}):(0,m.jsx)(u.Ay,{onClick:()=>{l(),s(!0)},type:"link",icon:(0,m.jsx)(Ze.A,{}),children:"\u6298\u53e0"})})})),nn="group-wrapper_MO6x",on=e=>{let{formProps:n}=e;const{renderActions:o}=n;return(0,m.jsx)("div",{className:nn,children:o?.()})},tn="xph-form-action_NeAH",rn=(e,n)=>{console.log("render Form");const[o]=te.A.useForm(),{formProps:r}=ve(e),{formItems:l}=me({formProps:r}),a=(0,t.useRef)(new Map),{collapsible:s,collapseNum:i,collapseRef:c,onClickCollapseToFalse:p,onClickCollapseToTrue:d}=ke(r,a),{handleFormatRenderValues:u,handleFormatReturnValues:h}=be(l,r,a),{setFieldsValue:g,getFieldsValue:f,resetFields:x,validator:P,scrollToField:C}=ye(o,u,h),b={setFieldsValue:g,getFieldsValue:f,resetFields:x,validator:P,scrollToField:C};return(0,t.useImperativeHandle)(n,(()=>({...b}))),(0,t.useEffect)((()=>(console.log("Form is mounted======================="),r.register&&r.register(b),()=>{console.log("Form is unmounted========================="),a.current.clear()})),[]),(0,m.jsxs)(te.A,{form:o,...(()=>{const{layout:e,wrapperCol:n,labelCol:o,colon:t,disabled:l,labelWrap:a,labelAlign:s,scrollToFirstError:i,size:c}=r;return{layout:e,wrapperCol:n,labelCol:o,colon:t,disabled:l,labelWrap:a,labelAlign:s,scrollToFirstError:i,size:c}})(),children:[(0,m.jsx)(re.A,{children:l.map(((e,n)=>(a.current.has(e.name)||a.current.set(e.name,t.createRef()),(0,m.jsx)(Je,{ref:a.current.get(e.name),itemIndex:n,itemProps:e,formProps:r,methods:b,collapseRef:c},n))))}),(0,m.jsxs)("div",{className:tn,children:[(0,m.jsx)(on,{formProps:r}),s?(0,m.jsx)(en,{ref:c,collapsible:l.length>i,onClickExpand:p,onClickFold:d}):null]})]})},ln=(0,t.forwardRef)(rn);var an=o(58138),sn=o(94181),cn=o(82109);const pn=(0,t.memo)(ln),dn=(0,t.forwardRef)(((e,n)=>{const{renderActions:o,showSearch:r,tableRef:l}=e,[a,s]=(0,t.useState)(!1),i=(0,t.useRef)(null),c=()=>{const{reloadData:e}=l.current;e()},p=()=>{const{resetData:e}=l.current;e()},d=(0,t.useCallback)((()=>(0,m.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,m.jsx)("div",{style:{flex:1,width:0},children:o?.()}),r&&(0,m.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,m.jsx)(u.Ay,{type:"primary",icon:(0,m.jsx)(sn.A,{}),onClick:c,children:"\u641c\u7d22"}),(0,m.jsx)(u.Ay,{icon:(0,m.jsx)(cn.A,{}),onClick:p,children:"\u91cd\u7f6e"})]})]})),[r,o]);return(0,t.useImperativeHandle)(n,(()=>({setFormLoading:s,...i.current}))),(0,m.jsx)(an.A,{spinning:a,children:(0,m.jsx)(pn,{ref:i,...(()=>{const{renderActions:n,...o}=e;return{...o,renderActions:d}})()})})})),un=(0,t.memo)(ln),mn=(e,n)=>{const o=(0,t.useRef)(null),r=(0,t.useRef)(null),{formProps:l}=e;return(0,t.useImperativeHandle)(n,(()=>({open:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return o.current?.open(...n)},close:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return o.current?.close(...n)},getFieldsValue:function(){return r.current.getFieldsValue(...arguments)},setFieldsValue:function(){return r.current.setFieldsValue(...arguments)},resetFields:function(){return r.current.resetFields(...arguments)},validator:function(){return r.current.validator(...arguments)},scrollToField:function(){return r.current.scrollToField(...arguments)}}))),(0,m.jsx)(ee,{...(()=>{const{formProps:n,...o}=e;return o})(),ref:o,children:(0,m.jsx)(un,{...l,ref:r})})},hn=(0,t.forwardRef)(mn);const{useToken:gn}=k.A,fn="cellfunc-actions_X5w1",xn={link:{Comp:(e,n,o)=>{const{curComponentProps:t,cellFuncProps:r}=n,{url:l,onClick:a}=t,{token:s}=gn(),i={color:s.colorLink,cursor:"pointer"};return(0,m.jsx)(e,{...o,mainClick:()=>{o.mainClick&&o.mainClick(),a?a():l&&window.open(l,"_blank")},mainStyle:Object.assign(i,o?.mainStyle||{})})}},actions:{Comp:(e,n,o)=>{const{curComponentProps:t,cellFuncProps:r}=n;return(0,m.jsx)("div",{className:fn,children:(0,m.jsx)(I,{...t})})}}},Pn=(e,n)=>{const{renderPrams:{text:o}}=e;return(0,m.jsx)("span",{onClick:n?.mainClick,style:n?.mainStyle,children:o})},Cn=e=>{const{setExtendTableCellComp:n}=jn();n(xn);const{dslConfig:o}=e;let t=Pn.bind(null,e),r=0;for(;r<o.length;){const n=r++,l=xn[o[n].component];l&&(t=l.Comp.bind(null,t,{curComponentProps:o[n].componentProps||{},cellFuncProps:e}))}return(0,m.jsx)(t,{})};function bn(e){return e.map((e=>{let n={...e};if("cellFunc"in n){const{cellFunc:e,...o}=n;n={...o,render:function(){const n=(0,ie.A)(e);for(var o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];const[l,a,s]=t,i={text:l,record:a,index:s},c=n?e(i):e;return(0,m.jsx)(Cn,{dslConfig:c,renderPrams:i})}}}return function(e){return"children"in e}(n)&&n.children&&Array.isArray(n.children)&&(n.children=bn(n.children)),n}))}function yn(e){const{columns:n}=e.table,o=bn(n);return console.log(o),{columns:o}}const vn=e=>{const{extendTableProps:n}=jn();return{tableProps:{...(0,c.A)((0,c.A)({table:{columns:[],fullHeight:!1,autoRequest:!0,pagination:{pageSize:20,total:0,showTotal:e=>`\u5171\uff1a${e} \u6761`,current:1,pageSizeOptions:[10,20,50,100],showSizeChanger:!0,showQuickJumper:!0}},crudFormDialog:void 0,searchForm:{showSearch:!0,items:[]}},n),e)}}};function An(e,n){const{api:o,formatDataSource:r,autoPagination:l,onChange:a}=e.table,s=e.onPaginationChange,{pagination:i,lastPaginationState:c}=function(e){const{pagination:n,autoPagination:o}=e.table,[r,l]=(0,t.useState)(n),a=(0,t.useRef)(n),s=(0,t.useMemo)((()=>r&&(!0===o||void 0===o)||!1),[r]),i={model:r,update:e=>{if(!a.current)return;const n={...a.current,...e};l(n),a.current=n},show:s};return{pagination:i,lastPaginationState:a}}(e),[p,d]=(0,t.useState)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),u=(0,t.useRef)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),m={model:p,update:e=>{const o={...u.current,...e};d(o),u.current=o,n.current?.setFormLoading(o.loading)}},h=async e=>{let{searchFormParams:n,paginationParams:t}=e;const l={...n};return o(l).then((e=>{const n=r?r(e):e;m.update({selection:[],dataSource:n}),i.update({current:1,total:e.length})})).finally((()=>{m.update({loading:!1})}))},g=async e=>{let{searchFormParams:n,paginationParams:t}=e;if(m.update({loading:!0,selection:[]}),o){switch(!!c.current){case!0:return!0===l?(async e=>{let{searchFormParams:n,paginationParams:t}=e;const l={...n};if(t){const{current:e,pageSize:n}=t;i.update({current:e,pageSize:n});const o=(e-1)*n,r=o+n,l=u.current.backupsDataSource?.slice(o,r);return m.update({loading:!1,selection:[],dataSource:l})}return o(l).then((e=>{let n=r?r(e):e;const o=[...n],t=0+c.current.pageSize;n=n.slice(0,t),m.update({selection:[],dataSource:n,backupsDataSource:o}),i.update({current:1,total:e.length})})).finally((()=>{m.update({loading:!1})}))})({searchFormParams:n,paginationParams:t}):!1===l?h({searchFormParams:n,paginationParams:t}):(async e=>{let{searchFormParams:n,paginationParams:t}=e;const l={...n,...{current:c.current.current,pageSize:c.current.pageSize,...t}};return o(l).then((e=>{const{data:n,current:o,total:t}=e;m.update({dataSource:r?r(n):n}),i.update({total:t,current:o})})).finally((()=>{m.update({loading:!1})}))})({searchFormParams:n,paginationParams:t});case!1:return h({searchFormParams:n,paginationParams:t})}}return m.update({loading:!1})};return{table:m,pagination:i,firstGetTableData:async()=>{(0,t.useEffect)((()=>{const{autoRequest:o}=e.table,{validator:t}=n.current;o&&t().then((e=>{g({searchFormParams:e})}))}),[])},onPaginationChange:(e,o)=>{const{validator:t}=n.current;t().then((n=>{g({searchFormParams:n,paginationParams:{current:e,pageSize:o}})})),s&&s(e,o)},onAllChange:async function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];const[t,r,l,s]=n,i=[];for(let a=0;a<i.length&&!i[a]();a++);a&&a(r,l,s)},resetData:async()=>{const{resetFields:e,validator:o}=n.current;return e().then((async()=>{const e=await o();return g({searchFormParams:e})}))},resetAllData:async()=>{const{resetFields:e,validator:o}=n.current;return e().then((async()=>{const e={};if(c.current){const{pageSize:n}=c.current;void 0===l&&(e.paginationParams={current:1,pageSize:n})}return e.searchFormParams=await o(),g(e)}))},reloadData:async()=>{const{validator:e}=n.current;return e().then((e=>g({searchFormParams:e})))}}}const kn=(e,n)=>{const{onRowSelectionChange:o}=e,{rowSelection:t}=e.table,r=()=>{if((0,Ce.A)(t))return{type:t,onChange:(e,t,r)=>{n.update({selection:t}),o&&o(e,t)}};if((0,Pe.A)(t)){const{onChange:e}=t;return{...t,onChange:(t,r,l)=>{n.update({selection:r}),e&&e(t,r,l),o&&o(t,r)}}}return t};return{rowSelection:r(),getNewRowSelection:r}};const jn=()=>{const{extendProps:e,extendComp:n}=v();return{extendTableProps:e?.table,setExtendTableCellComp:e=>{const o=n?.tableCellFunc;o&&Object.keys(o).forEach((n=>{const t=o[n];e[n]={Comp:t}}))}}},wn=e=>{let{crudFormDialog:n}=e;return{crudFormDialogRef:(0,t.useRef)(null),crudFormProps:n}};var Fn=o(83003),In=o(43237);const Rn="main-container_p10j",Sn="container__toolbar_NGmT",Mn="container__table_tc6f",Tn="container__pagination_pVSm",Dn=(0,t.forwardRef)(((e,n)=>{let{tableProps:o,searchFormRef:r,fullHeight:l}=e;const{columns:a}=yn(o),s=(0,t.useRef)(null),{table:i,pagination:c,firstGetTableData:p,onPaginationChange:d,onAllChange:u,resetData:h,resetAllData:g,reloadData:f}=An(o,r),{rowSelection:x}=kn(o,i),{divRef:P,scroll:C}=function(e,n){const{scroll:o,virtual:r}=e.table,l=(0,t.useRef)(null),[a,s]=(0,t.useState)(0),[i,c]=(0,t.useState)(0);(0,t.useEffect)((()=>{const e=()=>{l.current&&(s(l.current.offsetWidth),c(l.current.offsetHeight))};e();const n=new ResizeObserver(e);return l.current&&n.observe(l.current),()=>{n&&l.current&&n.unobserve(l.current)}}),[]);const p=(0,t.useMemo)((()=>n?r?{x:a,y:i-70,...o}:{x:"max-content",y:i-70,...o}:{x:"max-content",...o}),[i]);return{divRef:l,scroll:p}}(o,l),{getTopToolbarBindProps:b}=function(e,n){const{toolbar:o}=e.table;return{getTopToolbarBindProps:()=>{if((0,ie.A)(o)){const e=o({loading:n.model.loading,selection:n.model.selection});return{...e,disabled:n.model.loading||e.disabled}}return{...o,disabled:n.model.loading||o?.disabled}}}}(o,i);return p(),(0,t.useImperativeHandle)(n,(()=>({resetData:h,resetAllData:g,reloadData:f,...s.current}))),console.log("render Table"),(0,m.jsxs)("div",{className:l?Rn:void 0,children:[(0,m.jsx)("div",{className:Sn,children:(0,m.jsx)(I,{...b()})}),(0,m.jsx)("div",{ref:P,className:l?Mn:void 0,children:(0,m.jsx)(Fn.A,{ref:s,...(()=>{const{autoRequest:e,api:n,formatDataSource:t,autoPagination:r,columns:l,scroll:a,pagination:s,rowSelection:i,onChange:c,...p}=o.table;return p})(),loading:i.model.loading,columns:a,dataSource:i.model.dataSource,pagination:!1,rowSelection:x,scroll:C,onChange:u})}),c.show?(0,m.jsx)("div",{className:Tn,children:(0,m.jsx)(In.A,{disabled:i.model.loading,...c.model,onChange:d})}):null]})})),Vn=Dn,En="xph-table-full-wrapper_rusE",Bn="full-wrapper__table_IFHV",Xn=(e,n)=>{const{tableProps:o}=vn(e),r=(0,t.useRef)(null),{searchFormRef:l,searchFormProps:a}=function(e){let{searchForm:n}=e;return{searchFormRef:(0,t.useRef)(null),searchFormProps:n}}(o),{crudFormDialogRef:s,crudFormProps:i}=wn(o);let{fullHeight:c}=o.table;const{virtual:p}=o.table;return p&&(c=!0),(0,t.useImperativeHandle)(n,(()=>({...r.current,...s.current}))),(0,m.jsxs)("div",{className:c?En:void 0,children:[(0,m.jsx)("div",{children:(0,m.jsx)(dn,{ref:l,tableRef:r,...a})}),(0,m.jsx)("div",{className:c?Bn:void 0,children:(0,m.jsx)(Vn,{ref:r,searchFormRef:l,fullHeight:c,tableProps:o})}),i?(0,m.jsx)(hn,{ref:s,...i}):null]})},Nn=(0,t.forwardRef)(Xn),Yn=()=>{const e={labelCol:{span:6},wrapperCol:{span:18},items:[{name:"Input",label:"Input",component:"Input",required:!0,colProps:{span:8},initialValue:"Input",componentProps:{onChange:e=>{}}},{name:"render",label:"render",render:e=>{let{model:n,disabled:o,name:t,methods:l,componentProps:a}=e;return(0,m.jsx)("div",{children:(0,m.jsx)(r.A,{disabled:o,value:n[t],onChange:e=>l.setFieldsValue({[t]:e}),...a})})},componentProps:{placeholder:"render"},show:e=>{let{model:n}=e;return"Input"!==n.Input},ifShow:e=>{let{model:n}=e;return n.Input},colProps:{span:8},initialValue:2,rules:[{required:!0,message:"render\u5fc5\u586b"}]},{name:"InputNumber",label:"InputNumber",component:"InputNumber",componentProps:{onBlur:e=>{console.log(e)},onChange:e=>{console.log(e)}},initialValue:2,colProps:{span:8}},{name:"Select",label:"Select",component:"Select",componentProps:{allowClear:!0,placeholder:"Select",options:[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}],onChange:e=>{console.log(e)}},initialValue:"1",colProps:{span:8}},{name:"Transfer",label:"Transfer",component:"Transfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:{dataSource:[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title},colProps:{span:8},rules:[{required:!0,type:"array",message:"Transfer\u5fc5\u586b"}]},{name:"TreeSelect",label:"TreeSelect",component:"TreeSelect",componentProps:{placeholder:"\u8bf7\u9009\u62e9TreeSelect",treeData:[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,m.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}]},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"TreeSelect\u5fc5\u586b"}]},{name:"Switch",label:"Switch",component:"Switch",componentProps:{},initialValue:!0,valuePropName:"checked",colProps:{span:8}},{name:"Radio",label:"Radio",component:"Radio",componentProps:{},valuePropName:"checked",initialValue:!0,colProps:{span:8}},{name:"RadioGroup",label:"RadioGroup",component:"RadioGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:"a",colProps:{span:8}},{name:"RadioButtonGroup",label:"RadioButtonGroup",component:"RadioGroup",componentProps:{optionType:"button",buttonStyle:"solid",options:[{label:"A",value:"a",disabled:!0},{label:"B",value:"b",disabled:!1},{label:"C",value:"c",disabled:!1},{label:"D",value:"d",disabled:!0}]},initialValue:"a",colProps:{span:8}},{name:"Checkbox",label:"Checkbox",component:"Checkbox",componentProps:{},valuePropName:"checked",colProps:{span:8},initialValue:!0},{name:"CheckboxGroup",label:"CheckboxGroup",component:"CheckboxGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:["a"],colProps:{span:8}},{name:"Cascader",label:"Cascader",component:"Cascader",componentProps:{placeholder:"\u8bf7\u9009\u62e9Cascader",options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]}]},initialValue:["zhejiang","hangzhou","xihu"],colProps:{span:8}},{name:"TimePicker",label:"TimePicker",component:"TimePicker",componentProps:{format:"HH:mm",valueFormat:"HH:mm"},initialValue:a()("12:08","HH:mm"),colProps:{span:8},rules:[{validator:async(e,n)=>n?Promise.resolve():Promise.reject("TimePicker\u5fc5\u586b")}]},{name:"DatePicker",label:"DatePicker",component:"DatePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:a()("2021-08-08","YYYY-MM-DD")},{name:"MonthPicker",label:"MonthPicker",component:"MonthPicker",componentProps:{valueFormat:"YYYY-MM"},colProps:{span:8},initialValue:a()("2021-08","YYYY-MM")},{name:"WeekPicker",label:"WeekPicker",component:"WeekPicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss"},colProps:{span:8},initialValue:a()("2021-08-01","YYYY-MM-DD")},{name:"RangePicker",label:"RangePicker",component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:[a()("2021-08-01 00:00:00","YYYY-MM-DD HH:mm:ss"),a()("2021-08-08 23:59:59","YYYY-MM-DD HH:mm:ss")]},{name:"InputPassword",label:"InputPassword",component:"InputPassword",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"InputTextArea",label:"InputTextArea",component:"InputTextArea",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"AutoComplete",label:"AutoComplete",component:"AutoComplete",componentProps:{options:[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}]},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"ApiSelect",label:"ApiSelect",component:"ApiSelect",componentProps:e=>{let{model:n}=e;return{placeholder:"ApiSelect",allowClear:!0,immediate:!0,params:{a:n.Select},api:async e=>(console.log(e,"GET ApiSelect==========================="),[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}])}},initialValue:"1",colProps:{span:8}},{name:"ApiTreeSelect",label:"ApiTreeSelect",component:"ApiTreeSelect",componentProps:e=>{let{model:n}=e;return{placeholder:"\u8bf7\u9009\u62e9ApiTreeSelect",params:{a:n.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiTreeSelect==========================="),[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,m.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}])}},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"ApiTreeSelect\u5fc5\u586b"}]},{name:"ApiTransfer",label:"ApiTransfer",component:"ApiTransfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:e=>{let{model:n}=e;return{params:{a:n.Select},api:async e=>[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title}},colProps:{span:8},rules:[{required:!0,type:"array",message:"ApiTransfer\u5fc5\u586b"}]},{name:"ApiAutoComplete",label:"ApiAutoComplete",component:"ApiAutoComplete",componentProps:e=>{let{model:n}=e;return{params:{a:n.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiAutoComplete==========================="),[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}])}},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"Upload",label:"Upload",component:"Upload",componentProps:{children:"\u4e0a\u4f20",showUploadList:{},listType:"picture-card",beforeUpload:e=>!1,onChange(e){const{file:n,fileList:o}=e,{status:t}=n;if("removed"===t)l({Upload:o});else l({Upload:[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]})}},colProps:{span:8},valuePropName:"fileList",initialValue:[],rules:[{validator:async(e,n)=>(console.log("validate=================",n),n&&0===n.length?Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"):Promise.resolve())}]},{name:"AutoUpload",label:"AutoUpload",component:"AutoUpload",componentProps:{maxSize:1,maxCount:2,returnType:"File[]",onChange(e){console.log("AutoUpload onChange========================",e)}},colProps:{span:8},initialValue:[],rules:[{validator:async(e,n)=>(console.log("validate=================",n),n.length?Promise.resolve():Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"))}]},{name:"Button",label:"Button",component:"Button",componentProps:{children:"Button",onClick:async()=>{console.log(s(!0)),console.log(l({Input:"Input test",render:23,InputNumber:21,ApiSelect:"2",Select:null,Transfer:[],ApiTransfer:[],ApiTreeSelect:null,TreeSelect:null,Switch:!1,Radio:!1,RadioGroup:"b",RadioButtonGroup:"b",Checkbox:!1,CheckboxGroup:["a"],Cascader:[],TimePicker:"2021-08-01 03:59:59",DatePicker:"2021-08-01",MonthPicker:"2021-09",WeekPicker:"2021-09-02 00:00:00",RangePicker:["2021-08-02","2021-08-07"],InputPassword:"12345678",InputTextArea:"123456789",AutoComplete:"Burns Bay Road Test",ApiAutoComplete:"Burns Bay Road Test",Upload:[],AutoUpload:[]}))}},colProps:{span:8}},{name:"ResetButton",label:"ResetButton",component:"Button",componentProps:{children:"ResetButton",onClick:async()=>{console.log(await i())}},colProps:{span:8}},{name:"ValidateButton",label:"ValidateButton",component:"Button",componentProps:{children:"ValidateButton",onClick:async()=>{console.log(await c())}},colProps:{span:8}}]},n=t.useRef(null),[o,{setFieldsValue:l,getFieldsValue:s,resetFields:i,validator:c}]=ge();return(0,m.jsx)("div",{style:{minWidth:"1400px"},children:(0,m.jsx)(ln,{register:o,ref:n,...e})})},Hn=()=>{const e={table:{rowSelection:{type:"checkbox"},fullHeight:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}}]},{title:"\u5730\u5740",dataIndex:"address",key:"address"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age",cellFunc:e=>{let{record:n}=e;return[{component:"link",componentProps:{url:"https://www.baidu.com"}},{component:"link",componentProps:{onClick:()=>{window.open("https://www.jd.com/")}}}]}},{title:"\u64cd\u4f5c",dataIndex:"actions",cellFunc:e=>{let{record:n}=e;return[{component:"actions",componentProps:{type:"dashed",max:1,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,m.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}}]}}],autoPagination:!0,api:async e=>(console.log(e),new Promise((e=>{setTimeout((()=>{e([{key:"1",name:"\u80e1\u5f66\u658c",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"},{key:"2",name:"\u674e\u96f7",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88572\u53f7"},{key:"3",name:"\u97e9\u6885\u6885",age:30,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def3\u53f7"},{key:"4",name:"\u738b\u5c0f\u660e",age:25,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88574\u53f7"},{key:"5",name:"\u8d75\u4e3d\u9896",age:29,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def5\u53f7"},{key:"6",name:"\u9648\u6653",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed6\u53f7"},{key:"7",name:"\u5218\u4ea6\u83f2",age:27,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88577\u53f7"},{key:"8",name:"\u5f20\u4e09",age:33,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def8\u53f7"},{key:"9",name:"\u674e\u56db",age:26,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88579\u53f7"},{key:"10",name:"\u738b\u4e94",age:35,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def10\u53f7"},{key:"11",name:"\u8d75\u516d",age:34,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed11\u53f7"},{key:"12",name:"\u5b59\u4e03",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885712\u53f7"},{key:"13",name:"\u5468\u516b",age:29,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def13\u53f7"},{key:"14",name:"\u5434\u4e5d",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885714\u53f7"},{key:"15",name:"\u90d1\u5341",age:27,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def15\u53f7"},{key:"16",name:"\u4f55\u5341\u4e00",age:30,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed16\u53f7"},{key:"17",name:"\u51af\u5341\u4e8c",age:33,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885717\u53f7"},{key:"18",name:"\u891a\u5341\u4e09",age:32,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def18\u53f7"},{key:"19",name:"\u536b\u5341\u56db",age:29,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885719\u53f7"},{key:"20",name:"\u848b\u5341\u4e94",age:28,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def20\u53f7"},{key:"21",name:"\u6c88\u5341\u516d",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed21\u53f7"},{key:"22",name:"\u97e9\u5341\u4e03",age:34,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885722\u53f7"},{key:"23",name:"\u6768\u5341\u516b",age:27,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def23\u53f7"},{key:"24",name:"\u6731\u5341\u4e5d",age:30,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885724\u53f7"},{key:"25",name:"\u79e6\u4e8c\u5341",age:33,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def25\u53f7"},{key:"26",name:"\u5c24\u4e8c\u4e00",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed26\u53f7"},{key:"27",name:"\u8bb8\u4e8c\u4e8c",age:29,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885727\u53f7"},{key:"28",name:"\u4f55\u4e8c\u4e09",age:28,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def28\u53f7"},{key:"29",name:"\u5415\u4e8c\u56db",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885729\u53f7"},{key:"30",name:"\u65bd\u4e8c\u4e94",age:34,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def30\u53f7"}])}),2e3)}))),toolbar:{type:"primary",max:2,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,m.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}},searchForm:{colProps:{span:6},collapsible:!0,items:[{name:"Button",label:"\u5f39\u7a97",component:"Button",componentProps:{children:"\u70b9\u51fb\u6253\u5f00\u8868\u683c\u5f39\u7a97",onClick:e=>{console.log(n.current),n.current?.open()}}},{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}},ifShow:e=>{let{model:n}=e;return"Input1"===n.Input2}},{name:"Input2",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input3",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input4",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input5",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input6",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}}]},crudFormDialog:{title:"\u5f39\u7a97",mask:!0,formProps:{items:[{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}},colProps:{span:12}},{name:"Select",label:"Select",component:"Select",required:!0,componentProps:{options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:e=>{console.log(e)}},colProps:{span:12}}]},onOk:()=>{console.log("onOk"),n.current?.validator()},onCancel:()=>{console.log("onCancel"),n.current?.close()}}},n=(0,t.useRef)(null);return(0,m.jsx)("div",{style:{minWidth:"1400px",height:"600px"},children:(0,m.jsx)(y,{value:{extendProps:{actions:{type:"link",max:0}}},children:(0,m.jsx)(Nn,{ref:n,...e,onRowSelectionChange:(e,n)=>{console.log(e,n)}})})})},zn=()=>{const e={type:"dashed",max:1,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,m.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]};return(0,m.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,m.jsx)(I,{...e})})},Wn={MyButton:e=>{let{children:n}=e;return(0,m.jsx)("button",{children:n})},MyInput:()=>(0,m.jsx)("input",{})},_n=()=>(0,m.jsx)("div",{style:{minWidth:"1400px"},children:(0,m.jsx)(y,{value:{extendComp:{form:Wn}},children:(0,m.jsx)(ln,{labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyButton",label:"MyButton",component:"MyButton",colProps:{span:8},componentProps:{children:"\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae"}},{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{}}]})})}),Ln={MyInput:e=>{const{borderColor:n,onChange:o}=e;return(0,m.jsx)("input",{onInput:e=>{const{target:{value:n}}=e;o&&o(n)},style:{borderColor:n||"black"}})}},Un=()=>{const e={labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{borderColor:"red"}},{name:"Button",label:"\u83b7\u53d6\u8868\u5355\u503c",component:"Button",colProps:{span:8},componentProps:{children:"\u70b9\u51fb\u6211\u83b7\u53d6\u8868\u5355\u7684\u503c",onClick:async()=>{console.log(n.current?.getFieldsValue(!0))}}}]},n=t.useRef(null);return(0,m.jsx)("div",{style:{minWidth:"1400px"},children:(0,m.jsx)(y,{value:{extendComp:{form:Ln}},children:(0,m.jsx)(ln,{ref:n,...e})})})},qn={myTag:(e,n,o)=>{const{curComponentProps:t}=n,{borderColor:r="blue",children:l=""}=t;return(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",border:`1px solid ${r}`},children:[(0,m.jsx)(e,{...o}),l]})}},Gn=()=>{const e={table:{rowSelection:{type:"checkbox"},fullHeight:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}},{component:"myTag",componentProps:{children:"\u968f\u4fbf\u52a0\u7684\u5185\u5bb9",borderColor:"orange"}}]}],autoPagination:!0,api:async e=>new Promise((e=>{setTimeout((()=>{e([{key:"1",name:"\u80e1\u5f66\u658c",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"}])}),2e3)}))}};return(0,m.jsx)("div",{style:{minWidth:"800px",height:"300px"},children:(0,m.jsx)(y,{value:{extendComp:{tableCellFunc:qn}},children:(0,m.jsx)(Nn,{...e})})})},On={MyButton:e=>{let{componentProps:n,component:o}=e;console.log(o);const{children:t,onClick:r}=n;return(0,m.jsx)("button",{onClick:r,children:t})}},$n=()=>{const e={type:"dashed",max:1,items:[{component:"MyButton",componentProps:{children:"\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae",onClick:e=>{console.log(e)}}}]};return(0,m.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,m.jsx)(y,{value:{extendComp:{actions:On}},children:(0,m.jsx)(I,{...e})})})},Jn={MyInput:e=>{const{borderColor:n,onChange:o}=e;return(0,m.jsx)("input",{onInput:e=>{const{target:{value:n}}=e;o&&o(n)},style:{borderColor:n||"black"}})}},Kn=()=>(0,m.jsx)("div",{style:{minWidth:"1400px"},children:(0,m.jsx)(y,{value:{extendComp:{form:Jn}},children:(0,m.jsx)(ln,{labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{borderColor:"red"}}]})})})}}]);