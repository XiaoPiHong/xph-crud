"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[455],{3166:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>u});var o=t(9214),a=t(5231),r=t(5139),l=t(6155);t(771);const s={},i="XphForm \u53ef\u914d\u7f6e\u8868\u5355",c={id:"comp/form",title:"XphForm \u53ef\u914d\u7f6e\u8868\u5355",description:"\u57fa\u672c\u4f7f\u7528",source:"@site/docs/comp/form.mdx",sourceDirName:"comp",slug:"/comp/form",permalink:"/xph-crud/docs/comp/form",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"comp",next:{title:"XphTable \u53ef\u914d\u7f6e\u5217\u8868",permalink:"/xph-crud/docs/comp/table"}},p={},u=[{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:2},{value:"Typescript \u6848\u4f8b",id:"typescript-\u6848\u4f8b",level:2},{value:"\u5728 CodeSandbox \u5c1d\u8bd5",id:"\u5728-codesandbox-\u5c1d\u8bd5",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"xphform-\u53ef\u914d\u7f6e\u8868\u5355",children:"XphForm \u53ef\u914d\u7f6e\u8868\u5355"}),"\n",(0,o.jsx)(n.h2,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import React from "react";\nimport { InputNumber } from "antd";\nimport dayjs from "dayjs";\nimport {\n  XphForm,\n  useXphForm,\n  IXphFormProps,\n  IXphFormActionType,\n} from "xph-crud";\n\nconst ReactApp: React.FC = () => {\n  const props: IXphFormProps = {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 18 },\n    items: [\n      {\n        name: "Input",\n        label: "Input",\n        component: "Input",\n        required: true,\n        colProps: { span: 8 },\n        initialValue: "Input",\n        componentProps: {\n          onChange: (e) => {\n            // console.log(e);\n          },\n        },\n      },\n      {\n        name: "render",\n        label: "render",\n        render: ({ model, disabled, name, methods, componentProps }) => (\n          <div>\n            <InputNumber\n              disabled={disabled}\n              value={model[name]}\n              onChange={(e) => methods.setFieldsValue({ [name]: e })}\n              {...componentProps}\n            />\n          </div>\n        ),\n        componentProps: {\n          placeholder: "render",\n        },\n        show: ({ model }) => {\n          return model.Input !== "Input";\n        },\n        ifShow: ({ model }) => {\n          return model.Input;\n        },\n        colProps: { span: 8 },\n        initialValue: 2,\n        rules: [\n          {\n            required: true,\n            message: "render\u5fc5\u586b",\n          },\n        ],\n      },\n      {\n        name: "InputNumber",\n        label: "InputNumber",\n        component: "InputNumber",\n        componentProps: {\n          onBlur: (e) => {\n            console.log(e);\n          },\n          onChange: (e) => {\n            console.log(e);\n          },\n        },\n        initialValue: 2,\n        colProps: { span: 8 },\n      },\n      {\n        name: "Select",\n        label: "Select",\n        component: "Select",\n        componentProps: {\n          allowClear: true,\n          placeholder: "Select",\n          options: [\n            { label: "\u6d4b\u8bd5", value: "1" },\n            { label: "\u6d4b\u8bd52", value: "2" },\n          ],\n          onChange: (e) => {\n            console.log(e);\n          },\n        },\n        initialValue: "1",\n        colProps: { span: 8 },\n      },\n      {\n        name: "Transfer",\n        label: "Transfer",\n        component: "Transfer",\n        valuePropName: "targetKeys",\n        initialValue: ["1"],\n        componentProps: {\n          dataSource: [\n            {\n              key: "1",\n              title: "\u6807\u98981",\n            },\n            {\n              key: "2",\n              title: "\u6807\u98982",\n            },\n          ],\n          render: (item) => item.title,\n        },\n        colProps: { span: 8 },\n        rules: [\n          {\n            required: true,\n            type: "array",\n            message: "Transfer\u5fc5\u586b",\n          },\n        ],\n      },\n      {\n        name: "TreeSelect",\n        label: "TreeSelect",\n        component: "TreeSelect",\n        componentProps: {\n          placeholder: "\u8bf7\u9009\u62e9TreeSelect",\n          treeData: [\n            {\n              value: "parent 1",\n              title: "parent 1",\n              children: [\n                {\n                  value: "parent 1-0",\n                  title: "parent 1-0",\n                  children: [\n                    {\n                      value: "leaf1",\n                      title: "leaf1",\n                    },\n                    {\n                      value: "leaf2",\n                      title: "leaf2",\n                    },\n                  ],\n                },\n                {\n                  value: "parent 1-1",\n                  title: "parent 1-1",\n                  children: [\n                    {\n                      value: "leaf3",\n                      title: <b style={{ color: "#08c" }}>leaf3</b>,\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        initialValue: "leaf3",\n        colProps: { span: 8 },\n        rules: [\n          {\n            required: true,\n            message: "TreeSelect\u5fc5\u586b",\n          },\n        ],\n      },\n      {\n        name: "Switch",\n        label: "Switch",\n        component: "Switch",\n        componentProps: {},\n        initialValue: true,\n        valuePropName: "checked",\n        colProps: { span: 8 },\n      },\n      {\n        name: "Radio",\n        label: "Radio",\n        component: "Radio",\n        componentProps: {},\n        valuePropName: "checked",\n        initialValue: true,\n        colProps: { span: 8 },\n      },\n      {\n        name: "RadioGroup",\n        label: "RadioGroup",\n        component: "RadioGroup",\n        componentProps: {\n          options: [\n            { label: "A", value: "a" },\n            { label: "B", value: "b" },\n            { label: "C", value: "c" },\n            { label: "D", value: "d" },\n          ],\n        },\n        initialValue: "a",\n        colProps: { span: 8 },\n      },\n      {\n        name: "RadioButtonGroup",\n        label: "RadioButtonGroup",\n        component: "RadioGroup",\n        componentProps: {\n          optionType: "button",\n          buttonStyle: "solid",\n          options: [\n            { label: "A", value: "a", disabled: true },\n            { label: "B", value: "b", disabled: false },\n            { label: "C", value: "c", disabled: false },\n            { label: "D", value: "d", disabled: true },\n          ],\n        },\n        initialValue: "a",\n        colProps: { span: 8 },\n      },\n      {\n        name: "Checkbox",\n        label: "Checkbox",\n        component: "Checkbox",\n        componentProps: {},\n        valuePropName: "checked",\n        colProps: { span: 8 },\n        initialValue: true,\n      },\n      {\n        name: "CheckboxGroup",\n        label: "CheckboxGroup",\n        component: "CheckboxGroup",\n        componentProps: {\n          options: [\n            { label: "A", value: "a" },\n            { label: "B", value: "b" },\n            { label: "C", value: "c" },\n            { label: "D", value: "d" },\n          ],\n        },\n        initialValue: ["a"],\n        colProps: { span: 8 },\n      },\n      {\n        name: "Cascader",\n        label: "Cascader",\n        component: "Cascader",\n        componentProps: {\n          placeholder: "\u8bf7\u9009\u62e9Cascader",\n          options: [\n            {\n              value: "zhejiang",\n              label: "Zhejiang",\n              children: [\n                {\n                  value: "hangzhou",\n                  label: "Hangzhou",\n                  children: [\n                    {\n                      value: "xihu",\n                      label: "West Lake",\n                    },\n                  ],\n                },\n              ],\n            },\n          ],\n        },\n        initialValue: ["zhejiang", "hangzhou", "xihu"],\n        colProps: { span: 8 },\n      },\n      {\n        name: "TimePicker",\n        label: "TimePicker",\n        component: "TimePicker",\n        componentProps: {\n          format: "HH:mm",\n          valueFormat: "HH:mm",\n        },\n        initialValue: dayjs("12:08", "HH:mm"),\n        colProps: { span: 8 },\n        rules: [\n          {\n            validator: async (rule, value) => {\n              if (!value) {\n                return Promise.reject("TimePicker\u5fc5\u586b");\n              }\n              return Promise.resolve();\n            },\n          },\n        ],\n      },\n      {\n        name: "DatePicker",\n        label: "DatePicker",\n        component: "DatePicker",\n        componentProps: {\n          format: "YYYY-MM-DD",\n          valueFormat: "YYYY-MM-DD",\n        },\n        colProps: { span: 8 },\n        initialValue: dayjs("2021-08-08", "YYYY-MM-DD"),\n      },\n      {\n        name: "MonthPicker",\n        label: "MonthPicker",\n        component: "MonthPicker",\n        componentProps: {\n          valueFormat: "YYYY-MM",\n        },\n        colProps: { span: 8 },\n        initialValue: dayjs("2021-08", "YYYY-MM"),\n      },\n      {\n        name: "WeekPicker",\n        label: "WeekPicker",\n        component: "WeekPicker",\n        componentProps: {\n          valueFormat: "YYYY-MM-DD HH:mm:ss",\n        },\n        colProps: { span: 8 },\n        initialValue: dayjs("2021-08-01", "YYYY-MM-DD"), // 2021-08-01\u662f21\u5e74\u7b2c32\u5468\n      },\n      {\n        name: "RangePicker",\n        label: "RangePicker",\n        component: "RangePicker",\n        componentProps: {\n          format: "YYYY-MM-DD",\n          valueFormat: "YYYY-MM-DD",\n        },\n        colProps: { span: 8 },\n        initialValue: [\n          dayjs("2021-08-01 00:00:00", "YYYY-MM-DD HH:mm:ss"),\n          dayjs("2021-08-08 23:59:59", "YYYY-MM-DD HH:mm:ss"),\n        ],\n      },\n      {\n        name: "InputPassword",\n        label: "InputPassword",\n        component: "InputPassword",\n        componentProps: {},\n        colProps: { span: 8 },\n        initialValue: "123456",\n      },\n      {\n        name: "InputTextArea",\n        label: "InputTextArea",\n        component: "InputTextArea",\n        componentProps: {},\n        colProps: { span: 8 },\n        initialValue: "123456",\n      },\n      {\n        name: "AutoComplete",\n        label: "AutoComplete",\n        component: "AutoComplete",\n        componentProps: {\n          options: [\n            { value: "Burns Bay Road" },\n            { value: "Downing Street" },\n            { value: "Wall Street" },\n          ],\n        },\n        initialValue: "Burns Bay Road",\n        colProps: { span: 8 },\n      },\n      {\n        name: "ApiSelect",\n        label: "ApiSelect",\n        component: "ApiSelect",\n        componentProps: ({ model }) => {\n          return {\n            placeholder: "ApiSelect",\n            allowClear: true,\n            immediate: true,\n            params: { a: model.Select },\n            api: async (params) => {\n              console.log(params, "GET ApiSelect===========================");\n              return [\n                { label: "\u6d4b\u8bd5", value: "1" },\n                { label: "\u6d4b\u8bd52", value: "2" },\n              ];\n            },\n          };\n        },\n        initialValue: "1",\n        colProps: { span: 8 },\n      },\n      {\n        name: "ApiTreeSelect",\n        label: "ApiTreeSelect",\n        component: "ApiTreeSelect",\n        componentProps: ({ model }) => {\n          return {\n            placeholder: "\u8bf7\u9009\u62e9ApiTreeSelect",\n            params: { a: model.Select },\n            immediate: true,\n            api: async (params) => {\n              console.log(\n                params,\n                "GET ApiTreeSelect==========================="\n              );\n              return [\n                {\n                  value: "parent 1",\n                  title: "parent 1",\n                  children: [\n                    {\n                      value: "parent 1-0",\n                      title: "parent 1-0",\n                      children: [\n                        {\n                          value: "leaf1",\n                          title: "leaf1",\n                        },\n                        {\n                          value: "leaf2",\n                          title: "leaf2",\n                        },\n                      ],\n                    },\n                    {\n                      value: "parent 1-1",\n                      title: "parent 1-1",\n                      children: [\n                        {\n                          value: "leaf3",\n                          title: <b style={{ color: "#08c" }}>leaf3</b>,\n                        },\n                      ],\n                    },\n                  ],\n                },\n              ];\n            },\n          };\n        },\n        initialValue: "leaf3",\n        colProps: { span: 8 },\n        rules: [\n          {\n            required: true,\n            message: "ApiTreeSelect\u5fc5\u586b",\n          },\n        ],\n      },\n      {\n        name: "ApiTransfer",\n        label: "ApiTransfer",\n        component: "ApiTransfer",\n        valuePropName: "targetKeys",\n        initialValue: ["1"],\n        componentProps: ({ model }) => {\n          return {\n            params: { a: model.Select },\n            api: async (params) => {\n              // console.log(params, "GET ApiTransfer===========================");\n              return [\n                {\n                  key: "1",\n                  title: "\u6807\u98981",\n                },\n                {\n                  key: "2",\n                  title: "\u6807\u98982",\n                },\n              ];\n            },\n            render: (item) => item.title,\n          };\n        },\n        colProps: { span: 8 },\n        rules: [\n          {\n            required: true,\n            type: "array",\n            message: "ApiTransfer\u5fc5\u586b",\n          },\n        ],\n      },\n      {\n        name: "ApiAutoComplete",\n        label: "ApiAutoComplete",\n        component: "ApiAutoComplete",\n        componentProps: ({ model }) => {\n          return {\n            params: { a: model.Select },\n            immediate: true,\n            api: async (params) => {\n              console.log(\n                params,\n                "GET ApiAutoComplete==========================="\n              );\n              return [\n                { value: "Burns Bay Road" },\n                { value: "Downing Street" },\n                { value: "Wall Street" },\n              ];\n            },\n          };\n        },\n        initialValue: "Burns Bay Road",\n        colProps: { span: 8 },\n      },\n      {\n        name: "Upload",\n        label: "Upload",\n        component: "Upload",\n        componentProps: {\n          children: "\u4e0a\u4f20",\n          showUploadList: {},\n          listType: "picture-card",\n          beforeUpload(file) {\n            return false;\n          },\n          onChange(info) {\n            const { file, fileList } = info;\n            const { status } = file;\n            switch (status) {\n              case "removed": {\n                setFieldsValue({\n                  Upload: fileList,\n                });\n                break;\n              }\n              default: {\n                // \u4e0a\u4f20\uff08\u6b64\u5904\u7531\u4e8e\u6ca1\u6709\u4e0a\u4f20\u670d\u52a1\u5668\uff0c\u9ed8\u8ba4\u662f\u5047\u4e0a\u4f20\uff0c\u9ed8\u8ba4\u90fd\u662f\u6210\u529f\uff09\n                setFieldsValue({\n                  Upload: [\n                    {\n                      uid: "-1",\n                      name: "image.png",\n                      status: "done",\n                      url: "https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",\n                    },\n                  ],\n                });\n              }\n            }\n          },\n        },\n        colProps: { span: 8 },\n        valuePropName: "fileList",\n        initialValue: [],\n        rules: [\n          {\n            validator: async (rule, value) => {\n              console.log("validate=================", value);\n              if (value && value.length === 0) {\n                return Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6");\n              }\n              return Promise.resolve();\n            },\n          },\n        ],\n      },\n      {\n        name: "AutoUpload",\n        label: "AutoUpload",\n        component: "AutoUpload",\n        componentProps: {\n          /**\n           * @description \u4e0a\u4f20\u670d\u52a1\u5668\u63a5\u53e3\uff0c\u9700\u8981\u8fd4\u56de\uff1a\n           * type IFileList = Array<{\n           *   uid: string;\n           *   url: string;\n           *   status: string;\n           *   name: string;\n           * }>\n           */\n          // api: async (params) => {\n          //   /** \u6b64\u5904\u53ea\u662f\u6a21\u62df\u4e0a\u4f20\u670d\u52a1\u5668\u7684\u64cd\u4f5c */\n          //   return [\n          //     {\n          //       uid: `${+new Date()}${Math.random()}`,\n          //       name: "image.png",\n          //       status: "done",\n          //       url: "https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",\n          //     },\n          //   ];\n          // },\n          maxSize: 1, // \u6587\u4ef6\u6700\u5927\u9650\u5236\n          maxCount: 2, // \u6587\u4ef6\u6700\u5927\u6570\u91cf\n          /**\n           * @description \u8868\u5355\u83b7\u53d6\u5230\u7684\u7c7b\u578b\n           * @type "String"\uff08\u9ed8\u8ba4\uff0c\u914d\u5408api\u4f7f\u7528\uff09 | "String[]"\uff08\u914d\u5408api\u4f7f\u7528\uff09 | "File[]" | "FileList"\uff08\u914d\u5408api\u4f7f\u7528\uff09\n           * @description\n           * String\u65f6\u5982\u679c\u4e0a\u4f20\u591a\u6587\u4ef6\uff0c\u5219\u8fd4\u56de\u5b57\u7b26\u4e32,\u62fc\u63a5   initialValue\uff1a\u5b57\u7b26\u4e32\n           * String[]\u65f6\u5982\u679c\u4e0a\u4f20\u591a\u6587\u4ef6\uff0c\u5219\u8fd4\u56de\u6570\u7ec4        initialValue\uff1a\u6570\u7ec4\n           * File[]\u65f6\u5982\u679c\u4e0a\u4f20\u591a\u6587\u4ef6\uff0c\u5219\u8fd4\u56de\u6570\u7ec4          initialValue\uff1a\u6570\u7ec4\n           * FileList\u65f6\u5982\u679c\u4e0a\u4f20\u591a\u6587\u4ef6\uff0c\u5219\u8fd4\u56de\u6570\u7ec4        initialValue\uff1a\u6570\u7ec4\n           */\n          returnType: "File[]",\n          onChange(val) {\n            console.log("AutoUpload onChange========================", val);\n          },\n        },\n        colProps: { span: 8 },\n        initialValue: [],\n        rules: [\n          {\n            validator: async (rule, value) => {\n              console.log("validate=================", value);\n              if (!value.length) {\n                return Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6");\n              }\n              return Promise.resolve();\n            },\n          },\n        ],\n      },\n      {\n        name: "Button",\n        label: "Button",\n        component: "Button",\n        componentProps: {\n          children: "Button",\n          onClick: async () => {\n            // console.log(reactFormRef.current?.getFieldsValue(true));\n            // console.log(reactFormRef.current?.setFieldsValue({ Input: "123" }));\n            // console.log(reactFormRef.current?.getFieldsValue(["Input"]));\n            // console.log(await reactFormRef.current?.resetFields());\n            // console.log(await reactFormRef.current?.validator());\n            console.log(getFieldsValue(true));\n            console.log(\n              setFieldsValue({\n                Input: "Input test",\n                render: 23,\n                InputNumber: 21,\n                ApiSelect: "2",\n                Select: null,\n                Transfer: [],\n                ApiTransfer: [],\n                ApiTreeSelect: null,\n                TreeSelect: null,\n                Switch: false,\n                Radio: false,\n                RadioGroup: "b",\n                RadioButtonGroup: "b",\n                Checkbox: false,\n                CheckboxGroup: ["a"],\n                Cascader: [],\n                TimePicker: "2021-08-01 03:59:59",\n                DatePicker: "2021-08-01",\n                MonthPicker: "2021-09",\n                WeekPicker: "2021-09-02 00:00:00",\n                RangePicker: ["2021-08-02", "2021-08-07"],\n                InputPassword: "12345678",\n                InputTextArea: "123456789",\n                AutoComplete: "Burns Bay Road Test",\n                ApiAutoComplete: "Burns Bay Road Test",\n                Upload: [],\n                AutoUpload: [],\n              })\n            );\n            // console.log(getFieldsValue(["RangePicker"]));\n            // console.log(await resetFields());\n            // console.log(await validator());\n          },\n        },\n        colProps: { span: 8 },\n      },\n      {\n        name: "ResetButton",\n        label: "ResetButton",\n        component: "Button",\n        componentProps: {\n          children: "ResetButton",\n          onClick: async () => {\n            console.log(await resetFields());\n          },\n        },\n        colProps: { span: 8 },\n      },\n      {\n        name: "ValidateButton",\n        label: "ValidateButton",\n        component: "Button",\n        componentProps: {\n          children: "ValidateButton",\n          onClick: async () => {\n            console.log(await validator());\n          },\n        },\n        colProps: { span: 8 },\n      },\n    ],\n  };\n\n  /**\n   * ==========================================\n   * \u4e00\u3001\n   *\n   * \u7b2c\u4e00\u79cd\u8c03\u7528form\u7ec4\u4ef6api\u7684\u65b9\u5f0f\uff0c\u901a\u8fc7useRef\n   *=============================================\n   *  */\n  const reactFormRef = React.useRef<IXphFormActionType>(null);\n\n  /**\n   * ==========================================\n   * \u4e8c\u3001\n   *\n   * \u7b2c\u4e8c\u79cd\u8c03\u7528form\u7ec4\u4ef6api\u7684\u65b9\u5f0f\uff0c\u901a\u8fc7\u5c01\u88c5\u7684useReactForm\u65b9\u6cd5\n   *=============================================\n   * */\n  const [register, { setFieldsValue, getFieldsValue, resetFields, validator }] =\n    useXphForm();\n  return (\n    <div style={{ minWidth: "1400px" }}>\n      <XphForm register={register} ref={reactFormRef} {...props}></XphForm>\n    </div>\n  );\n};\n\nexport default ReactApp;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"typescript-\u6848\u4f8b",children:"Typescript \u6848\u4f8b"}),"\n",(0,o.jsx)("pre",{children:(0,o.jsx)(l.A,{children:(0,o.jsx)(r.lV,{})})}),"\n",(0,o.jsx)(n.h2,{id:"\u5728-codesandbox-\u5c1d\u8bd5",children:"\u5728 CodeSandbox \u5c1d\u8bd5"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://codesandbox.io/p/github/XiaoPiHong/xph-crud/codesandbox?file=%2Fexamples%2Fcomponents%2Fform%2Fform.tsx%3A55%2C28&layout=%257B%2522sidebarPanel%2522%253A%2522EXPLORER%2522%252C%2522rootPanelGroup%2522%253A%257B%2522direction%2522%253A%2522horizontal%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522id%2522%253A%2522ROOT_LAYOUT%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522clxvfxzj30006356k1k2e9cad%2522%252C%2522sizes%2522%253A%255B100%252C0%255D%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522EDITOR%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522id%2522%253A%2522clxvfxzj30002356kywjb62ew%2522%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522SHELLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522id%2522%253A%2522clxvfxzj30004356kb9y05lv0%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522DEVTOOLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522id%2522%253A%2522clxvfxzj30005356kohm9oh19%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%252C%2522sizes%2522%253A%255B50%252C50%255D%257D%252C%2522tabbedPanels%2522%253A%257B%2522clxvfxzj30002356kywjb62ew%2522%253A%257B%2522id%2522%253A%2522clxvfxzj30002356kywjb62ew%2522%252C%2522activeTabId%2522%253A%2522clxwl0rmy0002356kf96ialjy%2522%252C%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clxvfxzj20001356klzsqyhnf%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252FREADME.md%2522%252C%2522state%2522%253A%2522IDLE%2522%257D%252C%257B%2522id%2522%253A%2522clxwkl81e0002356kc47ox903%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252Fexamples%252Fcomponents%252Ftable%252Ftable.tsx%2522%252C%2522state%2522%253A%2522IDLE%2522%257D%252C%257B%2522id%2522%253A%2522clxwl0rmy0002356kf96ialjy%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252Fexamples%252Fcomponents%252Fform%252Fform.tsx%2522%252C%2522state%2522%253A%2522IDLE%2522%252C%2522initialSelections%2522%253A%255B%257B%2522startLineNumber%2522%253A55%252C%2522startColumn%2522%253A28%252C%2522endLineNumber%2522%253A55%252C%2522endColumn%2522%253A28%257D%255D%257D%252C%257B%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252F.codesandbox%252Ftasks.json%2522%252C%2522id%2522%253A%2522clxwnvrkp007l356k62c0vhsk%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522state%2522%253A%2522IDLE%2522%257D%252C%257B%2522id%2522%253A%2522clxwnzd2u0002356kajhzxrn1%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252Fexamples%252Fcomponents%252Fcommon%252Factions.tsx%2522%252C%2522state%2522%253A%2522IDLE%2522%257D%255D%257D%252C%2522clxvfxzj30005356kohm9oh19%2522%253A%257B%2522id%2522%253A%2522clxvfxzj30005356kohm9oh19%2522%252C%2522tabs%2522%253A%255B%257B%2522type%2522%253A%2522TASK_PORT%2522%252C%2522port%2522%253A5173%252C%2522taskId%2522%253A%2522examples%2522%252C%2522id%2522%253A%2522clxwnvjxb004k356khdo4z73n%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522path%2522%253A%2522%252Fform%2522%257D%255D%252C%2522activeTabId%2522%253A%2522clxwnvjxb004k356khdo4z73n%2522%257D%252C%2522clxvfxzj30004356kb9y05lv0%2522%253A%257B%2522id%2522%253A%2522clxvfxzj30004356kb9y05lv0%2522%252C%2522activeTabId%2522%253A%2522clxwnu9s3002m356kmuckcr5l%2522%252C%2522tabs%2522%253A%255B%257B%2522type%2522%253A%2522TASK_LOG%2522%252C%2522taskId%2522%253A%2522examples%2522%252C%2522id%2522%253A%2522clxwnu9s3002m356kmuckcr5l%2522%252C%2522mode%2522%253A%2522permanent%2522%257D%255D%257D%257D%252C%2522showDevtools%2522%253Atrue%252C%2522showShells%2522%253Afalse%252C%2522showSidebar%2522%253Atrue%252C%2522sidebarPanelSize%2522%253A15%257D",children:"\u5728 CodeSandbox \u4e2d\u6253\u5f00"})})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},6155:(e,n,t)=>{t.d(n,{A:()=>l});t(8318);var o=t(6873),a=t(5215),r=t(9214);const l=e=>{let{children:n}=e;return console.log(a.A),(0,r.jsxs)(o.Ay.div,{className:"quote",children:[(0,r.jsx)("style",{type:"text/css",children:a.A}),n]})}},771:(e,n,t)=>{t.d(n,{A:()=>a});t(8318);var o=t(9214);function a(e){return(0,o.jsx)(o.Fragment,{children:e.children})}},5139:(e,n,t)=>{t.d(n,{lV:()=>sn,XI:()=>cn});var o=t(8318),a=t(3667),r=t(6780),l=t.n(r);const s=[];for(let pn=0;pn<=15;pn++)s[pn]=pn.toString(16);function i(){let e="";for(let n=1;n<=36;n++)e+=9===n||14===n||19===n||24===n?"-":15===n?4:20===n?s[4*Math.random()|8]:s[16*Math.random()|0];return e.replace(/-/g,"")}var c=t(7444);function p(e){return"component"in e}var u=t(8924);var d=t(1067),m=t(9214);const h=e=>{const{componentProps:n}=e;return(0,m.jsx)(d.Ay,{...(()=>{const{...e}=n;return e})()})};var f=t(3535),g=t(5996);const P=e=>{const{componentProps:n}=e,t=(()=>{const{dropDownItems:e,onClick:t,...o}=n;return o})();return(0,m.jsx)(f.A,{disabled:t.disabled,menu:{items:n?.dropDownItems||[],onClick:n?.onClick},trigger:["click"],children:(0,m.jsx)("div",{children:(0,m.jsxs)(d.Ay,{...t,children:[t.children,(0,m.jsx)(g.A,{})]})})})},A=new Map;function b(){const{setExtendActionsComp:e}=y();e(A);return{renderContent:(0,o.useCallback)(((e,n)=>{const t=p(e),o=function(e){return"render"in e}(e);if(t){const t=A.get(e.component);return(0,m.jsx)(t,{...e},n)}return o?(0,m.jsx)("div",{children:e.render},n):null}),[])}}A.set("Button",h),A.set("Dropdown",P);const C=(0,o.createContext)({}),v=e=>{const{extendProps:n,extendComp:t}=e.value;return(0,m.jsx)(C.Provider,{value:{extendProps:n,extendComp:t},children:e.children})},k=()=>(0,o.useContext)(C),y=()=>{const{extendProps:e,extendComp:n}=k();return{extendActionsProps:e?.actions,setExtendActionsComp:e=>{const t=n?.actions;t&&Object.keys(t).forEach((n=>{e.set(n,t[n])}))}}};var x=t(7740),S=t(6017);const{useToken:F}=x.A,w=e=>{let{items:n,actionsProps:t}=e;const{type:o,disabled:a}=t,{renderContent:r}=b(),{token:l}=F(),s={backgroundColor:l.colorBgElevated,borderRadius:l.borderRadiusLG,boxShadow:l.boxShadowSecondary};return(0,m.jsx)(f.A,{disabled:a,menu:{items:[]},dropdownRender:()=>(0,m.jsx)("div",{style:s,children:(0,m.jsx)(S.A,{style:{padding:8},children:n?.map(((e,n)=>r(e,n)))})}),trigger:["click"],children:(0,m.jsxs)(d.Ay,{type:o,children:["\u66f4\u591a",(0,m.jsx)(g.A,{})]})})},j=e=>{const{actionsProps:n}=function(e){const{extendActionsProps:n}=y();return{actionsProps:{...(0,c.A)((0,c.A)({items:[],max:10},n),e)}}}(e),{showActionItems:t,ellipsisActionItems:a}=function(e){const{type:n,disabled:t,items:o,max:a}=e,r=o.map((e=>{const o={...e};return p(o)&&(o.componentProps={type:n,disabled:t,...o.componentProps}),o})),l=(0,u.A)(a)&&a>=0;return{showActionItems:r.slice(0,l?a:r.length),ellipsisActionItems:r.slice(l?a:r.length)}}(n),{renderContent:r}=b();return n?.render?n.render:(0,m.jsxs)(o.Fragment,{children:[t?.map(((e,n)=>r(e,n))),a?.length?(0,m.jsx)(w,{actionsProps:n,items:a}):null]})};var T=t(681),R=t(3773);function D(e){return"component"in e}function I(e){return"render"in e}var V=t(1085),B=t(7361),Y=t(5810),E=t(186),M=t(1976);const N=["DatePicker","MonthPicker","RangePicker","WeekPicker","TimePicker"],L=e=>{let{formProps:n}=e;const{items:t}=n;return{formItems:t.map((e=>({...e})))}},z=(e,n)=>{const t=e=>(Object.keys(e).forEach((n=>{Object.defineProperty(e,n,{value:e[n],writable:!1,enumerable:!0,configurable:!1})})),e),a={};e.items.forEach((e=>{a[e.name]=e.initialValue}));const r=(e=>{const{show:n,ifShow:t,required:o,disabled:a,componentProps:r}=e;return!!((0,B.A)(n)||(0,B.A)(t)||(0,B.A)(o)||(0,B.A)(a)||(0,B.A)(r)||I(e))})(n),l=r?T.A.useWatch((e=>t(e))):null;return{rewritingModel:(0,o.useMemo)((()=>l||t(a)),[l]),isusewatch:r}},U=()=>{const e=(0,o.useRef)(null);const n={getFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.getFieldsValue(...arguments)},setFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.setFieldsValue(...arguments)},resetFields:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.resetFields(...arguments)},validator:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.validator(...arguments)},scrollToField:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.scrollToField(...arguments)}};return(0,o.useEffect)((()=>(console.log("ParentComponent is mounted====================================="),()=>{console.log("ParentComponent is unmounted===================================="),e.current=null})),[]),[function(n){e.current=n},n]};var G=t(6008),H=t(5264),O=t(2922),W=t(5672);const q=(e,n,t)=>{const o=e.filter((e=>e.name));return{handleFormatRenderValues:e=>{const n={},t=[];return o.forEach((o=>{const a=Reflect.has(e,o.name),r=function(e,n){void 0===n&&(n={});const t=/^\[(.+)\]$/;if(t.test(e)){const o=e.match(t);if(o&&o[1]){const e=o[1].split(",");if(!e.length)return;const t=[];return e.forEach(((e,o)=>{(0,G.A)(t,o,n[e.trim()])})),t.filter(Boolean).length?t:void 0}}}(o.name,e)||function(e,n){void 0===n&&(n={});const t=/^\{(.+)\}$/;if(t.test(e)){const o=e.match(t);if(o&&o[1]){const e=o[1].split(",");if(!e.length)return;const t={};return e.forEach((e=>{(0,G.A)(t,e.trim(),n[e.trim()])})),Object.values(t).filter(Boolean).length?t:void 0}}}(o.name,e);if(a||r){const a=r||e[o.name];if(D(o))if(N.includes(o.component)){if((0,H.A)(a)){const e=[];for(const n of a)e.push(n?l()(n):null);n[o.name]=e}else n[o.name]=a?l()(a):null;t.push(o.name)}else n[o.name]=a,t.push(o.name);I(o)&&(n[o.name]=a,t.push(o.name))}})),{renderValues:n,validKeys:t}},handleFormatReturnValues:e=>{if(!(0,O.A)(e))return{};const o={};for(const a of Object.entries(e)){let[,e]=a;const[r]=a;if(!r||(0,H.A)(e)&&0===e.length||(0,B.A)(e))continue;const{transformDateFunc:l}=n,s=t.current?.get(r)?.current?.componentProps,i=s?.valueFormat;if((0,O.A)(e)){const n=e;n.format&&(e=l?.(n,i))}(0,H.A)(e)&&e[0]?.format&&e[1]?.format&&(e=e.map((e=>l?.(e,i)))),(0,W.A)(e)&&(e=""===e?void 0:e.trim()),o[r]=e}return function(e,n){const t=n.fieldMapToTime;if(!t||!Array.isArray(t))return e;for(const[o,[a,r],s="YYYY-MM-DD"]of t){if(!o||!a||!r)continue;if(!e[o]){Reflect.deleteProperty(e,o);continue}const[n,t]=e[o],[i,c]=Array.isArray(s)?s:[s,s];e[a]=l()(n).format(i),e[r]=l()(t).format(c),Reflect.deleteProperty(e,o)}return e}(o,n)}}},_=(e,n,t)=>({getFieldsValue:function(){return t(e.getFieldsValue(...arguments))},setFieldsValue:t=>{const{renderValues:o,validKeys:a}=n(t);e.setFieldsValue(o),e.validateFields(a)},resetFields:async()=>e.resetFields(),validator:async n=>e.validateFields(n).then((e=>t(e))),scrollToField:async(n,t)=>e.scrollToField(n,t)}),X=e=>{const{extendFormProps:n}=Z();return{formProps:{...(0,c.A)((0,c.A)({collapseNum:5,colon:!1,items:[],labelWrap:!0,transformDateFunc:(e,n)=>e?.format?.(n||"YYYY-MM-DD HH:mm:ss")??e,fieldMapToTime:[]},n),e)}}},K=e=>{const{immediate:n=!0,params:t,api:a,apiCallback:r,isUseWatch:l}=e,s=(0,o.useRef)(!0),i=(0,o.useRef)(t),c=()=>{a&&(0,B.A)(a)&&(t?a(t).then(r):a().then(r),i.current=t)};return(0,o.useEffect)((()=>{s.current&&(n&&c(),s.current=!1),!s.current&&l&&((0,E.A)(t,i.current)||n&&c())}),[t]),{getApiData:c}},$=(e,n)=>{const{collapsible:t,collapseNum:a}=e,r=(0,o.useRef)();return{collapsible:t,collapseNum:a,collapseRef:r,onClickCollapseToTrue:()=>{n.current?.forEach((e=>{if(e.current){const{itemIndex:n}=e.current;n>=a&&t&&e.current.setItemCollapse(!0)}}))},onClickCollapseToFalse:()=>{n.current?.forEach((e=>{if(e.current){const{itemCollapse:n}=e.current;n&&e.current.setItemCollapse(!1)}}))}}},Z=()=>{const{extendProps:e,extendComp:n}=k();return{extendFormProps:e?.form,setExtendFormComp:e=>{const t=n?.form;t&&Object.keys(t).forEach((n=>{e.set(n,t[n])}))}}};var J=t(7046),Q=t(8726),ee=t(6872),ne=t(9843),te=t(9876),oe=t(908),ae=t(1358),re=t(2899),le=t(6604),se=t(3360),ie=t(7869),ce=t(179),pe=t(2330);const ue=e=>{console.log("render ApiSelect");const{api:n,params:t,immediate:a=!0,isusewatch:r,onDropdownVisibleChange:l}=e,s="true"===r,[i,c]=o.useState([]),{getApiData:p}=K({api:n,immediate:a,params:t,apiCallback:c,isUseWatch:s});return(0,m.jsx)(Q.A,{...(()=>{const{api:n,params:t,immediate:o,isusewatch:a,...r}=e;return r})(),options:i,onDropdownVisibleChange:e=>{e&&!a&&p(),l&&l(e)}})},de=e=>{console.log("render ApiTreeSelect");const{api:n,params:t,immediate:a=!0,isusewatch:r,onDropdownVisibleChange:l}=e,s="true"===r,[i,c]=o.useState([]),{getApiData:p}=K({api:n,immediate:a,params:t,apiCallback:c,isUseWatch:s});return(0,m.jsx)(ne.A,{...(()=>{const{api:n,params:t,immediate:o,isusewatch:a,...r}=e;return r})(),treeData:i,onDropdownVisibleChange:e=>{e&&!a&&p(),l&&l(e)}})},me=e=>{console.log("render ApiTransfer");const{api:n,params:t,isusewatch:a}=e,r="true"===a,[l,s]=o.useState([]),{getApiData:i}=K({api:n,params:t,apiCallback:s,isUseWatch:r});return(0,m.jsx)(te.A,{...(()=>{const{api:n,params:t,isusewatch:o,...a}=e;return a})(),dataSource:l})},he=e=>{console.log("render ApiAutoComplete");const{api:n,params:t,immediate:a=!0,isusewatch:r,onDropdownVisibleChange:l}=e,s="true"===r,[i,c]=o.useState([]),{getApiData:p}=K({api:n,immediate:a,params:t,apiCallback:c,isUseWatch:s});return(0,m.jsx)(ce.A,{...(()=>{const{api:n,params:t,immediate:o,isusewatch:a,...r}=e;return r})(),options:i,onDropdownVisibleChange:e=>{e&&!a&&p(),l&&l(e)}})};var fe=t(5791);const ge={String:"String","String[]":"String[]","File[]":"File[]",FileList:"FileList"},Pe=e=>{console.log("render AutoUpload"),console.log(i());const n="",{api:t,maxCount:a=1,maxSize:r=2,listType:l="picture-card",openCrop:s=!1,data:c,returnType:p=ge.String,value:u=n,onChange:d}=e,h=(0,o.useRef)(!0),f=(0,o.useRef)(0),g=(0,o.useRef)([]),[P,A]=(0,o.useState)([]),b=e=>{g.current=e,A([...e])},C=e=>{s?(fe.Ay.error("\u6682\u65f6\u4e0d\u652f\u6301\u88c1\u526a\u529f\u80fd\uff0c\u540e\u7eed\u517c\u5bb9\u3002\u3002\u3002\u3002"),v({file:e})):v({file:e})},v=e=>{var n;t?t({file:e.file,...c}).then((e=>{b([...g.current,...e])})).finally((()=>{f.current--})):(Object.assign(e.file,{status:"done",url:URL.createObjectURL(new Blob([e.file],{type:(n=e.file.type,["application/json","application/javascript","text/plain","text/html","text/css"].includes(n)?`${n}; charset=utf-8`:n)}))}),b([...g.current,e.file]),f.current--)},k=e=>({uid:(e=>{const n=g.current.find((n=>n.url===e));return n?n.uid:i()})(e),name:(e=>{const n=e.split("/"),t=n[n.length-1],[o]=t.split("?");return o})(e),url:e,status:"done"}),y=()=>{switch(p){case ge.String:return P.map((e=>e.url)).join(",");case ge["String[]"]:return P.map((e=>e.url));case ge["File[]"]:case ge.FileList:return[...P]}};return(0,o.useEffect)((()=>{const e=y();if((0,E.A)(e,u))return;let n=[];switch(p){case ge.String:n=(u||"").split(",").filter((e=>e)).map((e=>k(e)));break;case ge["String[]"]:n=(u||[]).map((e=>k(e)));break;case ge["File[]"]:case ge.FileList:n=(u||[]).map((e=>e))}b(n)}),[u]),(0,o.useEffect)((()=>{if(h.current)return void(h.current=!1);const e=y();d?.(e)}),[P]),(0,m.jsx)(pe.A,{listType:l,...(()=>{const{api:n,maxCount:t,maxSize:o,openCrop:a,beforeUpload:r,fileList:l,returnType:s,...i}=e;return i})(),fileList:P,beforeUpload:e=>{const n=e.size/1024/1024<r;n||fe.Ay.error(`\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7:${r}M, \u8bf7\u91cd\u8bd5`);const t=g.current.length+f.current<a;t||fe.Ay.error(`\u6587\u4ef6\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7${a}\u4e2a`),n&&t&&f.current++;return n&&t&&C(e),pe.A.LIST_IGNORE},onChange:e=>{const{file:n,fileList:t}=e,{status:o}=n;if("removed"===o)b([...t])},children:"\u4e0a\u4f20"})},Ae=new Map;Ae.set("Input",J.A),Ae.set("ApiSelect",ue),Ae.set("Select",Q.A),Ae.set("InputNumber",ee.A),Ae.set("ApiTreeSelect",de),Ae.set("TreeSelect",ne.A),Ae.set("ApiTransfer",me),Ae.set("Transfer",te.A),Ae.set("Switch",oe.A),Ae.set("Button",d.Ay),Ae.set("Radio",ae.Ay),Ae.set("RadioGroup",ae.Ay.Group),Ae.set("Checkbox",re.A),Ae.set("CheckboxGroup",re.A.Group),Ae.set("Cascader",le.A),Ae.set("TimePicker",se.A),Ae.set("DatePicker",ie.A),Ae.set("MonthPicker",ie.A.MonthPicker),Ae.set("WeekPicker",ie.A.WeekPicker),Ae.set("RangePicker",ie.A.RangePicker),Ae.set("InputPassword",J.A.Password),Ae.set("InputTextArea",J.A.TextArea),Ae.set("ApiAutoComplete",he),Ae.set("AutoComplete",ce.A),Ae.set("Upload",pe.A),Ae.set("AutoUpload",Pe);var be=t(3528);const Ce="form-item-force_b_AE",ve="form-item-hidden_XN1B",ke=(0,o.forwardRef)(((e,n)=>{let{itemIndex:t,itemProps:a,methods:r,formProps:l,collapseRef:s}=e;console.log("render FormItem",a.name);const{rewritingModel:i,isusewatch:c}=z(l,a),{isIfShow:p,isShow:u}=((e,n,t)=>{const a=(0,o.useRef)(null),r=(0,o.useRef)(null),{handleCollapseChangeFalse:l}=t.current||{},{show:s,ifShow:i}=e;let c=!0,p=!0;if((0,V.A)(s)&&(c=s),(0,V.A)(i)&&(p=i),(0,B.A)(s)){c=s({model:n});const e=(0,Y.A)(a.current)?c:a.current;(0,o.useEffect)((()=>{(0,E.A)(c,e)||l&&l()}),[n])}if((0,B.A)(i)){p=i({model:n});const e=(0,Y.A)(r.current)?p:r.current;(0,o.useEffect)((()=>{(0,E.A)(p,e)||l&&l()}),[n])}return a.current=c,r.current=p,{isShow:c,isIfShow:p}})(a,i,s),{colProps:d}=((e,n)=>{const{colProps:t={}}=e,{colProps:o={span:24}}=n;return{colProps:{...o,...t}}})(a,l),{componentProps:h}=((e,n)=>{const t={},{componentProps:o={}}=e;return(0,B.A)(o)&&Object.assign(t,o({model:n})),Object.assign(t,o),{componentProps:t}})(a,i),{rules:f}=(e=>{let{item:n,model:t,isShow:o,componentProps:a}=e;const{rules:r=[],label:l,required:s}=n;let i=r;const c=D(n),p=c?((u=n.component).includes("Input")||u.includes("Complete")?"\u8bf7\u8f93\u5165":u.includes("Picker")||u.includes("Select")||u.includes("Cascader")||u.includes("Checkbox")||u.includes("Radio")||u.includes("Switch")?"\u8bf7\u9009\u62e9":"")+l:"";var u;function d(e,n){const t=e.message||p;return void 0===n||(0,M.A)(n)||Array.isArray(n)&&0===n.length||"string"==typeof n&&""===n.trim()||"object"==typeof n&&Reflect.has(n,"checked")&&Reflect.has(n,"halfChecked")&&Array.isArray(n.checked)&&Array.isArray(n.halfChecked)&&0===n.checked.length&&0===n.halfChecked.length?Promise.reject(t):Promise.resolve()}const m=(0,B.A)(s)?s({model:t}):s;m&&(i&&0!==i.length?-1===i.findIndex((e=>Reflect.has(e,"required")))&&i.push({required:m,validator:d}):i=[{required:m,validator:d}]);const h=i.findIndex((e=>Reflect.has(e,"required")&&!Reflect.has(e,"validator")));if(-1!==h){const e=i[h];if(o||(e.required=!1),c){const{component:t}=n;Reflect.has(e,"type")||(e.type="InputNumber"===t?"number":"string"),e.message=e.message||p,(t.includes("Input")||t.includes("Textarea"))&&(e.whitespace=!0),function(e,n,t){["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(n)?e.type=t?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(n)?e.type="array":["InputNumber"].includes(n)&&(e.type="number")}(e,t,a.valueFormat)}}const f=i.findIndex((e=>e.max));return-1===f||i[f].validator||(i[f].message=i[f].message||`\u5b57\u7b26\u6570\u5e94\u5c0f\u4e8e${i[f].max}\u4f4d`),{rules:i}})({item:a,model:i,isShow:u,componentProps:h}),{disabled:g}=((e,n,t)=>{const{disabled:o}=e;let a=!1;const{disabled:r}=n;return(0,B.A)(r)&&(a=r({model:t})),(0,V.A)(r)&&(a=r),{disabled:Reflect.has(n,"disabled")?a:o}})(l,a,i),{itemCollapse:P,setItemCollapse:A}=((e,n)=>{const{collapsible:t,collapseNum:a}=e,[r,l]=(0,o.useState)(!!(t&&n>=a));return{itemCollapse:r,setItemCollapse:l}})(l,t),{name:b,label:C,wrapperCol:v,labelCol:k,valuePropName:y,initialValue:x,forceRow:S}=a;(0,o.useImperativeHandle)(n,(()=>({itemIndex:t,componentProps:h,itemCollapse:P,setItemCollapse:A})));const{setExtendFormComp:F}=Z();F(Ae);const w=D(a),j=I(a);return(0,m.jsxs)(o.Fragment,{children:[S?(0,m.jsx)("div",{className:Ce}):null,p?(0,m.jsx)(be.A,{...d,className:u&&!P?void 0:ve,children:(0,m.jsx)(T.A.Item,{name:b,label:C,rules:f,wrapperCol:v,labelCol:k,valuePropName:y,initialValue:x,children:(()=>{if(w){const e=Ae.get(a.component);return(0,m.jsx)(e,{...h,disabled:g,isusewatch:c.toString()})}return j?a.render({model:i,name:b,disabled:g,methods:r,componentProps:h}):null})()})}):null]})}));var ye=t(1378),xe=t(463);const Se="collapse-wrapper_pYhf",Fe=(0,o.forwardRef)(((e,n)=>{let{collapsible:t,onClickExpand:a,onClickFold:r}=e;const[l,s]=(0,o.useState)(t),i=(0,o.useMemo)((()=>l),[l]),c=()=>{a(),s(!1)};return(0,o.useImperativeHandle)(n,(()=>({handleCollapseChangeFalse:c}))),(0,m.jsx)("div",{className:Se,children:i?(0,m.jsx)(d.Ay,{onClick:c,type:"link",icon:(0,m.jsx)(ye.A,{}),children:"\u5c55\u5f00"}):(0,m.jsx)(d.Ay,{onClick:()=>{r(),s(!0)},type:"link",icon:(0,m.jsx)(xe.A,{}),children:"\u6298\u53e0"})})})),we="group-wrapper_MO6x",je=e=>{let{formProps:n}=e;const{renderActions:t}=n;return(0,m.jsx)("div",{className:we,children:t?.()})},Te="xph-form-action_NeAH",Re=(e,n)=>{console.log("render Form");const[t]=T.A.useForm(),{formProps:a}=X(e),{formItems:r}=L({formProps:a}),l=(0,o.useRef)(new Map),{collapsible:s,collapseNum:i,collapseRef:c,onClickCollapseToFalse:p,onClickCollapseToTrue:u}=$(a,l),{handleFormatRenderValues:d,handleFormatReturnValues:h}=q(r,a,l),{setFieldsValue:f,getFieldsValue:g,resetFields:P,validator:A,scrollToField:b}=_(t,d,h),C={setFieldsValue:f,getFieldsValue:g,resetFields:P,validator:A,scrollToField:b};return(0,o.useImperativeHandle)(n,(()=>({...C}))),(0,o.useEffect)((()=>(console.log("Form is mounted======================="),a.register&&a.register(C),()=>{console.log("Form is unmounted========================="),l.current.clear()})),[]),(0,m.jsxs)(T.A,{form:t,...(()=>{const{layout:e,wrapperCol:n,labelCol:t,colon:o,disabled:r,labelWrap:l,labelAlign:s,scrollToFirstError:i,size:c}=a;return{layout:e,wrapperCol:n,labelCol:t,colon:o,disabled:r,labelWrap:l,labelAlign:s,scrollToFirstError:i,size:c}})(),children:[(0,m.jsx)(R.A,{children:r.map(((e,n)=>(l.current.has(e.name)||l.current.set(e.name,o.createRef()),(0,m.jsx)(ke,{ref:l.current.get(e.name),itemIndex:n,itemProps:e,formProps:a,methods:C,collapseRef:c},n))))}),(0,m.jsxs)("div",{className:Te,children:[(0,m.jsx)(je,{formProps:a}),s?(0,m.jsx)(Fe,{ref:c,collapsible:r.length>i,onClickExpand:p,onClickFold:u}):null]})]})},De=(0,o.forwardRef)(Re),Ie=(0,o.forwardRef)(((e,n)=>{let{getBindProps:t}=e;const{formProps:a,setFormLoading:r}=t(),l=(0,o.useRef)(null);return(0,o.useImperativeHandle)(n,(()=>({setFormLoading:r,...l.current}))),(0,m.jsx)(De,{ref:l,...a})})),Ve=(0,o.memo)(Ie);var Be=t(8138),Ye=t(4181),Ee=t(2109);const Me=(0,o.forwardRef)(((e,n)=>{const{renderActions:t,showSearch:a,tableRef:r}=e,[l,s]=(0,o.useState)(!1),i=(0,o.useCallback)((()=>{const{renderActions:n,...t}=e;return t}),[]),c=()=>{const{reloadData:e}=r.current;e()},p=()=>{const{resetData:e}=r.current;e()},u=()=>(0,m.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,m.jsx)("div",{style:{flex:1,width:0},children:t?.()}),a&&(0,m.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,m.jsx)(d.Ay,{type:"primary",icon:(0,m.jsx)(Ye.A,{}),onClick:c,children:"\u641c\u7d22"}),(0,m.jsx)(d.Ay,{icon:(0,m.jsx)(Ee.A,{}),onClick:p,children:"\u91cd\u7f6e"})]})]}),h=(0,o.useCallback)((()=>({setFormLoading:s,formProps:{...i(),renderActions:u}})),[]);return(0,m.jsx)(Be.A,{spinning:l,children:(0,m.jsx)(Ve,{ref:n,getBindProps:h})})}));const{useToken:Ne}=x.A,Le="cellfunc-actions_X5w1",ze={link:{Comp:(e,n,t)=>{const{curComponentProps:o,cellFuncProps:a}=n,{url:r,onClick:l}=o,{token:s}=Ne(),i={color:s.colorLink,cursor:"pointer"};return(0,m.jsx)(e,{...t,mainClick:()=>{t.mainClick&&t.mainClick(),l?l():r&&window.open(r,"_blank")},mainStyle:Object.assign(i,t?.mainStyle||{})})}},actions:{Comp:(e,n,t)=>{const{curComponentProps:o,cellFuncProps:a}=n;return(0,m.jsx)("div",{className:Le,children:(0,m.jsx)(j,{...o})})}}},Ue=(e,n)=>{const{renderPrams:{text:t}}=e;return(0,m.jsx)("span",{onClick:n?.mainClick,style:n?.mainStyle,children:t})},Ge=e=>{const{setExtendTableCellComp:n}=Xe();n(ze);const{dslConfig:t}=e;let o=Ue.bind(null,e),a=0;for(;a<t.length;){const n=a++,r=ze[t[n].component];r&&(o=r.Comp.bind(null,o,{curComponentProps:t[n].componentProps||{},cellFuncProps:e}))}return(0,m.jsx)(o,{})};function He(e){return e.map((e=>{let n={...e};if("cellFunc"in n){const{cellFunc:e,...t}=n;n={...t,render:function(){const n=(0,B.A)(e);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const[r,l,s]=o,i={text:r,record:l,index:s},c=n?e(i):e;return(0,m.jsx)(Ge,{dslConfig:c,renderPrams:i})}}}return function(e){return"children"in e}(n)&&n.children&&Array.isArray(n.children)&&(n.children=He(n.children)),n}))}function Oe(e){const{columns:n}=e.table,t=He(n);return console.log(t),{columns:t}}const We=e=>{const{extendTableProps:n}=Xe();return{tableProps:{...(0,c.A)((0,c.A)({table:{columns:[],fullHeight:!1,autoRequest:!0,pagination:{pageSize:20,total:0,showTotal:e=>`\u5171\uff1a${e} \u6761`,current:1,pageSizeOptions:[10,20,50,100],showSizeChanger:!0,showQuickJumper:!0}},crudForm:{items:[]},searchForm:{showSearch:!0,items:[]}},n),e)}}};function qe(e,n){const{api:t,formatDataSource:a,autoPagination:r,onChange:l}=e.table,s=e.onPaginationChange,{pagination:i,lastPaginationState:c}=function(e){const{pagination:n,autoPagination:t}=e.table,[a,r]=(0,o.useState)(n),l=(0,o.useRef)(n),s=(0,o.useMemo)((()=>a&&(!0===t||void 0===t)||!1),[a]),i={model:a,update:e=>{if(!l.current)return;const n={...l.current,...e};r(n),l.current=n},show:s};return{pagination:i,lastPaginationState:l}}(e),[p,u]=(0,o.useState)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),d=(0,o.useRef)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),m={model:p,update:e=>{const t={...d.current,...e};u(t),d.current=t,n.current?.setFormLoading(t.loading)}},h=async e=>{let{searchFormParams:n,paginationParams:o}=e;const r={...n};return t(r).then((e=>{const n=a?a(e):e;m.update({selection:[],dataSource:n}),i.update({current:1,total:e.length})})).finally((()=>{m.update({loading:!1})}))},f=async e=>{let{searchFormParams:n,paginationParams:o}=e;if(m.update({loading:!0,selection:[]}),t){switch(!!c.current){case!0:return!0===r?(async e=>{let{searchFormParams:n,paginationParams:o}=e;const r={...n};if(o){const{current:e,pageSize:n}=o;i.update({current:e,pageSize:n});const t=(e-1)*n,a=t+n,r=d.current.backupsDataSource?.slice(t,a);return m.update({loading:!1,selection:[],dataSource:r})}return t(r).then((e=>{let n=a?a(e):e;const t=[...n],o=0+c.current.pageSize;n=n.slice(0,o),m.update({selection:[],dataSource:n,backupsDataSource:t}),i.update({current:1,total:e.length})})).finally((()=>{m.update({loading:!1})}))})({searchFormParams:n,paginationParams:o}):!1===r?h({searchFormParams:n,paginationParams:o}):(async e=>{let{searchFormParams:n,paginationParams:o}=e;const r={...n,...{current:c.current.current,pageSize:c.current.pageSize,...o}};return t(r).then((e=>{const{data:n,current:t,total:o}=e;m.update({dataSource:a?a(n):n}),i.update({total:o,current:t})})).finally((()=>{m.update({loading:!1})}))})({searchFormParams:n,paginationParams:o});case!1:return h({searchFormParams:n,paginationParams:o})}}return m.update({loading:!1})};return{table:m,pagination:i,firstGetTableData:async()=>{(0,o.useEffect)((()=>{const{autoRequest:t}=e.table,{validator:o}=n.current;t&&o().then((e=>{f({searchFormParams:e})}))}),[])},onPaginationChange:(e,t)=>{const{validator:o}=n.current;o().then((n=>{f({searchFormParams:n,paginationParams:{current:e,pageSize:t}})})),s&&s(e,t)},onAllChange:async function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];const[o,a,r,s]=n,i=[];for(let l=0;l<i.length&&!i[l]();l++);l&&l(a,r,s)},resetData:async()=>{const{resetFields:e,validator:t}=n.current;return e().then((async()=>{const e=await t();return f({searchFormParams:e})}))},resetAllData:async()=>{const{resetFields:e,validator:t}=n.current;return e().then((async()=>{const e={};if(c.current){const{pageSize:n}=c.current;void 0===r&&(e.paginationParams={current:1,pageSize:n})}return e.searchFormParams=await t(),f(e)}))},reloadData:async()=>{const{validator:e}=n.current;return e().then((e=>f({searchFormParams:e})))}}}const _e=(e,n)=>{const{onRowSelectionChange:t}=e,{rowSelection:o}=e.table,a=()=>{if((0,W.A)(o))return{type:o,onChange:(e,o,a)=>{n.update({selection:o}),t&&t(e,o)}};if((0,O.A)(o)){const{onChange:e}=o;return{...o,onChange:(o,a,r)=>{n.update({selection:a}),e&&e(o,a,r),t&&t(o,a)}}}return o};return{rowSelection:a(),getNewRowSelection:a}};const Xe=()=>{const{extendProps:e,extendComp:n}=k();return{extendTableProps:e?.table,setExtendTableCellComp:e=>{const t=n?.tableCellFunc;t&&Object.keys(t).forEach((n=>{const o=t[n];e[n]={Comp:o}}))}}};var Ke=t(3003),$e=t(3237);const Ze="main-container_p10j",Je="container__toolbar_NGmT",Qe="container__table_tc6f",en="container__pagination_pVSm",nn=(0,o.forwardRef)(((e,n)=>{let{tableProps:t,searchFormRef:a,fullHeight:r}=e;const{columns:l}=Oe(t),s=(0,o.useRef)(null),{table:i,pagination:c,firstGetTableData:p,onPaginationChange:u,onAllChange:d,resetData:h,resetAllData:f,reloadData:g}=qe(t,a),{rowSelection:P}=_e(t,i),{divRef:A,scroll:b}=function(e,n){const{scroll:t,virtual:a}=e.table,r=(0,o.useRef)(null),[l,s]=(0,o.useState)(0),[i,c]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e=()=>{r.current&&(s(r.current.offsetWidth),c(r.current.offsetHeight))};e();const n=new ResizeObserver(e);return r.current&&n.observe(r.current),()=>{n&&r.current&&n.unobserve(r.current)}}),[]);const p=(0,o.useMemo)((()=>n?a?{x:l,y:i-70,...t}:{x:"max-content",y:i-70,...t}:{x:"max-content",...t}),[i]);return{divRef:r,scroll:p}}(t,r),{getTopToolbarBindProps:C}=function(e,n){const{toolbar:t}=e.table;return{getTopToolbarBindProps:()=>{if((0,B.A)(t)){const e=t({loading:n.model.loading,selection:n.model.selection});return{...e,disabled:n.model.loading||e.disabled}}return{...t,disabled:n.model.loading||t?.disabled}}}}(t,i);return p(),(0,o.useImperativeHandle)(n,(()=>({resetData:h,resetAllData:f,reloadData:g,...s.current}))),console.log("render Table"),(0,m.jsxs)("div",{className:r?Ze:void 0,children:[(0,m.jsx)("div",{className:Je,children:(0,m.jsx)(j,{...C()})}),(0,m.jsx)("div",{ref:A,className:r?Qe:void 0,children:(0,m.jsx)(Ke.A,{ref:s,...(()=>{const{autoRequest:e,api:n,formatDataSource:o,autoPagination:a,columns:r,scroll:l,pagination:s,rowSelection:i,onChange:c,...p}=t.table;return p})(),loading:i.model.loading,columns:l,dataSource:i.model.dataSource,pagination:!1,rowSelection:P,scroll:b,onChange:d})}),c.show?(0,m.jsx)("div",{className:en,children:(0,m.jsx)($e.A,{disabled:i.model.loading,...c.model,onChange:u})}):null]})})),tn=nn,on="xph-table-full-wrapper_rusE",an="full-wrapper__table_IFHV",rn=(e,n)=>{const{tableProps:t}=We(e),a=(0,o.useRef)(null),{searchFormRef:r,searchFormProps:l}=function(e){let{searchForm:n}=e;return{searchFormRef:(0,o.useRef)(null),searchFormProps:n}}(t);let{fullHeight:s}=t.table;const{virtual:i}=t.table;return i&&(s=!0),(0,o.useImperativeHandle)(n,(()=>({...a.current}))),(0,m.jsxs)("div",{className:s?on:void 0,children:[(0,m.jsx)("div",{children:(0,m.jsx)(Me,{ref:r,tableRef:a,...l})}),(0,m.jsx)("div",{className:s?an:void 0,children:(0,m.jsx)(tn,{ref:a,searchFormRef:r,fullHeight:s,tableProps:t})})]})},ln=(0,o.forwardRef)(rn),sn=()=>{const e={labelCol:{span:6},wrapperCol:{span:18},items:[{name:"Input",label:"Input",component:"Input",required:!0,colProps:{span:8},initialValue:"Input",componentProps:{onChange:e=>{}}},{name:"render",label:"render",render:e=>{let{model:n,disabled:t,name:o,methods:r,componentProps:l}=e;return(0,m.jsx)("div",{children:(0,m.jsx)(a.A,{disabled:t,value:n[o],onChange:e=>r.setFieldsValue({[o]:e}),...l})})},componentProps:{placeholder:"render"},show:e=>{let{model:n}=e;return"Input"!==n.Input},ifShow:e=>{let{model:n}=e;return n.Input},colProps:{span:8},initialValue:2,rules:[{required:!0,message:"render\u5fc5\u586b"}]},{name:"InputNumber",label:"InputNumber",component:"InputNumber",componentProps:{onBlur:e=>{console.log(e)},onChange:e=>{console.log(e)}},initialValue:2,colProps:{span:8}},{name:"Select",label:"Select",component:"Select",componentProps:{allowClear:!0,placeholder:"Select",options:[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}],onChange:e=>{console.log(e)}},initialValue:"1",colProps:{span:8}},{name:"Transfer",label:"Transfer",component:"Transfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:{dataSource:[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title},colProps:{span:8},rules:[{required:!0,type:"array",message:"Transfer\u5fc5\u586b"}]},{name:"TreeSelect",label:"TreeSelect",component:"TreeSelect",componentProps:{placeholder:"\u8bf7\u9009\u62e9TreeSelect",treeData:[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,m.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}]},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"TreeSelect\u5fc5\u586b"}]},{name:"Switch",label:"Switch",component:"Switch",componentProps:{},initialValue:!0,valuePropName:"checked",colProps:{span:8}},{name:"Radio",label:"Radio",component:"Radio",componentProps:{},valuePropName:"checked",initialValue:!0,colProps:{span:8}},{name:"RadioGroup",label:"RadioGroup",component:"RadioGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:"a",colProps:{span:8}},{name:"RadioButtonGroup",label:"RadioButtonGroup",component:"RadioGroup",componentProps:{optionType:"button",buttonStyle:"solid",options:[{label:"A",value:"a",disabled:!0},{label:"B",value:"b",disabled:!1},{label:"C",value:"c",disabled:!1},{label:"D",value:"d",disabled:!0}]},initialValue:"a",colProps:{span:8}},{name:"Checkbox",label:"Checkbox",component:"Checkbox",componentProps:{},valuePropName:"checked",colProps:{span:8},initialValue:!0},{name:"CheckboxGroup",label:"CheckboxGroup",component:"CheckboxGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:["a"],colProps:{span:8}},{name:"Cascader",label:"Cascader",component:"Cascader",componentProps:{placeholder:"\u8bf7\u9009\u62e9Cascader",options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]}]},initialValue:["zhejiang","hangzhou","xihu"],colProps:{span:8}},{name:"TimePicker",label:"TimePicker",component:"TimePicker",componentProps:{format:"HH:mm",valueFormat:"HH:mm"},initialValue:l()("12:08","HH:mm"),colProps:{span:8},rules:[{validator:async(e,n)=>n?Promise.resolve():Promise.reject("TimePicker\u5fc5\u586b")}]},{name:"DatePicker",label:"DatePicker",component:"DatePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:l()("2021-08-08","YYYY-MM-DD")},{name:"MonthPicker",label:"MonthPicker",component:"MonthPicker",componentProps:{valueFormat:"YYYY-MM"},colProps:{span:8},initialValue:l()("2021-08","YYYY-MM")},{name:"WeekPicker",label:"WeekPicker",component:"WeekPicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss"},colProps:{span:8},initialValue:l()("2021-08-01","YYYY-MM-DD")},{name:"RangePicker",label:"RangePicker",component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:[l()("2021-08-01 00:00:00","YYYY-MM-DD HH:mm:ss"),l()("2021-08-08 23:59:59","YYYY-MM-DD HH:mm:ss")]},{name:"InputPassword",label:"InputPassword",component:"InputPassword",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"InputTextArea",label:"InputTextArea",component:"InputTextArea",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"AutoComplete",label:"AutoComplete",component:"AutoComplete",componentProps:{options:[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}]},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"ApiSelect",label:"ApiSelect",component:"ApiSelect",componentProps:e=>{let{model:n}=e;return{placeholder:"ApiSelect",allowClear:!0,immediate:!0,params:{a:n.Select},api:async e=>(console.log(e,"GET ApiSelect==========================="),[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}])}},initialValue:"1",colProps:{span:8}},{name:"ApiTreeSelect",label:"ApiTreeSelect",component:"ApiTreeSelect",componentProps:e=>{let{model:n}=e;return{placeholder:"\u8bf7\u9009\u62e9ApiTreeSelect",params:{a:n.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiTreeSelect==========================="),[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,m.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}])}},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"ApiTreeSelect\u5fc5\u586b"}]},{name:"ApiTransfer",label:"ApiTransfer",component:"ApiTransfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:e=>{let{model:n}=e;return{params:{a:n.Select},api:async e=>[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title}},colProps:{span:8},rules:[{required:!0,type:"array",message:"ApiTransfer\u5fc5\u586b"}]},{name:"ApiAutoComplete",label:"ApiAutoComplete",component:"ApiAutoComplete",componentProps:e=>{let{model:n}=e;return{params:{a:n.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiAutoComplete==========================="),[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}])}},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"Upload",label:"Upload",component:"Upload",componentProps:{children:"\u4e0a\u4f20",showUploadList:{},listType:"picture-card",beforeUpload:e=>!1,onChange(e){const{file:n,fileList:t}=e,{status:o}=n;if("removed"===o)r({Upload:t});else r({Upload:[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]})}},colProps:{span:8},valuePropName:"fileList",initialValue:[],rules:[{validator:async(e,n)=>(console.log("validate=================",n),n&&0===n.length?Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"):Promise.resolve())}]},{name:"AutoUpload",label:"AutoUpload",component:"AutoUpload",componentProps:{maxSize:1,maxCount:2,returnType:"File[]",onChange(e){console.log("AutoUpload onChange========================",e)}},colProps:{span:8},initialValue:[],rules:[{validator:async(e,n)=>(console.log("validate=================",n),n.length?Promise.resolve():Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"))}]},{name:"Button",label:"Button",component:"Button",componentProps:{children:"Button",onClick:async()=>{console.log(s(!0)),console.log(r({Input:"Input test",render:23,InputNumber:21,ApiSelect:"2",Select:null,Transfer:[],ApiTransfer:[],ApiTreeSelect:null,TreeSelect:null,Switch:!1,Radio:!1,RadioGroup:"b",RadioButtonGroup:"b",Checkbox:!1,CheckboxGroup:["a"],Cascader:[],TimePicker:"2021-08-01 03:59:59",DatePicker:"2021-08-01",MonthPicker:"2021-09",WeekPicker:"2021-09-02 00:00:00",RangePicker:["2021-08-02","2021-08-07"],InputPassword:"12345678",InputTextArea:"123456789",AutoComplete:"Burns Bay Road Test",ApiAutoComplete:"Burns Bay Road Test",Upload:[],AutoUpload:[]}))}},colProps:{span:8}},{name:"ResetButton",label:"ResetButton",component:"Button",componentProps:{children:"ResetButton",onClick:async()=>{console.log(await i())}},colProps:{span:8}},{name:"ValidateButton",label:"ValidateButton",component:"Button",componentProps:{children:"ValidateButton",onClick:async()=>{console.log(await c())}},colProps:{span:8}}]},n=o.useRef(null),[t,{setFieldsValue:r,getFieldsValue:s,resetFields:i,validator:c}]=U();return(0,m.jsx)("div",{style:{minWidth:"1400px"},children:(0,m.jsx)(De,{register:t,ref:n,...e})})},cn=()=>{const e={table:{rowSelection:{type:"checkbox"},fullHeight:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}}]},{title:"\u5730\u5740",dataIndex:"address",key:"address"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age",cellFunc:e=>{let{record:n}=e;return[{component:"link",componentProps:{url:"https://www.baidu.com"}},{component:"link",componentProps:{onClick:()=>{window.open("https://www.jd.com/")}}}]}},{title:"\u64cd\u4f5c",dataIndex:"actions",cellFunc:e=>{let{record:n}=e;return[{component:"actions",componentProps:{type:"dashed",max:1,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,m.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}}]}}],autoPagination:!0,api:async e=>(console.log(e),new Promise((e=>{setTimeout((()=>{e([{key:"1",name:"\u80e1\u5f66\u658c",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"},{key:"2",name:"\u674e\u96f7",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88572\u53f7"},{key:"3",name:"\u97e9\u6885\u6885",age:30,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def3\u53f7"},{key:"4",name:"\u738b\u5c0f\u660e",age:25,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88574\u53f7"},{key:"5",name:"\u8d75\u4e3d\u9896",age:29,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def5\u53f7"},{key:"6",name:"\u9648\u6653",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed6\u53f7"},{key:"7",name:"\u5218\u4ea6\u83f2",age:27,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88577\u53f7"},{key:"8",name:"\u5f20\u4e09",age:33,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def8\u53f7"},{key:"9",name:"\u674e\u56db",age:26,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88579\u53f7"},{key:"10",name:"\u738b\u4e94",age:35,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def10\u53f7"},{key:"11",name:"\u8d75\u516d",age:34,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed11\u53f7"},{key:"12",name:"\u5b59\u4e03",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885712\u53f7"},{key:"13",name:"\u5468\u516b",age:29,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def13\u53f7"},{key:"14",name:"\u5434\u4e5d",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885714\u53f7"},{key:"15",name:"\u90d1\u5341",age:27,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def15\u53f7"},{key:"16",name:"\u4f55\u5341\u4e00",age:30,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed16\u53f7"},{key:"17",name:"\u51af\u5341\u4e8c",age:33,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885717\u53f7"},{key:"18",name:"\u891a\u5341\u4e09",age:32,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def18\u53f7"},{key:"19",name:"\u536b\u5341\u56db",age:29,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885719\u53f7"},{key:"20",name:"\u848b\u5341\u4e94",age:28,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def20\u53f7"},{key:"21",name:"\u6c88\u5341\u516d",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed21\u53f7"},{key:"22",name:"\u97e9\u5341\u4e03",age:34,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885722\u53f7"},{key:"23",name:"\u6768\u5341\u516b",age:27,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def23\u53f7"},{key:"24",name:"\u6731\u5341\u4e5d",age:30,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885724\u53f7"},{key:"25",name:"\u79e6\u4e8c\u5341",age:33,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def25\u53f7"},{key:"26",name:"\u5c24\u4e8c\u4e00",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed26\u53f7"},{key:"27",name:"\u8bb8\u4e8c\u4e8c",age:29,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885727\u53f7"},{key:"28",name:"\u4f55\u4e8c\u4e09",age:28,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def28\u53f7"},{key:"29",name:"\u5415\u4e8c\u56db",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885729\u53f7"},{key:"30",name:"\u65bd\u4e8c\u4e94",age:34,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def30\u53f7"}])}),2e3)}))),toolbar:{type:"primary",max:2,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,m.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}},searchForm:{colProps:{span:6},collapsible:!0,items:[{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}},ifShow:e=>{let{model:n}=e;return"Input1"===n.Input2}},{name:"Input2",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input3",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input4",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input5",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input6",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}}]},crudForm:{items:[{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}}]}},n=(0,o.useRef)(null);return(0,m.jsx)("div",{style:{minWidth:"1400px",height:"600px"},children:(0,m.jsx)(v,{value:{extendProps:{actions:{type:"link",max:0}}},children:(0,m.jsx)(ln,{ref:n,...e,onRowSelectionChange:(e,n)=>{console.log(e,n)}})})})}}}]);