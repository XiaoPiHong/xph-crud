"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5996],{12565:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>c,contentTitle:()=>a,default:()=>f,frontMatter:()=>m,metadata:()=>l,toc:()=>d});var n=r(86106),t=r(66205),s=r(76281),p=r(36899);const i='import React from "react";\nimport { XphForm, IXphFormProps, useXphForm } from "xph-crud";\n\nconst ReactApp: React.FC = () => {\n  const props: IXphFormProps = {\n    items: [\n      {\n        name: "Upload",\n        label: "Upload",\n        component: "Upload",\n        componentProps: {\n          children: "\u4e0a\u4f20",\n          showUploadList: {},\n          listType: "picture-card",\n          beforeUpload(file) {\n            return false;\n          },\n          onChange(info) {\n            const { file, fileList } = info;\n            const { status } = file;\n            switch (status) {\n              case "removed": {\n                setFieldsValue({\n                  Upload: fileList,\n                });\n                break;\n              }\n              default: {\n                // \u4e0a\u4f20\uff08\u6b64\u5904\u7531\u4e8e\u6ca1\u6709\u4e0a\u4f20\u670d\u52a1\u5668\uff0c\u9ed8\u8ba4\u662f\u5047\u4e0a\u4f20\uff0c\u9ed8\u8ba4\u90fd\u662f\u6210\u529f\uff09\n                setFieldsValue({\n                  Upload: [\n                    {\n                      uid: "-1",\n                      name: "image.png",\n                      status: "done",\n                      url: "https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",\n                    },\n                  ],\n                });\n              }\n            }\n          },\n        },\n        valuePropName: "fileList",\n        initialValue: [],\n        rules: [\n          {\n            validator: async (rule, value) => {\n              console.log("validate=================", value);\n              if (value && value.length === 0) {\n                return Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6");\n              }\n              return Promise.resolve();\n            },\n          },\n        ],\n      },\n    ],\n  };\n\n  const [register, { setFieldsValue }] = useXphForm();\n\n  return <XphForm register={register} {...props}></XphForm>;\n};\n\nexport default ReactApp;\n',m={},a=void 0,l={id:"comp/form/properties/items/properties/component/upload",title:"upload",description:"Upload",source:"@site/docs/comp/form/properties/items/properties/component/upload.mdx",sourceDirName:"comp/form/properties/items/properties/component",slug:"/comp/form/properties/items/properties/component/upload",permalink:"/xph-crud/docs/comp/form/properties/items/properties/component/upload",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{}},c={},d=[{value:"Upload",id:"upload",level:3}];function u(e){const o={h3:"h3",...(0,t.R)(),...e.components};return s.z9||h("FormDemos",!1),s.z9.Properties||h("FormDemos.Properties",!1),s.z9.Properties.items||h("FormDemos.Properties.items",!1),s.z9.Properties.items.Properties||h("FormDemos.Properties.items.Properties",!1),s.z9.Properties.items.Properties.component||h("FormDemos.Properties.items.Properties.component",!1),s.z9.Properties.items.Properties.component.Upload||h("FormDemos.Properties.items.Properties.component.Upload",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h3,{id:"upload",children:"Upload"}),"\n",(0,n.jsx)(p.A,{rawStr:i,children:(0,n.jsx)(s.z9.Properties.items.Properties.component.Upload,{})})]})}function f(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}function h(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);