"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[55],{28276:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>g,frontMatter:()=>c,metadata:()=>p,toc:()=>m});var o=n(49214),r=n(62515),l=n(41830),a=n(22886);const s='import React from "react";\nimport { XphActions, IXphActionsProps } from "xph-crud";\n\nconst ReactApp: React.FC = () => {\n  const props: IXphActionsProps = {\n    type: "dashed",\n    max: 1,\n    items: [\n      {\n        key: "add",\n        component: "Button",\n        componentProps: {\n          children: "\u6211\u662f\u6309\u94ae",\n          onClick: (e) => {\n            console.log(e);\n          },\n        },\n      },\n      {\n        key: "more",\n        component: "Dropdown",\n        componentProps: {\n          children: "\u6211\u662f\u4e0b\u62c9",\n          dropDownItems: [\n            {\n              key: "1",\n              label: "\u6211\u662f\u4e0b\u62c91",\n            },\n            {\n              key: "2",\n              label: "\u6211\u662f\u4e0b\u62c92",\n            },\n          ],\n          onClick: (e) => {\n            console.log(e);\n          },\n        },\n      },\n      {\n        key: "render",\n        render: <div>\u6211\u662f\u81ea\u5b9a\u4e49render</div>,\n      },\n    ],\n  };\n\n  return (\n    <div style={{ display: "flex", gap: "8px" }}>\n      <XphActions {...props} />\n    </div>\n  );\n};\n\nexport default ReactApp;\n';var i=n(34339);const c={},u="XphActions \u53ef\u914d\u7f6e\u64cd\u4f5c\u7ec4",p={id:"comp/actions/base",title:"XphActions \u53ef\u914d\u7f6e\u64cd\u4f5c\u7ec4",description:"\u57fa\u672c\u4f7f\u7528",source:"@site/docs/comp/actions/base.mdx",sourceDirName:"comp/actions",slug:"/comp/actions/base",permalink:"/xph-crud/docs/comp/actions/base",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"comp",previous:{title:"XphTable \u53ef\u914d\u7f6e\u5217\u8868",permalink:"/xph-crud/docs/comp/table/base"},next:{title:"XphDialog \u5c42\u53e0\u5f39\u7a97",permalink:"/xph-crud/docs/comp/dialog/base"}},d={},m=[{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:2},{value:"Typescript \u6848\u4f8b",id:"typescript-\u6848\u4f8b",level:2},{value:"\u5728 CodeSandbox \u5c1d\u8bd5",id:"\u5728-codesandbox-\u5c1d\u8bd5",level:2}];function h(e){const t={a:"a",h1:"h1",h2:"h2",img:"img",p:"p",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"xphactions-\u53ef\u914d\u7f6e\u64cd\u4f5c\u7ec4",children:"XphActions \u53ef\u914d\u7f6e\u64cd\u4f5c\u7ec4"}),"\n",(0,o.jsx)(t.h2,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,o.jsx)(i.A,{language:"tsx",children:s}),"\n",(0,o.jsx)(t.h2,{id:"typescript-\u6848\u4f8b",children:"Typescript \u6848\u4f8b"}),"\n",(0,o.jsx)("pre",{children:(0,o.jsx)(a.A,{children:(0,o.jsx)(l.En,{})})}),"\n",(0,o.jsx)(t.h2,{id:"\u5728-codesandbox-\u5c1d\u8bd5",children:"\u5728 CodeSandbox \u5c1d\u8bd5"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://codesandbox.io/p/github/XiaoPiHong/xph-crud/codesandbox?embed=1&file=%2Fexamples%2Froutes%2Findex.tsx",children:(0,o.jsx)(t.img,{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit XiaoPiHong/xph-crud/codesandbox"})})})]})}function g(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},22886:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(91507),r=(n(48318),n(49214));const l=e=>{let{children:t,height:n="unset"}=e;return(0,r.jsx)(o.A,{fallback:e=>{let{error:t,tryAgain:n}=e;return console.log(t),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["This component crashed because of error: ",t.message,"."]}),(0,r.jsx)("button",{onClick:n,children:"Try Again!"})]})},children:(0,r.jsx)("div",{className:"demo-wrapper",style:{height:n},children:t})})}},41830:(e,t,n)=>{n.d(t,{En:()=>an,lG:()=>cn,YX:()=>xn,N4:()=>pn,Fk:()=>Pn,tJ:()=>mn,p1:()=>gn,lV:()=>rn,XI:()=>ln});var o=n(48318),r=n(46643),l=n(36780),a=n.n(l);const s=[];for(let yn=0;yn<=15;yn++)s[yn]=yn.toString(16);function i(){let e="";for(let t=1;t<=36;t++)e+=9===t||14===t||19===t||24===t?"-":15===t?4:20===t?s[4*Math.random()|8]:s[16*Math.random()|0];return e.replace(/-/g,"")}const c=(e,t)=>{const n=t.split(".").filter(Boolean);let o=e;for(const r of n){if(void 0===o[r])return;o=o[r]}return n.length?o:void 0},u=(e,t)=>{const n={};for(const[o,r]of Object.entries(e))n[o]=c(t,r);return n};var p=n(62412);function d(e){return"component"in e}var m=n(78924);var h=n(11067),g=n(49214);const f=e=>{const{componentProps:t}=e;return(0,g.jsx)(h.Ay,{...(()=>{const{...e}=t;return e})()})};var x=n(23535),b=n(35996);const P=e=>{const{componentProps:t}=e,n=(()=>{const{dropDownItems:e,onClick:n,...o}=t;return o})();return(0,g.jsx)(x.A,{disabled:n.disabled,menu:{items:t?.dropDownItems||[],onClick:t?.onClick},trigger:["click"],children:(0,g.jsx)("div",{children:(0,g.jsxs)(h.Ay,{...n,children:[n.children,(0,g.jsx)(b.A,{})]})})})},y=new Map;function v(){const{setExtendActionsComp:e}=w();e(y);return{renderContent:(0,o.useCallback)(((e,t)=>{const n=d(e),o=function(e){return"render"in e}(e);if(n){const n=y.get(e.component);return(0,g.jsx)(n,{...e},t)}return o?(0,g.jsx)("div",{children:e.render},t):null}),[])}}y.set("Button",f),y.set("Dropdown",P);const C=(0,o.createContext)({}),k=e=>{const{extendProps:t,extendComp:n}=e.value;return(0,g.jsx)(C.Provider,{value:{extendProps:t,extendComp:n},children:e.children})},A=()=>(0,o.useContext)(C),w=()=>{const{extendProps:e,extendComp:t}=A();return{extendActionsProps:e?.actions,setExtendActionsComp:e=>{const n=t?.actions;n&&Object.keys(n).forEach((t=>{e.set(t,n[t])}))}}};var R=n(97740),j=n(6017);const{useToken:S}=R.A,F=e=>{let{items:t,actionsProps:n}=e;const{type:o,disabled:r}=n,{renderContent:l}=v(),{token:a}=S(),s={backgroundColor:a.colorBgElevated,borderRadius:a.borderRadiusLG,boxShadow:a.boxShadowSecondary};return(0,g.jsx)(x.A,{disabled:r,menu:{items:[]},dropdownRender:()=>(0,g.jsx)("div",{style:s,children:(0,g.jsx)(j.A,{style:{padding:8},children:t?.map(((e,t)=>l(e,t)))})}),trigger:["click"],children:(0,g.jsxs)(h.Ay,{type:o,children:["\u66f4\u591a",(0,g.jsx)(b.A,{})]})})},D=e=>{const{actionsProps:t}=function(e){const{inherit:t=!0}=e,{extendActionsProps:n}=w();return{actionsProps:{...(0,p.A)((0,p.A)({items:[],max:10},t?n:{}),e)}}}(e),{showActionItems:n,ellipsisActionItems:r}=function(e){const{type:t,disabled:n,items:o,max:r}=e,l=o.map((e=>{const o={...e};return d(o)&&(o.componentProps={type:t,disabled:n,...o.componentProps}),o})),a=(0,m.A)(r)&&r>=0;return{showActionItems:l.slice(0,a?r:l.length),ellipsisActionItems:l.slice(a?r:l.length)}}(t),{renderContent:l}=v();return t?.render?t.render:(0,g.jsxs)(o.Fragment,{children:[n?.map(((e,t)=>l(e,t))),r?.length?(0,g.jsx)(F,{actionsProps:t,items:r}):null]})};const I=e=>{const{extendDialogProps:t}=T(),n={width:700,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",getPopperContainer:()=>document.body};return{dialogProps:{...(0,p.A)((0,p.A)(n,t),e)},baseDialogProps:n}},T=()=>{const{extendProps:e}=A();return{extendDialogProps:e?.dialog}},M=(e,t)=>{const{onOpen:n,onClose:o}=e;return{open:()=>{t(!0),n&&n()},close:()=>{t(!1),o&&o()}}},z=e=>{let{initWidth:t,initHeight:n,setDialogChangeRecord:r}=e;const[l,a]=(0,o.useState)(t.current),[s,i]=(0,o.useState)(n.current);return{dialogWidth:l,dialogHeight:s,setDialogSize:e=>{let{width:t,height:n}=e;r({width:l,height:s}),void 0!==t&&a(t),void 0!==n&&i(n)}}},E=e=>{let{initLeft:t,initTop:n,setDialogChangeRecord:r}=e;const[l,a]=(0,o.useState)(t.current),[s,i]=(0,o.useState)(n.current);return{dialogLeft:l,dialogTop:s,setDialogPosition:e=>{let{left:t,top:n}=e;r({left:l,top:s}),void 0!==t&&a(t),void 0!==n&&i(n)}}},V=e=>{let{container:t,dialogHeaderRef:n,dialogRef:r,setDialogPosition:l}=e;const a=(0,o.useRef)(0),s=(0,o.useRef)(0),i=(0,o.useCallback)((e=>{const{offsetLeft:t,offsetTop:n}=r.current;a.current=e.clientX-t,s.current=e.clientY-n,document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}),[]),c=(0,o.useCallback)((e=>{const n=r.current,{translateX:o,translateY:i}=(e=>{const t=e.getBoundingClientRect();return{translateX:-.5*t.width,translateY:-.5*t.height}})(n);let c=e.clientX-a.current,u=e.clientY-s.current;const p=-o,d=-i,m=t.scrollWidth-n.offsetWidth-o,h=t.scrollHeight-n.offsetHeight-i;c<p&&(c=p),c>m&&(c=m),u<d&&(u=d),u>h&&(u=h),l({left:c,top:u})}),[]),u=(0,o.useCallback)((()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)}),[]);return(0,o.useEffect)((()=>{const e=n.current;return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}}),[]),{}},H=e=>{let{container:t,dialogChangeRecord:n,close:r,setDialogSize:l,setDialogPosition:a}=e;const[s,i]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1);return{minimizeVisible:s,maximizeVisible:c,onMinimize:()=>{i(!0)},onMaximize:e=>{if("minimize"===e&&i(!1),"maximize"===e){const{scrollWidth:e,scrollHeight:n}=t,o=Math.floor(e),r=Math.floor(n),s=Math.floor(e/2),i=Math.floor(n/2);l({width:o,height:r}),a({top:i,left:s}),u(!0)}},onRecovery:()=>{const{top:e,left:t,width:o,height:r}=n.current;l({width:o,height:r}),a({top:e,left:t}),u(!1)},onClose:()=>{i(!1),u(!1),r()}}},B=e=>{let{visible:t,container:n,dialogHeight:r,dialogRef:l,dialogHeaderRef:a,dialogFooterRef:s}=e;const[i,c]=(0,o.useState)("unset");return(0,o.useEffect)((()=>{if(t){const e=0,t=0,{clientHeight:o}=n,r=a.current?.offsetHeight,i=s.current?.offsetHeight,u=l.current?.getBoundingClientRect().height;let p=u-r-i-(e+t);const d=o-r-i-(e+t);p>d&&(p=d),c(p)}}),[t,r]),{contentMaxHeight:i,setContentMaxHeight:c}},N=()=>{const[e,t]=(0,o.useState)(160),[n,r]=(0,o.useState)(60);return{minimizeTop:n,minimizeLeft:e,minimizeRef:(0,o.useRef)(null),setMinimizePosition:e=>{let{left:n,top:o}=e;void 0!==n&&t(n),void 0!==o&&r(o)}}},Y=e=>{let{visible:t,dialogRef:n,minimizeRef:r,container:l}=e;const a={xphDialog:"xph--dialog",xphDialogWrapper:"xph--dialog--wrapper",xphMinimizeDialog:"xph--dialog--minimize"},s=(e,t)=>{console.log("\u89e6\u53d1\u63d2\u5165"),e.querySelector(`.${a.xphDialogWrapper}`).style.opacity="unset",e.querySelector(`.${a.xphMinimizeDialog}`).style.opacity="unset",t.querySelector(`.${a.xphDialogWrapper}`).style.opacity=.7,t.querySelector(`.${a.xphMinimizeDialog}`).style.opacity=.7;const n=document.createElement("div");n.style.visibility="hidden",t.parentNode.insertBefore(n,t.nextSibling),t.parentNode.insertBefore(e,n),t.parentNode.removeChild(n)},i=e=>{const t=l.querySelectorAll(`.${a.xphDialog}`),o=t[t.length-1];if(n.current?.parentNode!==o&&(s(n.current?.parentNode,o),e)){const t=e.target;"INPUT"===t.tagName&&t.focus&&t.focus()}};return(0,o.useEffect)((()=>(n.current?.addEventListener("mousedown",i,!1),r.current?.addEventListener("mousedown",i,!1),()=>{n.current?.removeEventListener("mousedown",i,!1),r.current?.removeEventListener("mousedown",i,!1)})),[]),(0,o.useEffect)((()=>{if(t)i();else{const e=Array.from(l.querySelectorAll(`.${a.xphDialog}`)),t=e.map((e=>e.querySelector(`.${a.xphDialogWrapper}`))).filter((e=>null!==e)),n=e.map((e=>e.querySelector(`.${a.xphMinimizeDialog}`))).filter((e=>null!==e)),o=t.filter((e=>"flex"===e.style.display)),r=n.filter((e=>"flex"===e.style.display));if(o.length)return void s(o[o.length-1].parentNode,e[e.length-1]);if(r.length)return void s(r[r.length-1].parentNode,e[e.length-1])}}),[t]),{dialogTopShowClassConfig:a}},W=e=>{let{initWidth:t,initHeight:n,initLeft:r,initTop:l,curPropsWidth:a,curPropsHeight:s,setDialogSize:i,setDialogPosition:c}=e;(0,o.useEffect)((()=>{a!==t.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u5bbd\u5ea6"),i({width:a})),s!==n.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u9ad8\u5ea6"),i({height:s}))}),[a,s]),(0,o.useEffect)((()=>{a!==t.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u5de6\u8fb9\u4f4d\u7f6e"),c({left:r.current})),s!==n.current&&(console.log("\u91cd\u65b0\u8bbe\u7f6e\u4e86\u4e0a\u8fb9\u4f4d\u7f6e"),c({top:l.current}))}),[a,s])},_=()=>{const e=(0,o.useRef)({left:0,top:0,width:0,height:0});return{dialogChangeRecord:e,setDialogChangeRecord:t=>{let{left:n,top:o,width:r,height:l}=t;const{left:a,top:s,width:i,height:c}=e.current;e.current={left:n??a,top:o??s,width:r??i,height:l??c}}}},L=e=>{let{container:t,dialogRef:n,minResizeRecord:r,setDialogSize:l,setDialogPosition:a}=e;const s=(0,o.useCallback)((()=>(0,g.jsx)("div",{ref:i,style:{position:"absolute",border:"4px dashed #ccc",display:"none"}})),[]),i=(0,o.useRef)(null),c=(0,o.useRef)(),u=(0,o.useRef)(!1),[p,d]=(0,o.useState)(!1),m=(0,o.useRef)(0),h=(0,o.useRef)(0),f=(e,t)=>{u.current=!0,d(!0),c.current=t;const{clientX:o,clientY:r}=e;m.current=o,h.current=r;const l=parseFloat(n.current.style.left),a=parseFloat(n.current.style.top),s=n.current.offsetWidth,p=n.current.offsetHeight;i.current.style.display="block",i.current.style.left=l-.5*s+"px",i.current.style.top=a-.5*p+"px",i.current.style.width=`${s}px`,i.current.style.height=`${p}px`},x=()=>{if(u.current){u.current=!1,d(!1),i.current.style.display="none";const{left:e,top:t,width:n,height:o}=i.current.style,r=parseFloat(e)+.5*parseFloat(n),s=parseFloat(t)+.5*parseFloat(o),c=parseFloat(n),p=parseFloat(o);a({left:r,top:s}),l({width:c,height:p})}},b=(0,o.useCallback)((e=>{(e=>{if(u.current){const{clientX:n,clientY:o}=e,l=n-m.current,a=o-h.current,s=parseFloat(i.current.style.left),u=parseFloat(i.current.style.top),p=i.current.offsetWidth,d=i.current.offsetHeight,g=r.current.width,f=r.current.height,x=t.scrollWidth,b=t.scrollHeight;let P=p,y=d,v=s,C=u;switch(c.current){case"lt":P-=l,y-=a,C+=a,v+=l,P<g&&(P=p,v=s),y<f&&(y=d,C=u),v<0&&(v=0,P=p),C<0&&(C=0,y=d);break;case"rt":P+=l,y-=a,C+=a,v=s,P<g&&(P=p),y<f&&(y=d,C=u),P>x-v&&(P=x-v),C<0&&(C=0,y=d);break;case"rb":P+=l,y+=a,C=u,v=s,P<g&&(P=p),y<f&&(y=d),P>x-v&&(P=x-v),y>b-C&&(y=b-C);break;case"lb":P-=l,y+=a,C=u,v+=l,P<g&&(P=p,v=s),y<f&&(y=d),v<0&&(v=0,P=p),y>b-C&&(y=b-C)}i.current.style.left=`${v}px`,i.current.style.top=`${C}px`,i.current.style.width=`${P}px`,i.current.style.height=`${y}px`,m.current=n,h.current=o}})(e)}),[]),P=(0,o.useCallback)((()=>{x()}),[]),y=(0,o.useCallback)((()=>{x()}),[]);return(0,o.useEffect)((()=>(document.body.addEventListener("mousemove",b),document.body.addEventListener("mouseup",P),document.body.addEventListener("mouseleave",y),()=>{document.body.removeEventListener("mousemove",b),document.body.removeEventListener("mouseup",P),document.body.removeEventListener("mouseleave",y)})),[]),{resizingState:p,DashedBox:s,onMousedownResizeLt:e=>f(e,"lt"),onMousedownResizeRt:e=>f(e,"rt"),onMousedownResizeRb:e=>f(e,"rb"),onMousedownResizeLb:e=>f(e,"lb")}},$=e=>{let{visible:t,container:n,dialogRef:r,dialogProps:l,baseDialogProps:a}=e;const[s,i]=(0,o.useState)(0),c=()=>{i((e=>e+1))};(0,o.useEffect)((()=>{const e=new ResizeObserver(c);return e.observe(n),()=>{e.unobserve(n),e.disconnect()}}),[n]);const{width:u,height:p}=a,{width:d,height:m}=l,h=d||u,g=m||p,{clientWidth:f,clientHeight:x}=n,b=h?h>f?f:h:0,P=g?g>x?x:g:"unset",y=(0,o.useRef)(b),v=(0,o.useRef)(P),C=(0,o.useRef)(Math.floor(f/2)),k=(0,o.useRef)(Math.floor(x/2)),A=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(y.current=b,v.current=P,C.current=Math.floor(f/2),k.current=Math.floor(x/2),t){const e=r.current.offsetWidth,t=r.current.offsetHeight;A.current={width:e,height:t}}}),[s]),{parentResizeRecord:s,initLeft:C,initTop:k,initWidth:y,initHeight:v,curPropsWidth:b,curPropsHeight:P,minResizeRecord:A}},q=e=>{let{visible:t,initWidth:n,initHeight:r,initLeft:l,initTop:a,minResizeRecord:s,dialogRef:i,setDialogSize:c,setDialogPosition:u}=e;(0,o.useEffect)((()=>{t||(c({width:n.current,height:r.current}),u({left:l.current,top:a.current}))}),[t]),(0,o.useEffect)((()=>{if(t){const e=i.current.offsetWidth,t=i.current.offsetHeight;s.current={width:e,height:t}}else s.current=null}),[t])},G="minimize-windows_sYFu",U="minimize-windows-title_KECT",O="minimize-windows-operate_zPqC";var X=n(92966),K=n(79633),Z=n(94654),J=n(6292);const Q=e=>{let{onClick:t}=e;return(0,g.jsx)(h.Ay,{type:"link",onClick:t,icon:(0,g.jsx)(X.A,{style:{fontSize:"22px",cursor:"pointer"}})})},ee=e=>{let{onClick:t}=e;return(0,g.jsx)(h.Ay,{type:"link",onClick:t,icon:(0,g.jsx)(K.A,{style:{fontSize:"22px",cursor:"pointer"}})})},te=e=>{let{onClick:t}=e;return(0,g.jsx)(h.Ay,{type:"link",onClick:t,icon:(0,g.jsx)(Z.A,{style:{fontSize:"22px",cursor:"pointer"}})})},ne=e=>{let{onClick:t}=e;return(0,g.jsx)(h.Ay,{type:"link",onClick:t,icon:(0,g.jsx)(J.A,{style:{fontSize:"22px",cursor:"pointer"}})})},{useToken:oe}=R.A,re=(0,o.forwardRef)(((e,t)=>{let{title:n,left:o,top:r,visible:l,onMaximize:a,onClosesquare:s,className:i}=e;const{token:c}=oe(),u={borderRadius:c.borderRadiusLG};return(0,g.jsxs)("div",{style:{display:l?"flex":"none",left:o,top:r,...u},className:`${G} ${i}`,ref:t,children:[(0,g.jsx)("div",{className:U,title:n,children:n}),(0,g.jsxs)("div",{className:O,children:[(0,g.jsx)(ee,{onClick:a}),(0,g.jsx)(ne,{onClick:s})]})]})})),le="xph-dialog-mask_h6K7",ae="xph-dialog-wrapper_YAvO",se="dialog__header_dtup",ie="dialog__header-btns_HSE7",ce="dialog__main_G3dF",ue="dialog__footer_wRZ7",pe="dialog__resize_WDp7",de="dialog__resize-lt_LvyF",me="dialog__resize-rt_dIvs",he="dialog__resize-rb_RR2c",ge="dialog__resize-lb_luQ8";var fe=n(84162);const{useToken:xe}=R.A,be=(0,o.forwardRef)(((e,t)=>{console.log("render Dialog==============================================");const{token:n}=xe(),r={borderRadius:n.borderRadiusLG},{children:l,baseDialogProps:a,mask:s,title:i,renderFooter:c,renderTitle:u,getPopperContainer:p}=e,d=p(),[m,h]=(0,o.useState)(!1),{footerActions:f}=function(e){const{okText:t,cancelText:n,onCancel:o,onOk:r,okProps:l,cancelProps:a}=e;return{footerActions:{max:2,items:[{component:"Button",componentProps:{...a,children:n,onClick:o}},{component:"Button",componentProps:{type:"primary",...l,children:t,onClick:r}}]}}}(e),{open:x,close:b}=M(e,h),P=(0,o.useRef)(null),y=(0,o.useRef)(null),v=(0,o.useRef)(null),C=(0,o.useRef)(null),{parentResizeRecord:k,initLeft:A,initTop:w,initWidth:R,initHeight:j,curPropsWidth:S,curPropsHeight:F,minResizeRecord:I}=$({visible:m,container:d,dialogRef:P,dialogProps:e,baseDialogProps:a}),{dialogChangeRecord:T,setDialogChangeRecord:G}=_(),{dialogWidth:U,dialogHeight:O,setDialogSize:X}=z({initWidth:R,initHeight:j,setDialogChangeRecord:G}),{dialogLeft:K,dialogTop:Z,setDialogPosition:J}=E({initLeft:A,initTop:w,setDialogChangeRecord:G}),{contentMaxHeight:oe}=B({visible:m,container:d,dialogHeight:O,dialogRef:P,dialogHeaderRef:y,dialogFooterRef:C}),{minimizeLeft:be,minimizeTop:Pe,minimizeRef:ye,setMinimizePosition:ve}=N(),{minimizeVisible:Ce,maximizeVisible:ke,onMaximize:Ae,onMinimize:we,onRecovery:Re,onClose:je}=H({container:d,dialogChangeRecord:T,close:b,setDialogSize:X,setDialogPosition:J}),Se=(0,fe.A)((()=>{X({width:R.current,height:j.current}),J({left:A.current,top:w.current})}),300);(0,o.useEffect)((()=>{Se()}),[k]),q({visible:m,initWidth:R,initHeight:j,initLeft:A,initTop:w,minResizeRecord:I,dialogRef:P,setDialogSize:X,setDialogPosition:J}),W({initWidth:R,initHeight:j,initLeft:A,initTop:w,curPropsWidth:S,curPropsHeight:F,setDialogSize:X,setDialogPosition:J}),V({container:d,dialogHeaderRef:y,dialogRef:P,setDialogPosition:J});V({container:d,dialogHeaderRef:ye,dialogRef:ye,setDialogPosition:ve});const{dialogTopShowClassConfig:Fe}=Y({visible:m,container:d,dialogRef:P,minimizeRef:ye}),{resizingState:De,DashedBox:Ie,onMousedownResizeLt:Te,onMousedownResizeRt:Me,onMousedownResizeRb:ze,onMousedownResizeLb:Ee}=L({container:d,dialogRef:P,minResizeRecord:I,setDialogSize:X,setDialogPosition:J});return(0,o.useImperativeHandle)(t,(()=>({open:x,close:je}))),(0,g.jsxs)("div",{className:Fe.xphDialog,children:[s?(0,g.jsx)("div",{className:le,style:{display:m?"block":"none",width:d.scrollWidth,height:d.scrollHeight}}):null,(0,g.jsx)(re,{visible:Ce,className:`${Fe.xphMinimizeDialog}`,ref:ye,left:be,top:Pe,title:i,onMaximize:()=>Ae("minimize"),onClosesquare:je}),(0,g.jsxs)("div",{ref:P,className:`${ae} ${Fe.xphDialogWrapper}`,style:{display:m&&!Ce?"flex":"none",left:K,top:Z,width:U,height:O,opacity:De?.2:"unset",...r},children:[(0,g.jsxs)("div",{ref:y,className:se,children:[(0,g.jsx)("div",{children:u?u():i}),(0,g.jsxs)("div",{className:ie,children:[(0,g.jsx)(Q,{onClick:we}),ke?(0,g.jsx)(te,{onClick:Re}):(0,g.jsx)(ee,{onClick:()=>Ae("maximize")}),(0,g.jsx)(ne,{onClick:je})]})]}),(0,g.jsx)("div",{ref:v,className:ce,style:{maxHeight:oe},children:m?l:null}),c?(0,g.jsx)("div",{ref:C,children:c()}):(0,g.jsx)("div",{ref:C,className:ue,children:(0,g.jsx)(D,{...f})}),(0,g.jsx)("div",{className:`${pe} ${de}`,onMouseDown:Te}),(0,g.jsx)("div",{className:`${pe} ${me}`,onMouseDown:Me}),(0,g.jsx)("div",{className:`${pe} ${he}`,onMouseDown:ze}),(0,g.jsx)("div",{className:`${pe} ${ge}`,onMouseDown:Ee})]}),(0,g.jsx)(Ie,{})]})})),Pe=(e,t)=>{const{children:n,...o}=e,{baseDialogProps:r,dialogProps:l}=I(o),{getPopperContainer:a}=l;return console.log("render XphDialog=============================================="),(0,g.jsx)(Ce,{getPopperContainer:a,children:(0,g.jsx)(be,{...l,baseDialogProps:r,ref:t,children:n})})},ye=(0,o.forwardRef)(Pe);var ve=n(91627);const Ce=e=>{let{children:t,getPopperContainer:n}=e;const[r,l]=o.useState(null);return(0,o.useEffect)((()=>{const e=n();l(e)}),[]),r?ve.createPortal(t,r):null};var ke=n(80681),Ae=n(76154);function we(e){return"component"in e}function Re(e){return"render"in e}var je=n(91085),Se=n(7361),Fe=n(95810),De=n(52606),Ie=n(51976);const Te=["DatePicker","MonthPicker","RangePicker","WeekPicker","TimePicker"],Me=e=>{let{formProps:t}=e;const{items:n}=t;return{formItems:n.map((e=>({...e})))}},ze=(e,t)=>{const n=e=>(Object.keys(e).forEach((t=>{Object.defineProperty(e,t,{value:e[t],writable:!1,enumerable:!0,configurable:!1})})),e),r={};e.items.forEach((e=>{r[e.name]=e.initialValue}));const l=(e=>{const{show:t,ifShow:n,required:o,disabled:r,componentProps:l}=e;return!!((0,Se.A)(t)||(0,Se.A)(n)||(0,Se.A)(o)||(0,Se.A)(r)||(0,Se.A)(l)||Re(e))})(t),a=l?ke.A.useWatch((e=>n(e))):null;return{rewritingModel:(0,o.useMemo)((()=>a||n(r)),[a]),isusewatch:l}},Ee=()=>{const e=(0,o.useRef)(null);const t={getFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.getFieldsValue(...arguments)},setFieldsValue:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.setFieldsValue(...arguments)},resetFields:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.resetFields(...arguments)},validator:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.validator(...arguments)},scrollToField:function(){if(!e.current)throw new Error("\u8868\u5355\u8fd8\u6ca1\u521d\u59cb\u5316\u5b8c\u6210");return e.current.scrollToField(...arguments)}};return(0,o.useEffect)((()=>(console.log("ParentComponent is mounted====================================="),()=>{console.log("ParentComponent is unmounted===================================="),e.current=null})),[]),[function(t){e.current=t},t]};var Ve=n(87609),He=n(5264),Be=n(42922),Ne=n(55672);const Ye=(e,t,n)=>{const o=e.filter((e=>e.name));return{handleFormatRenderValues:e=>{const t={},n=[];return o.forEach((o=>{const r=Reflect.has(e,o.name),l=function(e,t){void 0===t&&(t={});const n=/^\[(.+)\]$/;if(n.test(e)){const o=e.match(n);if(o&&o[1]){const e=o[1].split(",");if(!e.length)return;const n=[];return e.forEach(((e,o)=>{(0,Ve.A)(n,o,t[e.trim()])})),n.filter(Boolean).length?n:void 0}}}(o.name,e)||function(e,t){void 0===t&&(t={});const n=/^\{(.+)\}$/;if(n.test(e)){const o=e.match(n);if(o&&o[1]){const e=o[1].split(",");if(!e.length)return;const n={};return e.forEach((e=>{(0,Ve.A)(n,e.trim(),t[e.trim()])})),Object.values(n).filter(Boolean).length?n:void 0}}}(o.name,e);if(r||l){const r=l||e[o.name];if(we(o))if(Te.includes(o.component)){if((0,He.A)(r)){const e=[];for(const t of r)e.push(t?a()(t):null);t[o.name]=e}else t[o.name]=r?a()(r):null;n.push(o.name)}else t[o.name]=r,n.push(o.name);Re(o)&&(t[o.name]=r,n.push(o.name))}})),{renderValues:t,validKeys:n}},handleFormatReturnValues:e=>{if(!(0,Be.A)(e))return{};const o={};for(const r of Object.entries(e)){let[,e]=r;const[l]=r;if(!l||(0,He.A)(e)&&0===e.length||(0,Se.A)(e))continue;const{transformDateFunc:a}=t,s=n.current?.get(l)?.current?.componentProps,i=s?.valueFormat;if((0,Be.A)(e)){const t=e;t.format&&(e=a?.(t,i))}(0,He.A)(e)&&e[0]?.format&&e[1]?.format&&(e=e.map((e=>a?.(e,i)))),(0,Ne.A)(e)&&(e=""===e?void 0:e.trim()),o[l]=e}return function(e,t){const n=t.fieldMapToTime;if(!n||!Array.isArray(n))return e;for(const[o,[r,l],s="YYYY-MM-DD"]of n){if(!o||!r||!l)continue;if(!e[o]){Reflect.deleteProperty(e,o);continue}const[t,n]=e[o],[i,c]=Array.isArray(s)?s:[s,s];e[r]=a()(t).format(i),e[l]=a()(n).format(c),Reflect.deleteProperty(e,o)}return e}(o,t)}}},We=(e,t,n)=>({getFieldsValue:function(){return n(e.getFieldsValue(...arguments))},setFieldsValue:n=>{const{renderValues:o,validKeys:r}=t(n);e.setFieldsValue(o),e.validateFields(r)},resetFields:async()=>e.resetFields(),validator:async t=>e.validateFields(t).then((e=>n(e))),scrollToField:async(t,n)=>e.scrollToField(t,n)}),_e=e=>{const{extendFormProps:t}=qe();return{formProps:{...(0,p.A)((0,p.A)({collapseNum:5,colon:!1,items:[],labelWrap:!0,transformDateFunc:(e,t)=>e?.format?.(t||"YYYY-MM-DD HH:mm:ss")??e,fieldMapToTime:[]},t),e)}}},Le=e=>{const{immediate:t=!0,params:n,api:r,apiCallback:l,isUseWatch:a}=e,s=(0,o.useRef)(!0),i=(0,o.useRef)(n),c=()=>{r&&(0,Se.A)(r)&&(n?r(n).then(l):r().then(l),i.current=n)};return(0,o.useEffect)((()=>{s.current&&(t&&c(),s.current=!1),!s.current&&a&&((0,De.A)(n,i.current)||t&&c())}),[n]),{getApiData:c}},$e=(e,t)=>{const{collapsible:n,collapseNum:r}=e,l=(0,o.useRef)();return{collapsible:n,collapseNum:r,collapseRef:l,onClickCollapseToTrue:()=>{t.current?.forEach((e=>{if(e.current){const{itemIndex:t}=e.current;t>=r&&n&&e.current.setItemCollapse(!0)}}))},onClickCollapseToFalse:()=>{t.current?.forEach((e=>{if(e.current){const{itemCollapse:t}=e.current;t&&e.current.setItemCollapse(!1)}}))}}},qe=()=>{const{extendProps:e,extendComp:t}=A();return{extendFormProps:e?.form,setExtendFormComp:e=>{const n=t?.form;n&&Object.keys(n).forEach((t=>{e.set(t,n[t])}))}}};var Ge=n(68040),Ue=n(18726),Oe=n(16872),Xe=n(19843),Ke=n(89876),Ze=n(50908),Je=n(51358),Qe=n(32899),et=n(46604),tt=n(33360),nt=n(77869),ot=n(10179),rt=n(62330);const lt=e=>{console.log("render ApiSelect");const{api:t,params:n,immediate:r=!0,isusewatch:l,onDropdownVisibleChange:a}=e,s="true"===l,[i,c]=o.useState([]),{getApiData:u}=Le({api:t,immediate:r,params:n,apiCallback:c,isUseWatch:s});return(0,g.jsx)(Ue.A,{...(()=>{const{api:t,params:n,immediate:o,isusewatch:r,...l}=e;return l})(),options:i,onDropdownVisibleChange:e=>{e&&!r&&u(),a&&a(e)}})},at=e=>{console.log("render ApiTreeSelect");const{api:t,params:n,immediate:r=!0,isusewatch:l,onDropdownVisibleChange:a}=e,s="true"===l,[i,c]=o.useState([]),{getApiData:u}=Le({api:t,immediate:r,params:n,apiCallback:c,isUseWatch:s});return(0,g.jsx)(Xe.A,{...(()=>{const{api:t,params:n,immediate:o,isusewatch:r,...l}=e;return l})(),treeData:i,onDropdownVisibleChange:e=>{e&&!r&&u(),a&&a(e)}})},st=e=>{console.log("render ApiTransfer");const{api:t,params:n,isusewatch:r}=e,l="true"===r,[a,s]=o.useState([]),{getApiData:i}=Le({api:t,params:n,apiCallback:s,isUseWatch:l});return(0,g.jsx)(Ke.A,{...(()=>{const{api:t,params:n,isusewatch:o,...r}=e;return r})(),dataSource:a})},it=e=>{console.log("render ApiAutoComplete");const{api:t,params:n,immediate:r=!0,isusewatch:l,onDropdownVisibleChange:a}=e,s="true"===l,[i,c]=o.useState([]),{getApiData:u}=Le({api:t,immediate:r,params:n,apiCallback:c,isUseWatch:s});return(0,g.jsx)(ot.A,{...(()=>{const{api:t,params:n,immediate:o,isusewatch:r,...l}=e;return l})(),options:i,onDropdownVisibleChange:e=>{e&&!r&&u(),a&&a(e)}})};var ct=n(28172);const ut={String:"String","String[]":"String[]","File[]":"File[]",FileList:"FileList"},pt=e=>{console.log("render AutoUpload"),console.log(i());const t="",{api:n,maxCount:r=1,maxSize:l=2,listType:a="picture-card",openCrop:s=!1,data:c,returnType:u=ut.String,value:p=t,onChange:d}=e,m=(0,o.useRef)(!0),h=(0,o.useRef)(0),f=(0,o.useRef)([]),[x,b]=(0,o.useState)([]),P=e=>{f.current=e,b([...e])},y=e=>{s?(ct.Ay.error("\u6682\u65f6\u4e0d\u652f\u6301\u88c1\u526a\u529f\u80fd\uff0c\u540e\u7eed\u517c\u5bb9\u3002\u3002\u3002\u3002"),v({file:e})):v({file:e})},v=e=>{var t;n?n({file:e.file,...c}).then((e=>{P([...f.current,...e])})).finally((()=>{h.current--})):(Object.assign(e.file,{status:"done",url:URL.createObjectURL(new Blob([e.file],{type:(t=e.file.type,["application/json","application/javascript","text/plain","text/html","text/css"].includes(t)?`${t}; charset=utf-8`:t)}))}),P([...f.current,e.file]),h.current--)},C=e=>({uid:(e=>{const t=f.current.find((t=>t.url===e));return t?t.uid:i()})(e),name:(e=>{const t=e.split("/"),n=t[t.length-1],[o]=n.split("?");return o})(e),url:e,status:"done"}),k=()=>{switch(u){case ut.String:return x.map((e=>e.url)).join(",");case ut["String[]"]:return x.map((e=>e.url));case ut["File[]"]:case ut.FileList:return[...x]}};return(0,o.useEffect)((()=>{const e=k();if((0,De.A)(e,p))return;let t=[];switch(u){case ut.String:t=(p||"").split(",").filter((e=>e)).map((e=>C(e)));break;case ut["String[]"]:t=(p||[]).map((e=>C(e)));break;case ut["File[]"]:case ut.FileList:t=(p||[]).map((e=>e))}P(t)}),[p]),(0,o.useEffect)((()=>{if(m.current)return void(m.current=!1);const e=k();d?.(e)}),[x]),(0,g.jsx)(rt.A,{listType:a,...(()=>{const{api:t,maxCount:n,maxSize:o,openCrop:r,beforeUpload:l,fileList:a,returnType:s,...i}=e;return i})(),fileList:x,beforeUpload:e=>{const t=e.size/1024/1024<l;t||ct.Ay.error(`\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7:${l}M, \u8bf7\u91cd\u8bd5`);const n=f.current.length+h.current<r;n||ct.Ay.error(`\u6587\u4ef6\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7${r}\u4e2a`),t&&n&&h.current++;return t&&n&&y(e),rt.A.LIST_IGNORE},onChange:e=>{const{file:t,fileList:n}=e,{status:o}=t;if("removed"===o)P([...n])},children:"\u4e0a\u4f20"})},dt=new Map;dt.set("Input",Ge.A),dt.set("ApiSelect",lt),dt.set("Select",Ue.A),dt.set("InputNumber",Oe.A),dt.set("ApiTreeSelect",at),dt.set("TreeSelect",Xe.A),dt.set("ApiTransfer",st),dt.set("Transfer",Ke.A),dt.set("Switch",Ze.A),dt.set("Button",h.Ay),dt.set("Radio",Je.Ay),dt.set("RadioGroup",Je.Ay.Group),dt.set("Checkbox",Qe.A),dt.set("CheckboxGroup",Qe.A.Group),dt.set("Cascader",et.A),dt.set("TimePicker",tt.A),dt.set("DatePicker",nt.A),dt.set("MonthPicker",nt.A.MonthPicker),dt.set("WeekPicker",nt.A.WeekPicker),dt.set("RangePicker",nt.A.RangePicker),dt.set("InputPassword",Ge.A.Password),dt.set("InputTextArea",Ge.A.TextArea),dt.set("ApiAutoComplete",it),dt.set("AutoComplete",ot.A),dt.set("Upload",rt.A),dt.set("AutoUpload",pt);var mt=n(83528);const ht="form-item-force_b_AE",gt="form-item-hidden_XN1B",ft=(0,o.forwardRef)(((e,t)=>{let{itemIndex:n,itemProps:r,methods:l,formProps:a,collapseRef:s}=e;console.log("render FormItem",r.name);const{rewritingModel:i,isusewatch:c}=ze(a,r),{isIfShow:u,isShow:p}=((e,t,n)=>{const r=(0,o.useRef)(null),l=(0,o.useRef)(null),{handleCollapseChangeFalse:a}=n.current||{},{show:s,ifShow:i}=e;let c=!0,u=!0;if((0,je.A)(s)&&(c=s),(0,je.A)(i)&&(u=i),(0,Se.A)(s)){c=s({model:t});const e=(0,Fe.A)(r.current)?c:r.current;(0,o.useEffect)((()=>{(0,De.A)(c,e)||a&&a()}),[t])}if((0,Se.A)(i)){u=i({model:t});const e=(0,Fe.A)(l.current)?u:l.current;(0,o.useEffect)((()=>{(0,De.A)(u,e)||a&&a()}),[t])}return r.current=c,l.current=u,{isShow:c,isIfShow:u}})(r,i,s),{colProps:d}=((e,t)=>{const{colProps:n={}}=e,{colProps:o={span:24}}=t;return{colProps:{...o,...n}}})(r,a),{componentProps:m}=((e,t)=>{const n={},{componentProps:o={}}=e;return(0,Se.A)(o)&&Object.assign(n,o({model:t})),Object.assign(n,o),{componentProps:n}})(r,i),{rules:h}=(e=>{let{item:t,model:n,isShow:o,componentProps:r}=e;const{rules:l=[],label:a,required:s}=t;let i=l;const c=we(t),u=c?((p=t.component).includes("Input")||p.includes("Complete")?"\u8bf7\u8f93\u5165":p.includes("Picker")||p.includes("Select")||p.includes("Cascader")||p.includes("Checkbox")||p.includes("Radio")||p.includes("Switch")?"\u8bf7\u9009\u62e9":"")+a:"";var p;function d(e,t){const n=e.message||u;return void 0===t||(0,Ie.A)(t)||Array.isArray(t)&&0===t.length||"string"==typeof t&&""===t.trim()||"object"==typeof t&&Reflect.has(t,"checked")&&Reflect.has(t,"halfChecked")&&Array.isArray(t.checked)&&Array.isArray(t.halfChecked)&&0===t.checked.length&&0===t.halfChecked.length?Promise.reject(n):Promise.resolve()}const m=(0,Se.A)(s)?s({model:n}):s;m&&(i&&0!==i.length?-1===i.findIndex((e=>Reflect.has(e,"required")))&&i.push({required:m,validator:d}):i=[{required:m,validator:d}]);const h=i.findIndex((e=>Reflect.has(e,"required")&&!Reflect.has(e,"validator")));if(-1!==h){const e=i[h];if(o||(e.required=!1),c){const{component:n}=t;Reflect.has(e,"type")||(e.type="InputNumber"===n?"number":"string"),e.message=e.message||u,(n.includes("Input")||n.includes("Textarea"))&&(e.whitespace=!0),function(e,t,n){["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(t)?e.type=n?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(t)?e.type="array":["InputNumber"].includes(t)&&(e.type="number")}(e,n,r.valueFormat)}}const g=i.findIndex((e=>e.max));return-1===g||i[g].validator||(i[g].message=i[g].message||`\u5b57\u7b26\u6570\u5e94\u5c0f\u4e8e${i[g].max}\u4f4d`),{rules:i}})({item:r,model:i,isShow:p,componentProps:m}),{disabled:f}=((e,t,n)=>{const{disabled:o}=e;let r=!1;const{disabled:l}=t;return(0,Se.A)(l)&&(r=l({model:n})),(0,je.A)(l)&&(r=l),{disabled:Reflect.has(t,"disabled")?r:o}})(a,r,i),{itemCollapse:x,setItemCollapse:b}=((e,t)=>{const{collapsible:n,collapseNum:r}=e,[l,a]=(0,o.useState)(!!(n&&t>=r));return{itemCollapse:l,setItemCollapse:a}})(a,n),{name:P,label:y,wrapperCol:v,labelCol:C,valuePropName:k,initialValue:A,forceRow:w}=r;(0,o.useImperativeHandle)(t,(()=>({itemIndex:n,componentProps:m,itemCollapse:x,setItemCollapse:b})));const{setExtendFormComp:R}=qe();R(dt);const j=we(r),S=Re(r);return(0,g.jsxs)(o.Fragment,{children:[w?(0,g.jsx)("div",{className:ht}):null,u?(0,g.jsx)(mt.A,{...d,className:p&&!x?void 0:gt,children:(0,g.jsx)(ke.A.Item,{name:P,label:y,rules:h,wrapperCol:v,labelCol:C,valuePropName:k,initialValue:A,children:(()=>{if(j){const e=dt.get(r.component);return(0,g.jsx)(e,{...m,disabled:f,isusewatch:c.toString()})}return S?r.render({model:i,name:P,disabled:f,methods:l,componentProps:m}):null})()})}):null]})}));var xt=n(81378),bt=n(70463);const Pt="collapse-wrapper_pYhf",yt=(0,o.forwardRef)(((e,t)=>{let{collapsible:n,onClickExpand:r,onClickFold:l}=e;const[a,s]=(0,o.useState)(n),i=(0,o.useMemo)((()=>a),[a]),c=()=>{r(),s(!1)};return(0,o.useImperativeHandle)(t,(()=>({handleCollapseChangeFalse:c}))),(0,g.jsx)("div",{className:Pt,children:i?(0,g.jsx)(h.Ay,{onClick:c,type:"link",icon:(0,g.jsx)(xt.A,{}),children:"\u5c55\u5f00"}):(0,g.jsx)(h.Ay,{onClick:()=>{l(),s(!0)},type:"link",icon:(0,g.jsx)(bt.A,{}),children:"\u6298\u53e0"})})})),vt="group-wrapper_MO6x",Ct=e=>{let{formProps:t}=e;const{renderActions:n}=t;return(0,g.jsx)("div",{className:vt,children:n?.()})},kt="xph-form-action_NeAH",At=(e,t)=>{console.log("render Form");const[n]=ke.A.useForm(),{formProps:r}=_e(e),{formItems:l}=Me({formProps:r}),a=(0,o.useRef)(new Map),{collapsible:s,collapseNum:i,collapseRef:c,onClickCollapseToFalse:u,onClickCollapseToTrue:p}=$e(r,a),{handleFormatRenderValues:d,handleFormatReturnValues:m}=Ye(l,r,a),{setFieldsValue:h,getFieldsValue:f,resetFields:x,validator:b,scrollToField:P}=We(n,d,m),y={setFieldsValue:h,getFieldsValue:f,resetFields:x,validator:b,scrollToField:P};return(0,o.useImperativeHandle)(t,(()=>({...y}))),(0,o.useEffect)((()=>(console.log("Form is mounted======================="),r.register&&r.register(y),()=>{console.log("Form is unmounted========================="),a.current.clear()})),[]),(0,g.jsxs)(ke.A,{form:n,...(()=>{const{layout:e,wrapperCol:t,labelCol:n,colon:o,disabled:l,labelWrap:a,labelAlign:s,scrollToFirstError:i,size:c}=r;return{layout:e,wrapperCol:t,labelCol:n,colon:o,disabled:l,labelWrap:a,labelAlign:s,scrollToFirstError:i,size:c}})(),children:[(0,g.jsx)(Ae.A,{children:l.map(((e,t)=>(a.current.has(e.name)||a.current.set(e.name,o.createRef()),(0,g.jsx)(ft,{ref:a.current.get(e.name),itemIndex:t,itemProps:e,formProps:r,methods:y,collapseRef:c},t))))}),(0,g.jsxs)("div",{className:kt,children:[(0,g.jsx)(Ct,{formProps:r}),s?(0,g.jsx)(yt,{ref:c,collapsible:l.length>i,onClickExpand:u,onClickFold:p}):null]})]})},wt=(0,o.forwardRef)(At);var Rt=n(58138),jt=n(17230),St=n(82109);const Ft=(0,o.memo)(wt),Dt=(0,o.forwardRef)(((e,t)=>{const{renderActions:n,showSearch:r,tableRef:l}=e,[a,s]=(0,o.useState)(!1),i=(0,o.useRef)(null),c=()=>{const{reloadData:e}=l.current;e()},u=()=>{const{resetData:e}=l.current;e()},p=(0,o.useCallback)((()=>(0,g.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,g.jsx)("div",{style:{flex:1,width:0},children:n?.()}),r&&(0,g.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,g.jsx)(h.Ay,{type:"primary",icon:(0,g.jsx)(jt.A,{}),onClick:c,children:"\u641c\u7d22"}),(0,g.jsx)(h.Ay,{icon:(0,g.jsx)(St.A,{}),onClick:u,children:"\u91cd\u7f6e"})]})]})),[r,n]);return(0,o.useImperativeHandle)(t,(()=>({setFormLoading:s,...i.current}))),(0,g.jsx)(Rt.A,{spinning:a,children:(0,g.jsx)(Ft,{ref:i,...(()=>{const{renderActions:t,...n}=e;return{...n,renderActions:p}})()})})})),It=(0,o.memo)(wt),Tt=(e,t)=>{const n=(0,o.useRef)(null),r=(0,o.useRef)(null),{formProps:l}=e;return(0,o.useImperativeHandle)(t,(()=>({open:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.current?.open(...t)},close:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.current?.close(...t)},getFieldsValue:function(){return r.current.getFieldsValue(...arguments)},setFieldsValue:function(){return r.current.setFieldsValue(...arguments)},resetFields:function(){return r.current.resetFields(...arguments)},validator:function(){return r.current.validator(...arguments)},scrollToField:function(){return r.current.scrollToField(...arguments)}}))),(0,g.jsx)(ye,{...(()=>{const{formProps:t,...n}=e;return n})(),ref:n,children:(0,g.jsx)(It,{...l,ref:r})})},Mt=(0,o.forwardRef)(Tt);const{useToken:zt}=R.A,Et="cellfunc-actions_X5w1",Vt={link:{Comp:(e,t,n)=>{const{curComponentProps:o,cellFuncProps:r}=t,{url:l,onClick:a}=o,{token:s}=zt(),i={color:s.colorLink,cursor:"pointer"};return(0,g.jsx)(e,{...n,mainClick:()=>{n.mainClick&&n.mainClick(),a?a():l&&window.open(l,"_blank")},mainStyle:Object.assign(i,n?.mainStyle||{})})}},actions:{Comp:(e,t,n)=>{const{curComponentProps:o,cellFuncProps:r}=t;return(0,g.jsx)("div",{className:Et,children:(0,g.jsx)(D,{...o})})}}},Ht=(e,t)=>{const{renderPrams:{text:n}}=e;return(0,g.jsx)("span",{onClick:t?.mainClick,style:t?.mainStyle,children:n})},Bt=e=>{const{setExtendTableCellComp:t}=$t();t(Vt);const{dslConfig:n}=e;let o=Ht.bind(null,e),r=0;for(;r<n.length;){const t=r++,l=Vt[n[t].component];l&&(o=l.Comp.bind(null,o,{curComponentProps:n[t].componentProps||{},cellFuncProps:e}))}return(0,g.jsx)(o,{})};function Nt(e){return e.map((e=>{let t={...e};if("cellFunc"in t){const{cellFunc:e,...n}=t;t={...n,render:function(){const t=(0,Se.A)(e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const[l,a,s]=o,i={text:l,record:a,index:s},c=t?e(i):e;return(0,g.jsx)(Bt,{dslConfig:c,renderPrams:i})}}}return function(e){return"children"in e}(t)&&t.children&&Array.isArray(t.children)&&(t.children=Nt(t.children)),t}))}function Yt(e){const{columns:t}=e.table,n=Nt(t);return console.log(n),{columns:n}}const Wt=e=>{const{extendTableProps:t}=$t();return{tableProps:{...(0,p.A)((0,p.A)({table:{columns:[],fullHeight:!1,autoRequest:!0,pagination:{pageSize:20,total:0,showTotal:e=>`\u5171\uff1a${e} \u6761`,current:1,pageSizeOptions:[10,20,50,100],showSizeChanger:!0,showQuickJumper:!0},requestFields:{pageSize:"pageSize",current:"current"},responseFields:{current:"current",list:"data",total:"total"}},crudFormDialog:void 0,searchForm:{showSearch:!0,items:[]}},t),e)}}};function _t(e,t){const{api:n,formatDataSource:r,autoPagination:l,onChange:a,requestFields:s,responseFields:i}=e.table,c=e.onPaginationChange,{pagination:p,lastPaginationState:d}=function(e){const{pagination:t,autoPagination:n}=e.table,[r,l]=(0,o.useState)(t),a=(0,o.useRef)(t),s=(0,o.useMemo)((()=>r&&(!0===n||void 0===n)||!1),[r]),i={model:r,update:e=>{if(!a.current)return;const t={...a.current,...e};l(t),a.current=t},show:s};return{pagination:i,lastPaginationState:a}}(e),[m,h]=(0,o.useState)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),g=(0,o.useRef)({loading:!1,dataSource:[],selection:[],backupsDataSource:[]}),f={model:m,update:e=>{const n={...g.current,...e};h(n),g.current=n,t.current?.setFormLoading(n.loading)}},x=async e=>{let{searchFormParams:t,paginationParams:o}=e;const l={...t};return n(l).then((e=>{const{list:t}=u(i,e),n=r?r(t):t;f.update({selection:[],dataSource:n}),p.update({current:1,total:t.length})})).finally((()=>{f.update({loading:!1})}))},b=async e=>{let{searchFormParams:t,paginationParams:o}=e;if(f.update({loading:!0,selection:[]}),n){switch(!!d.current){case!0:return!0===l?(async e=>{let{searchFormParams:t,paginationParams:o}=e;const l={...t};if(o){const{current:e,pageSize:t}=o;p.update({current:e,pageSize:t});const n=(e-1)*t,r=n+t,l=g.current.backupsDataSource?.slice(n,r);return f.update({loading:!1,selection:[],dataSource:l})}return n(l).then((e=>{let t=r?r(e):e;const n=[...t],o=0+d.current.pageSize;t=t.slice(0,o),f.update({selection:[],dataSource:t,backupsDataSource:n}),p.update({current:1,total:e.length})})).finally((()=>{f.update({loading:!1})}))})({searchFormParams:t,paginationParams:o}):!1===l?x({searchFormParams:t,paginationParams:o}):(async e=>{let{searchFormParams:t,paginationParams:o}=e;const l={...t,...{[`${s.current}`]:d.current.current,[`${s.pageSize}`]:d.current.pageSize,...o?{[`${s.current}`]:o.current,[`${s.pageSize}`]:o.pageSize}:{}}};return n(l).then((e=>{const{current:t,list:n,total:o}=u(i,e);f.update({dataSource:r?r(n):n}),p.update({total:o,current:t})})).finally((()=>{f.update({loading:!1})}))})({searchFormParams:t,paginationParams:o});case!1:return x({searchFormParams:t,paginationParams:o})}}return f.update({loading:!1})};return{table:f,pagination:p,firstGetTableData:async()=>{(0,o.useEffect)((()=>{const{autoRequest:n}=e.table,{validator:o}=t.current;n&&o().then((e=>{b({searchFormParams:e})}))}),[])},onPaginationChange:(e,n)=>{const{validator:o}=t.current;o().then((t=>{b({searchFormParams:t,paginationParams:{current:e,pageSize:n}})})),c&&c(e,n)},onAllChange:async function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[o,r,l,s]=t,i=[];for(let a=0;a<i.length&&!i[a]();a++);a&&a(r,l,s)},resetData:async()=>{const{resetFields:e,validator:n}=t.current;return e().then((async()=>{const e=await n();return b({searchFormParams:e})}))},resetAllData:async()=>{const{resetFields:e,validator:n}=t.current;return e().then((async()=>{const e={};if(d.current){const{pageSize:t}=d.current;void 0===l&&(e.paginationParams={current:1,pageSize:t})}return e.searchFormParams=await n(),b(e)}))},reloadData:async()=>{const{validator:e}=t.current;return e().then((e=>b({searchFormParams:e})))}}}const Lt=(e,t)=>{const{onRowSelectionChange:n}=e,{rowSelection:o}=e.table,r=()=>{if((0,Ne.A)(o))return{type:o,onChange:(e,o,r)=>{t.update({selection:o}),n&&n(e,o)}};if((0,Be.A)(o)){const{onChange:e}=o;return{...o,onChange:(o,r,l)=>{t.update({selection:r}),e&&e(o,r,l),n&&n(o,r)}}}return o};return{rowSelection:r(),getNewRowSelection:r}};const $t=()=>{const{extendProps:e,extendComp:t}=A();return{extendTableProps:e?.table,setExtendTableCellComp:e=>{const n=t?.tableCellFunc;n&&Object.keys(n).forEach((t=>{const o=n[t];e[t]={Comp:o}}))}}},qt=e=>{let{crudFormDialog:t}=e;return{crudFormDialogRef:(0,o.useRef)(null),crudFormProps:t}};var Gt=n(83003),Ut=n(43237);const Ot="main-container_p10j",Xt="container__toolbar_NGmT",Kt="container__table_tc6f",Zt="container__pagination_pVSm",Jt=(0,o.forwardRef)(((e,t)=>{let{tableProps:n,searchFormRef:r,fullHeight:l}=e;const{columns:a}=Yt(n),s=(0,o.useRef)(null),{table:i,pagination:c,firstGetTableData:u,onPaginationChange:p,onAllChange:d,resetData:m,resetAllData:h,reloadData:f}=_t(n,r),{rowSelection:x}=Lt(n,i),{divRef:b,scroll:P}=function(e,t){const{scroll:n,virtual:r}=e.table,l=(0,o.useRef)(null),[a,s]=(0,o.useState)(0),[i,c]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e=()=>{l.current&&(s(l.current.offsetWidth),c(l.current.offsetHeight))};e();const t=new ResizeObserver(e);return l.current&&t.observe(l.current),()=>{t&&l.current&&t.unobserve(l.current)}}),[]);const u=(0,o.useMemo)((()=>t?r?{x:a,y:i-70,...n}:{x:"max-content",y:i-70,...n}:{x:"max-content",...n}),[i]);return{divRef:l,scroll:u}}(n,l),{getTopToolbarBindProps:y}=function(e,t){const{toolbar:n}=e.table;return{getTopToolbarBindProps:()=>{if((0,Se.A)(n)){const e=n({loading:t.model.loading,selection:t.model.selection});return{...e,disabled:t.model.loading||e.disabled}}return{...n,disabled:t.model.loading||n?.disabled}}}}(n,i);return u(),(0,o.useImperativeHandle)(t,(()=>({resetData:m,resetAllData:h,reloadData:f,...s.current}))),console.log("render Table"),(0,g.jsxs)("div",{className:l?Ot:void 0,children:[(0,g.jsx)("div",{className:Xt,children:(0,g.jsx)(D,{...y()})}),(0,g.jsx)("div",{ref:b,className:l?Kt:void 0,children:(0,g.jsx)(Gt.A,{ref:s,...(()=>{const{autoRequest:e,api:t,formatDataSource:o,autoPagination:r,columns:l,scroll:a,pagination:s,rowSelection:i,onChange:c,...u}=n.table;return u})(),loading:i.model.loading,columns:a,dataSource:i.model.dataSource,pagination:!1,rowSelection:x,scroll:P,onChange:d})}),c.show?(0,g.jsx)("div",{className:Zt,children:(0,g.jsx)(Ut.A,{disabled:i.model.loading,...c.model,onChange:p})}):null]})})),Qt=Jt,en="xph-table-full-wrapper_rusE",tn="full-wrapper__table_IFHV",nn=(e,t)=>{const{tableProps:n}=Wt(e),r=(0,o.useRef)(null),{searchFormRef:l,searchFormProps:a}=function(e){let{searchForm:t}=e;return{searchFormRef:(0,o.useRef)(null),searchFormProps:t}}(n),{crudFormDialogRef:s,crudFormProps:i}=qt(n);let{fullHeight:c}=n.table;const{virtual:u}=n.table;return u&&(c=!0),(0,o.useImperativeHandle)(t,(()=>({...r.current,...s.current}))),(0,g.jsxs)("div",{className:c?en:void 0,children:[(0,g.jsx)("div",{children:(0,g.jsx)(Dt,{ref:l,tableRef:r,...a})}),(0,g.jsx)("div",{className:c?tn:void 0,children:(0,g.jsx)(Qt,{ref:r,searchFormRef:l,fullHeight:c,tableProps:n})}),i?(0,g.jsx)(Mt,{ref:s,...i}):null]})},on=(0,o.forwardRef)(nn),rn=()=>{const e={labelCol:{span:6},wrapperCol:{span:18},items:[{name:"Input",label:"Input",component:"Input",required:!0,colProps:{span:8},initialValue:"Input",componentProps:{onChange:e=>{}}},{name:"render",label:"render",render:e=>{let{model:t,disabled:n,name:o,methods:l,componentProps:a}=e;return(0,g.jsx)("div",{children:(0,g.jsx)(r.A,{disabled:n,value:t[o],onChange:e=>l.setFieldsValue({[o]:e}),...a})})},componentProps:{placeholder:"render"},show:e=>{let{model:t}=e;return"Input"!==t.Input},ifShow:e=>{let{model:t}=e;return t.Input},colProps:{span:8},initialValue:2,rules:[{required:!0,message:"render\u5fc5\u586b"}]},{name:"InputNumber",label:"InputNumber",component:"InputNumber",componentProps:{onBlur:e=>{console.log(e)},onChange:e=>{console.log(e)}},initialValue:2,colProps:{span:8}},{name:"Select",label:"Select",component:"Select",componentProps:{allowClear:!0,placeholder:"Select",options:[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}],onChange:e=>{console.log(e)}},initialValue:"1",colProps:{span:8}},{name:"Transfer",label:"Transfer",component:"Transfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:{dataSource:[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title},colProps:{span:8},rules:[{required:!0,type:"array",message:"Transfer\u5fc5\u586b"}]},{name:"TreeSelect",label:"TreeSelect",component:"TreeSelect",componentProps:{placeholder:"\u8bf7\u9009\u62e9TreeSelect",treeData:[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,g.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}]},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"TreeSelect\u5fc5\u586b"}]},{name:"Switch",label:"Switch",component:"Switch",componentProps:{},initialValue:!0,valuePropName:"checked",colProps:{span:8}},{name:"Radio",label:"Radio",component:"Radio",componentProps:{},valuePropName:"checked",initialValue:!0,colProps:{span:8}},{name:"RadioGroup",label:"RadioGroup",component:"RadioGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:"a",colProps:{span:8}},{name:"RadioButtonGroup",label:"RadioButtonGroup",component:"RadioGroup",componentProps:{optionType:"button",buttonStyle:"solid",options:[{label:"A",value:"a",disabled:!0},{label:"B",value:"b",disabled:!1},{label:"C",value:"c",disabled:!1},{label:"D",value:"d",disabled:!0}]},initialValue:"a",colProps:{span:8}},{name:"Checkbox",label:"Checkbox",component:"Checkbox",componentProps:{},valuePropName:"checked",colProps:{span:8},initialValue:!0},{name:"CheckboxGroup",label:"CheckboxGroup",component:"CheckboxGroup",componentProps:{options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"}]},initialValue:["a"],colProps:{span:8}},{name:"Cascader",label:"Cascader",component:"Cascader",componentProps:{placeholder:"\u8bf7\u9009\u62e9Cascader",options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]}]},initialValue:["zhejiang","hangzhou","xihu"],colProps:{span:8}},{name:"TimePicker",label:"TimePicker",component:"TimePicker",componentProps:{format:"HH:mm",valueFormat:"HH:mm"},initialValue:a()("12:08","HH:mm"),colProps:{span:8},rules:[{validator:async(e,t)=>t?Promise.resolve():Promise.reject("TimePicker\u5fc5\u586b")}]},{name:"DatePicker",label:"DatePicker",component:"DatePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:a()("2021-08-08","YYYY-MM-DD")},{name:"MonthPicker",label:"MonthPicker",component:"MonthPicker",componentProps:{valueFormat:"YYYY-MM"},colProps:{span:8},initialValue:a()("2021-08","YYYY-MM")},{name:"WeekPicker",label:"WeekPicker",component:"WeekPicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss"},colProps:{span:8},initialValue:a()("2021-08-01","YYYY-MM-DD")},{name:"RangePicker",label:"RangePicker",component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},colProps:{span:8},initialValue:[a()("2021-08-01 00:00:00","YYYY-MM-DD HH:mm:ss"),a()("2021-08-08 23:59:59","YYYY-MM-DD HH:mm:ss")]},{name:"InputPassword",label:"InputPassword",component:"InputPassword",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"InputTextArea",label:"InputTextArea",component:"InputTextArea",componentProps:{},colProps:{span:8},initialValue:"123456"},{name:"AutoComplete",label:"AutoComplete",component:"AutoComplete",componentProps:{options:[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}]},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"ApiSelect",label:"ApiSelect",component:"ApiSelect",componentProps:e=>{let{model:t}=e;return{placeholder:"ApiSelect",allowClear:!0,immediate:!0,params:{a:t.Select},api:async e=>(console.log(e,"GET ApiSelect==========================="),[{label:"\u6d4b\u8bd5",value:"1"},{label:"\u6d4b\u8bd52",value:"2"}])}},initialValue:"1",colProps:{span:8}},{name:"ApiTreeSelect",label:"ApiTreeSelect",component:"ApiTreeSelect",componentProps:e=>{let{model:t}=e;return{placeholder:"\u8bf7\u9009\u62e9ApiTreeSelect",params:{a:t.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiTreeSelect==========================="),[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:(0,g.jsx)("b",{style:{color:"#08c"},children:"leaf3"})}]}]}])}},initialValue:"leaf3",colProps:{span:8},rules:[{required:!0,message:"ApiTreeSelect\u5fc5\u586b"}]},{name:"ApiTransfer",label:"ApiTransfer",component:"ApiTransfer",valuePropName:"targetKeys",initialValue:["1"],componentProps:e=>{let{model:t}=e;return{params:{a:t.Select},api:async e=>[{key:"1",title:"\u6807\u98981"},{key:"2",title:"\u6807\u98982"}],render:e=>e.title}},colProps:{span:8},rules:[{required:!0,type:"array",message:"ApiTransfer\u5fc5\u586b"}]},{name:"ApiAutoComplete",label:"ApiAutoComplete",component:"ApiAutoComplete",componentProps:e=>{let{model:t}=e;return{params:{a:t.Select},immediate:!0,api:async e=>(console.log(e,"GET ApiAutoComplete==========================="),[{value:"Burns Bay Road"},{value:"Downing Street"},{value:"Wall Street"}])}},initialValue:"Burns Bay Road",colProps:{span:8}},{name:"Upload",label:"Upload",component:"Upload",componentProps:{children:"\u4e0a\u4f20",showUploadList:{},listType:"picture-card",beforeUpload:e=>!1,onChange(e){const{file:t,fileList:n}=e,{status:o}=t;if("removed"===o)l({Upload:n});else l({Upload:[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]})}},colProps:{span:8},valuePropName:"fileList",initialValue:[],rules:[{validator:async(e,t)=>(console.log("validate=================",t),t&&0===t.length?Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"):Promise.resolve())}]},{name:"AutoUpload",label:"AutoUpload",component:"AutoUpload",componentProps:{maxSize:1,maxCount:2,returnType:"File[]",onChange(e){console.log("AutoUpload onChange========================",e)}},colProps:{span:8},initialValue:[],rules:[{validator:async(e,t)=>(console.log("validate=================",t),t.length?Promise.resolve():Promise.reject("\u8bf7\u4e0a\u4f20\u6587\u4ef6"))}]},{name:"Button",label:"Button",component:"Button",componentProps:{children:"Button",onClick:async()=>{console.log(s(!0)),console.log(l({Input:"Input test",render:23,InputNumber:21,ApiSelect:"2",Select:null,Transfer:[],ApiTransfer:[],ApiTreeSelect:null,TreeSelect:null,Switch:!1,Radio:!1,RadioGroup:"b",RadioButtonGroup:"b",Checkbox:!1,CheckboxGroup:["a"],Cascader:[],TimePicker:"2021-08-01 03:59:59",DatePicker:"2021-08-01",MonthPicker:"2021-09",WeekPicker:"2021-09-02 00:00:00",RangePicker:["2021-08-02","2021-08-07"],InputPassword:"12345678",InputTextArea:"123456789",AutoComplete:"Burns Bay Road Test",ApiAutoComplete:"Burns Bay Road Test",Upload:[],AutoUpload:[]}))}},colProps:{span:8}},{name:"ResetButton",label:"ResetButton",component:"Button",componentProps:{children:"ResetButton",onClick:async()=>{console.log(await i())}},colProps:{span:8}},{name:"ValidateButton",label:"ValidateButton",component:"Button",componentProps:{children:"ValidateButton",onClick:async()=>{console.log(await c())}},colProps:{span:8}}]},t=o.useRef(null),[n,{setFieldsValue:l,getFieldsValue:s,resetFields:i,validator:c}]=Ee();return(0,g.jsx)("div",{style:{minWidth:"1400px"},children:(0,g.jsx)(wt,{register:n,ref:t,...e})})},ln=()=>{const e={table:{rowSelection:{type:"checkbox"},fullHeight:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}}]},{title:"\u5730\u5740",dataIndex:"address",key:"address"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age",cellFunc:e=>{let{record:t}=e;return[{component:"link",componentProps:{url:"https://www.baidu.com"}},{component:"link",componentProps:{onClick:()=>{window.open("https://www.jd.com/")}}}]}},{title:"\u64cd\u4f5c",dataIndex:"actions",cellFunc:e=>{let{record:t}=e;return[{component:"actions",componentProps:{type:"dashed",max:1,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,g.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}}]}}],autoPagination:!0,api:async e=>(console.log(e),new Promise((e=>{setTimeout((()=>{e([{key:"1",name:"\u80e1\u5f66\u658c",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"},{key:"2",name:"\u674e\u96f7",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88572\u53f7"},{key:"3",name:"\u97e9\u6885\u6885",age:30,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def3\u53f7"},{key:"4",name:"\u738b\u5c0f\u660e",age:25,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88574\u53f7"},{key:"5",name:"\u8d75\u4e3d\u9896",age:29,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def5\u53f7"},{key:"6",name:"\u9648\u6653",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed6\u53f7"},{key:"7",name:"\u5218\u4ea6\u83f2",age:27,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u88577\u53f7"},{key:"8",name:"\u5f20\u4e09",age:33,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def8\u53f7"},{key:"9",name:"\u674e\u56db",age:26,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u88579\u53f7"},{key:"10",name:"\u738b\u4e94",age:35,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def10\u53f7"},{key:"11",name:"\u8d75\u516d",age:34,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed11\u53f7"},{key:"12",name:"\u5b59\u4e03",age:28,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885712\u53f7"},{key:"13",name:"\u5468\u516b",age:29,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def13\u53f7"},{key:"14",name:"\u5434\u4e5d",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885714\u53f7"},{key:"15",name:"\u90d1\u5341",age:27,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def15\u53f7"},{key:"16",name:"\u4f55\u5341\u4e00",age:30,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed16\u53f7"},{key:"17",name:"\u51af\u5341\u4e8c",age:33,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885717\u53f7"},{key:"18",name:"\u891a\u5341\u4e09",age:32,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def18\u53f7"},{key:"19",name:"\u536b\u5341\u56db",age:29,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885719\u53f7"},{key:"20",name:"\u848b\u5341\u4e94",age:28,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def20\u53f7"},{key:"21",name:"\u6c88\u5341\u516d",age:31,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed21\u53f7"},{key:"22",name:"\u97e9\u5341\u4e03",age:34,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885722\u53f7"},{key:"23",name:"\u6768\u5341\u516b",age:27,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def23\u53f7"},{key:"24",name:"\u6731\u5341\u4e5d",age:30,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885724\u53f7"},{key:"25",name:"\u79e6\u4e8c\u5341",age:33,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def25\u53f7"},{key:"26",name:"\u5c24\u4e8c\u4e00",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed26\u53f7"},{key:"27",name:"\u8bb8\u4e8c\u4e8c",age:29,address:"\u4e1c\u57ce\u533a\u4e1c\u534e\u95e8\u5927\u885727\u53f7"},{key:"28",name:"\u4f55\u4e8c\u4e09",age:28,address:"\u5357\u5c71\u533a\u5357\u5c71\u8def28\u53f7"},{key:"29",name:"\u5415\u4e8c\u56db",age:31,address:"\u5317\u57ce\u533a\u5317\u95e8\u5927\u885729\u53f7"},{key:"30",name:"\u65bd\u4e8c\u4e94",age:34,address:"\u4e2d\u57ce\u533a\u4e2d\u5c71\u8def30\u53f7"}])}),2e3)}))),toolbar:{type:"primary",max:2,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,g.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]}},searchForm:{colProps:{span:6},collapsible:!0,items:[{name:"Button",label:"\u5f39\u7a97",component:"Button",componentProps:{children:"\u70b9\u51fb\u6253\u5f00\u8868\u683c\u5f39\u7a97",onClick:e=>{console.log(t.current),t.current?.open()}}},{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}},ifShow:e=>{let{model:t}=e;return"Input1"===t.Input2}},{name:"Input2",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input3",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input4",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input5",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}},{name:"Input6",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}}}]},crudFormDialog:{title:"\u5f39\u7a97",mask:!0,getPopperContainer:()=>document.getElementById("docs-comp-table-base"),formProps:{items:[{name:"Input",label:"Input",component:"Input",required:!0,initialValue:"Input",componentProps:{onChange:e=>{console.log(e)}},colProps:{span:12}},{name:"Select",label:"Select",component:"Select",required:!0,componentProps:{options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:e=>{console.log(e)}},colProps:{span:12}}]},onOk:()=>{console.log("onOk"),t.current?.validator()},onCancel:()=>{console.log("onCancel"),t.current?.close()}}},t=(0,o.useRef)(null);return(0,g.jsx)("div",{id:"docs-comp-table-base",style:{minWidth:"1400px",height:"600px",position:"relative"},children:(0,g.jsx)(k,{value:{extendProps:{actions:{type:"link",max:0}}},children:(0,g.jsx)(on,{ref:t,...e,onRowSelectionChange:(e,t)=>{console.log(e,t)}})})})},an=()=>{const e={type:"dashed",max:1,items:[{key:"add",component:"Button",componentProps:{children:"\u6211\u662f\u6309\u94ae",onClick:e=>{console.log(e)}}},{key:"more",component:"Dropdown",componentProps:{children:"\u6211\u662f\u4e0b\u62c9",dropDownItems:[{key:"1",label:"\u6211\u662f\u4e0b\u62c91"},{key:"2",label:"\u6211\u662f\u4e0b\u62c92"}],onClick:e=>{console.log(e)}}},{key:"render",render:(0,g.jsx)("div",{children:"\u6211\u662f\u81ea\u5b9a\u4e49render"})}]};return(0,g.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,g.jsx)(D,{...e})})};var sn=n(71654);const cn=()=>{const e=(0,o.useRef)(null),t=(0,o.useRef)(null),n=(0,o.useRef)(null),r={mask:!0,title:"\u5f39\u7a971\u6807\u9898",width:1e3,getPopperContainer:()=>document.getElementById("dialog-box")},l={mask:!1,title:"\u5f39\u7a972\u6807\u9898",width:500,getPopperContainer:()=>document.getElementById("dialog-box")},a={mask:!1,title:"\u5f39\u7a973\u6807\u9898",getPopperContainer:()=>document.getElementById("dialog-box")},s=(0,o.useRef)(null),i=()=>(console.log("\u6e32\u67d3Content"),(0,g.jsxs)("div",{children:[(0,g.jsx)(g.Fragment,{children:"\u6211\u662f\u5f39\u7a971"}),(0,g.jsx)("div",{children:(0,g.jsx)(sn.A,{})})]}));return(0,g.jsxs)("div",{id:"dialog-box",style:{width:"100%",height:"100%",overflow:"auto",position:"relative"},children:[(0,g.jsx)("button",{onClick:()=>{e.current?.open()},children:"\u70b9\u51fb\u6253\u5f00XphDialog\u5f39\u7a971"}),(0,g.jsx)("button",{onClick:()=>{t.current?.open()},children:"\u70b9\u51fb\u6253\u5f00XphDialog\u5f39\u7a972"}),(0,g.jsx)("button",{onClick:()=>{n.current?.open()},children:"\u70b9\u51fb\u6253\u5f00XphDialog\u5f39\u7a973"}),(0,g.jsx)("button",{onClick:()=>{console.log(s)},children:"\u70b9\u51fb\u6253\u5370\u5b50\u5143\u7d20"}),(0,g.jsx)(ye,{...r,ref:e,children:(0,g.jsx)(i,{})}),(0,g.jsx)(ye,{...l,ref:t,children:(0,g.jsx)(sn.A,{ref:s})}),(0,g.jsx)(ye,{...a,ref:n,children:"\u6211\u662f\u5f39\u7a973"})]})},un={MyButton:e=>{let{children:t}=e;return(0,g.jsx)("button",{children:t})},MyInput:()=>(0,g.jsx)("input",{})},pn=()=>(0,g.jsx)("div",{style:{minWidth:"1400px"},children:(0,g.jsx)(k,{value:{extendComp:{form:un}},children:(0,g.jsx)(wt,{labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyButton",label:"MyButton",component:"MyButton",colProps:{span:8},componentProps:{children:"\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae"}},{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{}}]})})}),dn={MyInput:e=>{const{borderColor:t,onChange:n}=e;return(0,g.jsx)("input",{onInput:e=>{const{target:{value:t}}=e;n&&n(t)},style:{borderColor:t||"black"}})}},mn=()=>{const e={labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{borderColor:"red"}},{name:"Button",label:"\u83b7\u53d6\u8868\u5355\u503c",component:"Button",colProps:{span:8},componentProps:{children:"\u70b9\u51fb\u6211\u83b7\u53d6\u8868\u5355\u7684\u503c",onClick:async()=>{console.log(t.current?.getFieldsValue(!0))}}}]},t=o.useRef(null);return(0,g.jsx)("div",{style:{minWidth:"1400px"},children:(0,g.jsx)(k,{value:{extendComp:{form:dn}},children:(0,g.jsx)(wt,{ref:t,...e})})})},hn={myTag:(e,t,n)=>{const{curComponentProps:o}=t,{borderColor:r="blue",children:l=""}=o;return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",border:`1px solid ${r}`},children:[(0,g.jsx)(e,{...n}),l]})}},gn=()=>{const e={table:{rowSelection:{type:"checkbox"},fullHeight:!0,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name",cellFunc:[{component:"link",componentProps:{url:"https://www.taobao.com"}},{component:"myTag",componentProps:{children:"\u968f\u4fbf\u52a0\u7684\u5185\u5bb9",borderColor:"orange"}}]}],autoPagination:!0,api:async e=>new Promise((e=>{setTimeout((()=>{e([{key:"1",name:"\u80e1\u5f66\u658c",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"}])}),2e3)}))}};return(0,g.jsx)("div",{style:{minWidth:"800px",height:"300px"},children:(0,g.jsx)(k,{value:{extendComp:{tableCellFunc:hn}},children:(0,g.jsx)(on,{...e})})})},fn={MyButton:e=>{let{componentProps:t,component:n}=e;console.log(n);const{children:o,onClick:r}=t;return(0,g.jsx)("button",{onClick:r,children:o})}},xn=()=>{const e={type:"dashed",max:1,items:[{component:"MyButton",componentProps:{children:"\u6211\u662f\u81ea\u5b9a\u4e49\u7684\u6309\u94ae",onClick:e=>{console.log(e)}}}]};return(0,g.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,g.jsx)(k,{value:{extendComp:{actions:fn}},children:(0,g.jsx)(D,{...e})})})},bn={MyInput:e=>{const{borderColor:t,onChange:n}=e;return(0,g.jsx)("input",{onInput:e=>{const{target:{value:t}}=e;n&&n(t)},style:{borderColor:t||"black"}})}},Pn=()=>(0,g.jsx)("div",{style:{minWidth:"1400px"},children:(0,g.jsx)(k,{value:{extendComp:{form:bn}},children:(0,g.jsx)(wt,{labelCol:{span:6},wrapperCol:{span:18},items:[{name:"MyInput",label:"MyInput",component:"MyInput",colProps:{span:8},componentProps:{borderColor:"red"}}]})})})}}]);